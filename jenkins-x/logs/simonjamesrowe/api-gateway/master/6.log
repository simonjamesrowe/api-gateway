
Showing logs for build [32msimonjamesrowe-api-gateway-mast-c9p67-6[0m stage [32mfrom-build-pack[0m and container [32mcredential-initializer[0m
{"level":"info","ts":1610489943.7545118,"caller":"creds-init/main.go:44","msg":"Credentials initialized."}

Showing logs for build [32msimonjamesrowe-api-gateway-mast-c9p67-6[0m stage [32mfrom-build-pack[0m and container [32mworking-dir-initializer[0m

Showing logs for build [32msimonjamesrowe-api-gateway-mast-c9p67-6[0m stage [32mfrom-build-pack[0m and container [32mplace-tools[0m

Showing logs for build [32msimonjamesrowe-api-gateway-mast-c9p67-6[0m stage [32mfrom-build-pack[0m and container [32mstep-git-source-simonjamesrowe-api-gateway-mast-c9p67-mz4k6[0m
{"level":"info","ts":1610489953.2421756,"caller":"git/git.go:105","msg":"Successfully cloned https://github.com/simonjamesrowe/api-gateway.git @ v0.0.11 in path /workspace/source"}
{"level":"warn","ts":1610489953.2424023,"caller":"git/git.go:152","msg":"Unexpected error: creating symlink: symlink /tekton/home/.ssh /****/.ssh: file exists"}
{"level":"info","ts":1610489953.2946718,"caller":"git/git.go:133","msg":"Successfully initialized and updated submodules in path /workspace/source"}

Showing logs for build [32msimonjamesrowe-api-gateway-mast-c9p67-6[0m stage [32mfrom-build-pack[0m and container [32mstep-setup-builder-home[0m

Showing logs for build [32msimonjamesrowe-api-gateway-mast-c9p67-6[0m stage [32mfrom-build-pack[0m and container [32mstep-git-merge[0m
Using SHAs from PULL_REFS=master:e6bec3cc10ea74d614bed0c74aec4ffcce4f0989
WARNING: no SHAs to merge, falling back to initial cloned commit

Showing logs for build [32msimonjamesrowe-api-gateway-mast-c9p67-6[0m stage [32mfrom-build-pack[0m and container [32mstep-setup-jx-git-credentials[0m
Generated Git credentials file /workspace/xdg_config/git/credentials

Showing logs for build [32msimonjamesrowe-api-gateway-mast-c9p67-6[0m stage [32mfrom-build-pack[0m and container [32mstep-build-mvn-deploy[0m
Picked up _JAVA_OPTIONS: -XX:+UnlockExperimentalVMOptions -Dsun.zip.disableMemoryMapping=true -XX:+UseParallelGC -XX:MinHeapFreeRatio=5 -XX:MaxHeapFreeRatio=10 -XX:GCTimeRatio=4 -XX:AdaptiveSizePolicyWeight=90 -Xms10m -Xmx192m
[INFO] Scanning for projects...
[INFO] 
[INFO] -------------------< com.simonjamesrowe:api-gateway >-------------------
[INFO] Building api-gateway 0.0.11
[INFO] --------------------------------[ jar ]---------------------------------
[WARNING] The POM for com.sun.xml.bind:jaxb-osgi:jar:2.2.10 is invalid, transitive dependencies (if any) will not be available, enable debug logging for more details
[INFO] 
[INFO] --- maven-clean-plugin:3.1.0:clean (default-clean) @ api-gateway ---
[INFO] 
[INFO] --- maven-resources-plugin:3.2.0:resources (default-resources) @ api-gateway ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Using 'UTF-8' encoding to copy filtered properties files.
[INFO] Copying 1 resource
[INFO] Copying 0 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.8.1:compile (default-compile) @ api-gateway ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- kotlin-maven-plugin:1.4.21:compile (compile) @ api-gateway ---
[INFO] Applied plugin: 'spring'
WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by com.intellij.util.ReflectionUtil (file:/home/jenkins/.mvnrepository/org/jetbrains/kotlin/kotlin-compiler/1.4.21/kotlin-compiler-1.4.21.jar) to method java.util.ResourceBundle.setParent(java.util.ResourceBundle)
WARNING: Please consider reporting this to the maintainers of com.intellij.util.ReflectionUtil
WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations
WARNING: All illegal access operations will be denied in a future release
[WARNING] /workspace/source/src/main/kotlin/com/simonjamesrowe/apigateway/ApiGatewayApplication.kt: (5, 52) 'EnableBinding' is deprecated. Deprecated in Java
[WARNING] /workspace/source/src/main/kotlin/com/simonjamesrowe/apigateway/controller/UploadController.kt: (45, 94) Unchecked cast: ResponseEntity<ByteArray> to ResponseEntity<ByteArray?>
[WARNING] /workspace/source/src/main/kotlin/com/simonjamesrowe/apigateway/controller/UploadController.kt: (55, 86) Unchecked cast: ResponseEntity<ByteArray> to ResponseEntity<ByteArray?>
[INFO] 
[INFO] --- maven-resources-plugin:3.2.0:testResources (default-testResources) @ api-gateway ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Using 'UTF-8' encoding to copy filtered properties files.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.8.1:testCompile (default-testCompile) @ api-gateway ---
[INFO] Changes detected - recompiling the module!
[INFO] 
[INFO] --- kotlin-maven-plugin:1.4.21:test-compile (test-compile) @ api-gateway ---
[INFO] Applied plugin: 'spring'
[INFO] 
[INFO] --- maven-surefire-plugin:3.0.0-M1:test (default-test) @ api-gateway ---
[INFO] 
[INFO] -------------------------------------------------------
[INFO]  T E S T S
[INFO] -------------------------------------------------------
[INFO] Running com.simonjamesrowe.apigateway.ApiGatewayApplicationTests
22:20:22.287 [main] DEBUG org.testcontainers.utility.TestcontainersConfiguration - Testcontainers configuration overrides will be loaded from file:/****/.testcontainers.properties
22:20:22.314 [main] WARN org.testcontainers.utility.TestcontainersConfiguration - Attempted to read Testcontainers configuration file at file:/****/.testcontainers.properties but the file was not found. Exception message: FileNotFoundException: /****/.testcontainers.properties (No such file or directory)
22:20:22.323 [main] DEBUG org.testcontainers.utility.TestcontainersConfiguration - Testcontainers configuration overrides will be loaded from jar:file:/home/jenkins/.mvnrepository/com/simonjamesrowe/component-test/0.0.7/component-test-0.0.7.jar!/testcontainers.properties
22:20:22.433 [main] INFO org.testcontainers.dockerclient.DockerMachineClientProviderStrategy - docker-machine executable was not found on PATH ([/opt/apache-maven-3.6.3/bin, /home/jenkins/.**/bin, /usr/local/git/bin, /usr/local/sbin, /usr/local/bin, /usr/sbin, /usr/bin, /sbin, /bin, /usr/bin/google-cloud-sdk/bin, /opt/google/chrome])
22:20:22.433 [main] DEBUG org.testcontainers.dockerclient.RootlessDockerClientProviderStrategy - $XDG_RUNTIME_DIR is not set.
22:20:22.435 [main] DEBUG org.testcontainers.dockerclient.RootlessDockerClientProviderStrategy - '/****/.docker/run' does not exist.
22:20:22.523 [main] DEBUG org.testcontainers.dockerclient.RootlessDockerClientProviderStrategy - '/run/user/0' does not exist.
22:20:23.825 [ducttape-0] DEBUG org.testcontainers.dockerclient.DockerClientProviderStrategy - Pinging docker daemon...
22:20:23.913 [ducttape-0] DEBUG org.testcontainers.shaded.com.github.dockerjava.core.command.AbstrDockerCmd - Cmd: 
22:20:24.603 [main] INFO org.testcontainers.dockerclient.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
22:20:24.604 [main] DEBUG org.testcontainers.dockerclient.DockerClientProviderStrategy - Transport type: 'okhttp', Docker host: 'unix:///var/run/docker.sock'
22:20:24.604 [main] DEBUG org.testcontainers.dockerclient.DockerClientProviderStrategy - Checking Docker OS type for local Unix socket (unix:///var/run/docker.sock)
22:20:24.686 [main] INFO org.testcontainers.DockerClientFactory - Docker host IP address is 192.168.4.23
22:20:24.694 [main] DEBUG org.testcontainers.shaded.com.github.dockerjava.core.command.AbstrDockerCmd - Cmd: 
22:20:24.729 [main] DEBUG org.testcontainers.shaded.com.github.dockerjava.core.command.AbstrDockerCmd - Cmd: 
22:20:24.790 [main] INFO org.testcontainers.DockerClientFactory - Connected to docker: 
  Server Version: 20.10.0-beta1
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 24053 MB
22:20:24.791 [main] DEBUG org.testcontainers.DockerClientFactory - Ryuk is enabled
22:20:24.798 [main] INFO org.testcontainers.utility.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
22:20:24.804 [main] DEBUG org.testcontainers.utility.PrefixingImageNameSubstitutor - No prefix is configured
22:20:24.804 [main] DEBUG org.testcontainers.utility.ImageNameSubstitutor - Did not find a substitute image for testcontainers/ryuk:0.3.0 (using image substitutor: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor'))
22:20:24.810 [main] DEBUG org.testcontainers.shaded.com.github.dockerjava.core.command.AbstrDockerCmd - Cmd: testcontainers/ryuk:0.3.0
22:20:25.012 [main] DEBUG org.testcontainers.utility.RegistryAuthLocator - Looking up auth config for image: testcontainers/ryuk:0.3.0 at registry: index.*********
22:20:25.014 [main] DEBUG org.testcontainers.utility.RegistryAuthLocator - RegistryAuthLocator has configFile: /home/jenkins/.docker/config.json (exists) and commandPathPrefix: 
22:20:25.019 [main] DEBUG org.testcontainers.utility.RegistryAuthLocator - registryName [index.*********] for dockerImageName [testcontainers/ryuk:0.3.0]
22:20:25.021 [main] DEBUG org.testcontainers.utility.RegistryAuthLocator - No matching Auth Configs - falling back to defaultAuthConfig [null]
22:20:25.021 [main] DEBUG org.testcontainers.dockerclient.AuthDelegatingDockerClientConfig - Effective auth config [null]
22:20:25.085 [main] DEBUG org.testcontainers.shaded.com.github.dockerjava.core.command.AbstrDockerCmd - Cmd: org.testcontainers.shaded.com.github.dockerjava.core.command.CreateContainerCmdImpl@2fd1731c[name=testcontainers-ryuk-5dd73cb7-679d-41d0-b80e-a6a0d1fbdf5b,hostName=<null>,domainName=<null>,user=<null>,attachStdin=<null>,attachStdout=<null>,attachStderr=<null>,portSpecs=<null>,tty=<null>,stdinOpen=<null>,stdInOnce=<null>,env=<null>,cmd=<null>,healthcheck=<null>,argsEscaped=<null>,entrypoint=<null>,image=testcontainers/ryuk:0.3.0,volumes=com.github.dockerjava.api.model.Volumes@1133ec6e,workingDir=<null>,macAddress=<null>,onBuild=<null>,networkDisabled=<null>,exposedPorts=com.github.dockerjava.api.model.ExposedPorts@355e34c7,stopSignal=<null>,stopTimeout=<null>,hostConfig=HostConfig(binds=[/var/run/docker.sock:/var/run/docker.sock:rw], blkioWeight=null, blkioWeightDevice=null, blkioDeviceReadBps=null, blkioDeviceWriteBps=null, blkioDeviceReadIOps=null, blkioDeviceWriteIOps=null, memorySwappiness=null, nanoCPUs=null, capAdd=null, capDrop=null, containerIDFile=null, cpuPeriod=null, cpuRealtimePeriod=null, cpuRealtimeRuntime=null, cpuShares=null, cpuQuota=null, cpusetCpus=null, cpusetMems=null, devices=null, deviceCgroupRules=null, deviceRequests=null, diskQuota=null, dns=null, dnsOptions=null, dnsSearch=null, extraHosts=null, groupAdd=null, ipcMode=null, cgroup=null, links=[], logConfig=LogConfig(type=null, config=null), lxcConf=null, memory=null, memorySwap=null, memoryReservation=null, kernelMemory=null, networkMode=null, oomKillDisable=null, init=null, autoRemove=true, oomScoreAdj=null, portBindings=null, privileged=false, publishAllPorts=true, readonlyRootfs=null, restartPolicy=null, ulimits=null, cpuCount=null, cpuPercent=null, ioMaximumIOps=null, ioMaximumBandwidth=null, volumesFrom=null, mounts=null, pidMode=null, isolation=null, securityOpts=null, storageOpt=null, cgroupParent=null, volumeDriver=null, shmSize=null, pidsLimit=null, runtime=null, tmpFs=null, utSMode=null, usernsMode=null, sysctls=null, consoleSize=null),labels={org.testcontainers=true},shell=<null>,networkingConfig=<null>,ipv4Address=<null>,ipv6Address=<null>,aliases=<null>,authConfig=<null>]
22:20:25.373 [main] DEBUG org.testcontainers.shaded.com.github.dockerjava.core.command.AbstrDockerCmd - Cmd: 693cbd6ff048bb1a990c85c4e74f2cd81d5a2ec8a297bb2f8dad63d4e7286eae
22:20:25.770 [main] DEBUG org.testcontainers.shaded.com.github.dockerjava.core.command.AbstrDockerCmd - Cmd: 693cbd6ff048bb1a990c85c4e74f2cd81d5a2ec8a297bb2f8dad63d4e7286eae,false
22:20:25.771 [main] DEBUG org.testcontainers.shaded.com.github.dockerjava.core.exec.InspectContainerCmdExec - GET: DefaultWebTarget{path=[/containers/693cbd6ff048bb1a990c85c4e74f2cd81d5a2ec8a297bb2f8dad63d4e7286eae/json], queryParams={}}
22:20:26.009 [testcontainers-ryuk] DEBUG org.testcontainers.utility.ResourceReaper - Sending 'label=org.testcontainers%3Dtrue&label=org.testcontainers.sessionId%3D5dd73cb7-679d-41d0-b80e-a6a0d1fbdf5b' to Ryuk
22:20:26.013 [testcontainers-ryuk] DEBUG org.testcontainers.utility.ResourceReaper - Received 'ACK' from Ryuk
22:20:26.114 [main] INFO org.testcontainers.DockerClientFactory - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
22:20:26.114 [main] DEBUG org.testcontainers.DockerClientFactory - Checks are enabled
22:20:26.114 [main] INFO org.testcontainers.DockerClientFactory - Checking the system...
22:20:26.116 [main] INFO org.testcontainers.DockerClientFactory - ‚úîÔ∏é Docker server version should be at least 1.6.0
22:20:26.119 [main] DEBUG org.testcontainers.shaded.com.github.dockerjava.core.command.AbstrDockerCmd - Cmd: 693cbd6ff048bb1a990c85c4e74f2cd81d5a2ec8a297bb2f8dad63d4e7286eae,<null>,true,<null>,<null>,<null>,<null>,{df,-P},<null>,<null>
22:20:26.305 [main] INFO org.testcontainers.DockerClientFactory - ‚úîÔ∏é Docker environment should have more than 2GB free disk space
22:20:26.308 [main] DEBUG org.testcontainers.shaded.com.github.dockerjava.core.command.AbstrDockerCmd - Cmd: bridge
22:20:26.386 [main] DEBUG org.testcontainers.utility.PrefixingImageNameSubstitutor - No prefix is configured
22:20:26.386 [main] DEBUG org.testcontainers.utility.ImageNameSubstitutor - Did not find a substitute image for confluentinc/cp-kafka:latest (using image substitutor: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor'))
22:20:26.396 [main] DEBUG org.testcontainers.shaded.com.github.dockerjava.core.command.AbstrDockerCmd - Cmd: ListImagesCmdImpl[imageNameFilter=<null>,showAll=false,filters=org.testcontainers.shaded.com.github.dockerjava.core.util.FiltersBuilder@0]
22:20:26.491 [main] DEBUG üê≥ [confluentinc/cp-kafka:latest] - confluentinc/cp-kafka:latest is not in image name cache, updating...
22:20:26.491 [main] DEBUG org.testcontainers.shaded.com.github.dockerjava.core.command.AbstrDockerCmd - Cmd: confluentinc/cp-kafka:latest
22:20:26.586 [main] DEBUG org.testcontainers.images.AbstractImagePullPolicy - Using locally available and not pulling image: confluentinc/cp-kafka:latest
22:20:26.587 [main] DEBUG üê≥ [confluentinc/cp-kafka:latest] - Starting container: confluentinc/cp-kafka:latest
22:20:26.588 [main] DEBUG üê≥ [confluentinc/cp-kafka:latest] - Trying to start container: confluentinc/cp-kafka:latest (attempt 1/1)
22:20:26.589 [main] DEBUG üê≥ [confluentinc/cp-kafka:latest] - Starting container: confluentinc/cp-kafka:latest
22:20:26.589 [main] INFO üê≥ [confluentinc/cp-kafka:latest] - Creating container for image: confluentinc/cp-kafka:latest
22:20:26.590 [main] DEBUG org.testcontainers.utility.RegistryAuthLocator - Looking up auth config for image: confluentinc/cp-kafka:latest at registry: index.*********
22:20:26.590 [main] DEBUG org.testcontainers.utility.RegistryAuthLocator - No matching Auth Configs - falling back to defaultAuthConfig [null]
22:20:26.590 [main] DEBUG org.testcontainers.dockerclient.AuthDelegatingDockerClientConfig - Effective auth config [null]
22:20:26.611 [main] DEBUG org.testcontainers.shaded.com.github.dockerjava.core.command.AbstrDockerCmd - Cmd: org.testcontainers.shaded.com.github.dockerjava.core.command.CreateContainerCmdImpl@1a1d3c1a[name=<null>,hostName=<null>,domainName=<null>,user=<null>,attachStdin=<null>,attachStdout=<null>,attachStderr=<null>,portSpecs=<null>,tty=<null>,stdinOpen=<null>,stdInOnce=<null>,env={KAFKA_LOG_FLUSH_INTERVAL_MESSAGES=9223372036854775807,KAFKA_BROKER_ID=1,KAFKA_OFFSETS_TOPIC_NUM_PARTITIONS=1,KAFKA_LISTENERS=PLAINTEXT://0.0.0.0:9093,BROKER://0.0.0.0:9092,KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR=1,KAFKA_INTER_BROKER_LISTENER_NAME=BROKER,KAFKA_LISTENER_SECURITY_PROTOCOL_MAP=BROKER:PLAINTEXT,PLAINTEXT:PLAINTEXT,KAFKA_GROUP_INITIAL_REBALANCE_DELAY_MS=0},cmd={sh,-c,while [ ! -f /testcontainers_start.sh ]; do sleep 0.1; done; /testcontainers_start.sh},healthcheck=<null>,argsEscaped=<null>,entrypoint=<null>,image=confluentinc/cp-kafka:latest,volumes=com.github.dockerjava.api.model.Volumes@1c65121,workingDir=<null>,macAddress=<null>,onBuild=<null>,networkDisabled=<null>,exposedPorts=com.github.dockerjava.api.model.ExposedPorts@159e366,stopSignal=<null>,stopTimeout=<null>,hostConfig=HostConfig(binds=[], blkioWeight=null, blkioWeightDevice=null, blkioDeviceReadBps=null, blkioDeviceWriteBps=null, blkioDeviceReadIOps=null, blkioDeviceWriteIOps=null, memorySwappiness=null, nanoCPUs=null, capAdd=null, capDrop=null, containerIDFile=null, cpuPeriod=null, cpuRealtimePeriod=null, cpuRealtimeRuntime=null, cpuShares=null, cpuQuota=null, cpusetCpus=null, cpusetMems=null, devices=null, deviceCgroupRules=null, deviceRequests=null, diskQuota=null, dns=null, dnsOptions=null, dnsSearch=null, extraHosts=[], groupAdd=null, ipcMode=null, cgroup=null, links=[], logConfig=LogConfig(type=null, config=null), lxcConf=null, memory=null, memorySwap=null, memoryReservation=null, kernelMemory=null, networkMode=null, oomKillDisable=null, init=null, autoRemove=null, oomScoreAdj=null, portBindings={}, privileged=null, publishAllPorts=true, readonlyRootfs=null, restartPolicy=null, ulimits=null, cpuCount=null, cpuPercent=null, ioMaximumIOps=null, ioMaximumBandwidth=null, volumesFrom=[], mounts=null, pidMode=null, isolation=null, securityOpts=null, storageOpt=null, cgroupParent=null, volumeDriver=null, shmSize=null, pidsLimit=null, runtime=null, tmpFs=null, utSMode=null, usernsMode=null, sysctls=null, consoleSize=null),labels={org.testcontainers=true, org.testcontainers.sessionId=5dd73cb7-679d-41d0-b80e-a6a0d1fbdf5b},shell=<null>,networkingConfig=<null>,ipv4Address=<null>,ipv6Address=<null>,aliases=<null>,authConfig=<null>]
22:20:26.875 [main] INFO üê≥ [confluentinc/cp-kafka:latest] - Starting container with ID: 9d00d4ebc91f224b755c609e8091f7f1bd800cc3faf5c048a8ab3527509631fa
22:20:26.875 [main] DEBUG org.testcontainers.shaded.com.github.dockerjava.core.command.AbstrDockerCmd - Cmd: 9d00d4ebc91f224b755c609e8091f7f1bd800cc3faf5c048a8ab3527509631fa
22:20:27.244 [main] INFO üê≥ [confluentinc/cp-kafka:latest] - Container confluentinc/cp-kafka:latest is starting: 9d00d4ebc91f224b755c609e8091f7f1bd800cc3faf5c048a8ab3527509631fa
22:20:27.246 [main] DEBUG org.testcontainers.shaded.com.github.dockerjava.core.command.AbstrDockerCmd - Cmd: 9d00d4ebc91f224b755c609e8091f7f1bd800cc3faf5c048a8ab3527509631fa,false
22:20:27.246 [main] DEBUG org.testcontainers.shaded.com.github.dockerjava.core.exec.InspectContainerCmdExec - GET: DefaultWebTarget{path=[/containers/9d00d4ebc91f224b755c609e8091f7f1bd800cc3faf5c048a8ab3527509631fa/json], queryParams={}}
22:20:27.265 [main] DEBUG org.testcontainers.shaded.com.github.dockerjava.core.command.AbstrDockerCmd - Cmd: 9d00d4ebc91f224b755c609e8091f7f1bd800cc3faf5c048a8ab3527509631fa,false
22:20:27.266 [main] DEBUG org.testcontainers.shaded.com.github.dockerjava.core.exec.InspectContainerCmdExec - GET: DefaultWebTarget{path=[/containers/9d00d4ebc91f224b755c609e8091f7f1bd800cc3faf5c048a8ab3527509631fa/json], queryParams={}}
22:20:27.275 [main] DEBUG org.testcontainers.shaded.com.github.dockerjava.core.command.AbstrDockerCmd - Cmd: 9d00d4ebc91f224b755c609e8091f7f1bd800cc3faf5c048a8ab3527509631fa,false
22:20:27.276 [main] DEBUG org.testcontainers.shaded.com.github.dockerjava.core.exec.InspectContainerCmdExec - GET: DefaultWebTarget{path=[/containers/9d00d4ebc91f224b755c609e8091f7f1bd800cc3faf5c048a8ab3527509631fa/json], queryParams={}}
22:20:27.306 [main] DEBUG org.testcontainers.shaded.com.github.dockerjava.core.command.AbstrDockerCmd - Cmd: org.testcontainers.shaded.com.github.dockerjava.core.command.CopyArchiveToContainerCmdImpl@51671b08[cp ,<null>, ,9d00d4ebc91f224b755c609e8091f7f1bd800cc3faf5c048a8ab3527509631fa,:,/]
22:20:27.485 [ducttape-0] DEBUG org.testcontainers.shaded.com.github.dockerjava.core.command.AbstrDockerCmd - Cmd: 9d00d4ebc91f224b755c609e8091f7f1bd800cc3faf5c048a8ab3527509631fa,false
22:20:27.485 [ducttape-0] DEBUG org.testcontainers.shaded.com.github.dockerjava.core.exec.InspectContainerCmdExec - GET: DefaultWebTarget{path=[/containers/9d00d4ebc91f224b755c609e8091f7f1bd800cc3faf5c048a8ab3527509631fa/json], queryParams={}}
22:20:27.508 [ducttape-0] DEBUG org.testcontainers.containers.ExecInContainerPattern - /strange_shaw: Running "exec" command: /bin/sh -c true &&  (cat /proc/net/tcp* | awk '{print $2}' | grep -i ':0*2385' || nc -vz -w 1 localhost 9093 || /bin/bash -c '</dev/tcp/localhost/9093') &&  (cat /proc/net/tcp* | awk '{print $2}' | grep -i ':0*885' || nc -vz -w 1 localhost 2181 || /bin/bash -c '</dev/tcp/localhost/2181')
22:20:27.508 [ducttape-0] DEBUG org.testcontainers.shaded.com.github.dockerjava.core.command.AbstrDockerCmd - Cmd: 9d00d4ebc91f224b755c609e8091f7f1bd800cc3faf5c048a8ab3527509631fa,<null>,true,true,<null>,<null>,<null>,{/bin/sh,-c,true &&  (cat /proc/net/tcp* | awk '{print $2}' | grep -i ':0*2385' || nc -vz -w 1 localhost 9093 || /bin/bash -c '</dev/tcp/localhost/9093') &&  (cat /proc/net/tcp* | awk '{print $2}' | grep -i ':0*885' || nc -vz -w 1 localhost 2181 || /bin/bash -c '</dev/tcp/localhost/2181')},<null>,<null>
22:20:27.700 [ducttape-0] DEBUG org.testcontainers.shaded.com.github.dockerjava.core.command.AbstrDockerCmd - Cmd: 1f0ef6f89ef134b799f2f606bf3e1f755b0400fbfc9ef2184442ce062d4eb5f8
22:20:27.702 [ducttape-0] DEBUG org.testcontainers.shaded.com.github.dockerjava.core.exec.InspectExecCmdExec - GET: DefaultWebTarget{path=[/exec/1f0ef6f89ef134b799f2f606bf3e1f755b0400fbfc9ef2184442ce062d4eb5f8/json], queryParams={}}
22:20:28.721 [ducttape-0] DEBUG org.testcontainers.containers.ExecInContainerPattern - /strange_shaw: Running "exec" command: /bin/sh -c true &&  (cat /proc/net/tcp* | awk '{print $2}' | grep -i ':0*2385' || nc -vz -w 1 localhost 9093 || /bin/bash -c '</dev/tcp/localhost/9093') &&  (cat /proc/net/tcp* | awk '{print $2}' | grep -i ':0*885' || nc -vz -w 1 localhost 2181 || /bin/bash -c '</dev/tcp/localhost/2181')
22:20:28.721 [ducttape-0] DEBUG org.testcontainers.shaded.com.github.dockerjava.core.command.AbstrDockerCmd - Cmd: 9d00d4ebc91f224b755c609e8091f7f1bd800cc3faf5c048a8ab3527509631fa,<null>,true,true,<null>,<null>,<null>,{/bin/sh,-c,true &&  (cat /proc/net/tcp* | awk '{print $2}' | grep -i ':0*2385' || nc -vz -w 1 localhost 9093 || /bin/bash -c '</dev/tcp/localhost/9093') &&  (cat /proc/net/tcp* | awk '{print $2}' | grep -i ':0*885' || nc -vz -w 1 localhost 2181 || /bin/bash -c '</dev/tcp/localhost/2181')},<null>,<null>
22:20:28.893 [ducttape-0] DEBUG org.testcontainers.shaded.com.github.dockerjava.core.command.AbstrDockerCmd - Cmd: 34fe42e2d1a5b8d7bdc94839e5e0dfaa4a1ed8be8ddce9965a5969523f208856
22:20:28.894 [ducttape-0] DEBUG org.testcontainers.shaded.com.github.dockerjava.core.exec.InspectExecCmdExec - GET: DefaultWebTarget{path=[/exec/34fe42e2d1a5b8d7bdc94839e5e0dfaa4a1ed8be8ddce9965a5969523f208856/json], queryParams={}}
22:20:29.906 [ducttape-0] DEBUG org.testcontainers.containers.ExecInContainerPattern - /strange_shaw: Running "exec" command: /bin/sh -c true &&  (cat /proc/net/tcp* | awk '{print $2}' | grep -i ':0*2385' || nc -vz -w 1 localhost 9093 || /bin/bash -c '</dev/tcp/localhost/9093') &&  (cat /proc/net/tcp* | awk '{print $2}' | grep -i ':0*885' || nc -vz -w 1 localhost 2181 || /bin/bash -c '</dev/tcp/localhost/2181')
22:20:29.906 [ducttape-0] DEBUG org.testcontainers.shaded.com.github.dockerjava.core.command.AbstrDockerCmd - Cmd: 9d00d4ebc91f224b755c609e8091f7f1bd800cc3faf5c048a8ab3527509631fa,<null>,true,true,<null>,<null>,<null>,{/bin/sh,-c,true &&  (cat /proc/net/tcp* | awk '{print $2}' | grep -i ':0*2385' || nc -vz -w 1 localhost 9093 || /bin/bash -c '</dev/tcp/localhost/9093') &&  (cat /proc/net/tcp* | awk '{print $2}' | grep -i ':0*885' || nc -vz -w 1 localhost 2181 || /bin/bash -c '</dev/tcp/localhost/2181')},<null>,<null>
22:20:30.028 [ducttape-0] DEBUG org.testcontainers.shaded.com.github.dockerjava.core.command.AbstrDockerCmd - Cmd: de5805f14b071180561ac76203b2cc76389093afe356395a7aab364b16f7f466
22:20:30.029 [ducttape-0] DEBUG org.testcontainers.shaded.com.github.dockerjava.core.exec.InspectExecCmdExec - GET: DefaultWebTarget{path=[/exec/de5805f14b071180561ac76203b2cc76389093afe356395a7aab364b16f7f466/json], queryParams={}}
22:20:31.049 [ducttape-0] DEBUG org.testcontainers.containers.ExecInContainerPattern - /strange_shaw: Running "exec" command: /bin/sh -c true &&  (cat /proc/net/tcp* | awk '{print $2}' | grep -i ':0*2385' || nc -vz -w 1 localhost 9093 || /bin/bash -c '</dev/tcp/localhost/9093') &&  (cat /proc/net/tcp* | awk '{print $2}' | grep -i ':0*885' || nc -vz -w 1 localhost 2181 || /bin/bash -c '</dev/tcp/localhost/2181')
22:20:31.049 [ducttape-0] DEBUG org.testcontainers.shaded.com.github.dockerjava.core.command.AbstrDockerCmd - Cmd: 9d00d4ebc91f224b755c609e8091f7f1bd800cc3faf5c048a8ab3527509631fa,<null>,true,true,<null>,<null>,<null>,{/bin/sh,-c,true &&  (cat /proc/net/tcp* | awk '{print $2}' | grep -i ':0*2385' || nc -vz -w 1 localhost 9093 || /bin/bash -c '</dev/tcp/localhost/9093') &&  (cat /proc/net/tcp* | awk '{print $2}' | grep -i ':0*885' || nc -vz -w 1 localhost 2181 || /bin/bash -c '</dev/tcp/localhost/2181')},<null>,<null>
22:20:31.178 [ducttape-0] DEBUG org.testcontainers.shaded.com.github.dockerjava.core.command.AbstrDockerCmd - Cmd: 2e55939b29a06eaf07f60f786e31ae4096dfde9b4ae38d3101d5c46cb7bc30ae
22:20:31.179 [ducttape-0] DEBUG org.testcontainers.shaded.com.github.dockerjava.core.exec.InspectExecCmdExec - GET: DefaultWebTarget{path=[/exec/2e55939b29a06eaf07f60f786e31ae4096dfde9b4ae38d3101d5c46cb7bc30ae/json], queryParams={}}
22:20:32.187 [ducttape-0] DEBUG org.testcontainers.containers.ExecInContainerPattern - /strange_shaw: Running "exec" command: /bin/sh -c true &&  (cat /proc/net/tcp* | awk '{print $2}' | grep -i ':0*2385' || nc -vz -w 1 localhost 9093 || /bin/bash -c '</dev/tcp/localhost/9093') &&  (cat /proc/net/tcp* | awk '{print $2}' | grep -i ':0*885' || nc -vz -w 1 localhost 2181 || /bin/bash -c '</dev/tcp/localhost/2181')
22:20:32.187 [ducttape-0] DEBUG org.testcontainers.shaded.com.github.dockerjava.core.command.AbstrDockerCmd - Cmd: 9d00d4ebc91f224b755c609e8091f7f1bd800cc3faf5c048a8ab3527509631fa,<null>,true,true,<null>,<null>,<null>,{/bin/sh,-c,true &&  (cat /proc/net/tcp* | awk '{print $2}' | grep -i ':0*2385' || nc -vz -w 1 localhost 9093 || /bin/bash -c '</dev/tcp/localhost/9093') &&  (cat /proc/net/tcp* | awk '{print $2}' | grep -i ':0*885' || nc -vz -w 1 localhost 2181 || /bin/bash -c '</dev/tcp/localhost/2181')},<null>,<null>
22:20:32.341 [ducttape-0] DEBUG org.testcontainers.shaded.com.github.dockerjava.core.command.AbstrDockerCmd - Cmd: 838aa953e3af703b34412aab3546917e409b6bf0ec80debdcfef760d034803cf
22:20:32.341 [ducttape-0] DEBUG org.testcontainers.shaded.com.github.dockerjava.core.exec.InspectExecCmdExec - GET: DefaultWebTarget{path=[/exec/838aa953e3af703b34412aab3546917e409b6bf0ec80debdcfef760d034803cf/json], queryParams={}}
22:20:33.352 [ducttape-0] DEBUG org.testcontainers.containers.ExecInContainerPattern - /strange_shaw: Running "exec" command: /bin/sh -c true &&  (cat /proc/net/tcp* | awk '{print $2}' | grep -i ':0*2385' || nc -vz -w 1 localhost 9093 || /bin/bash -c '</dev/tcp/localhost/9093') &&  (cat /proc/net/tcp* | awk '{print $2}' | grep -i ':0*885' || nc -vz -w 1 localhost 2181 || /bin/bash -c '</dev/tcp/localhost/2181')
22:20:33.353 [ducttape-0] DEBUG org.testcontainers.shaded.com.github.dockerjava.core.command.AbstrDockerCmd - Cmd: 9d00d4ebc91f224b755c609e8091f7f1bd800cc3faf5c048a8ab3527509631fa,<null>,true,true,<null>,<null>,<null>,{/bin/sh,-c,true &&  (cat /proc/net/tcp* | awk '{print $2}' | grep -i ':0*2385' || nc -vz -w 1 localhost 9093 || /bin/bash -c '</dev/tcp/localhost/9093') &&  (cat /proc/net/tcp* | awk '{print $2}' | grep -i ':0*885' || nc -vz -w 1 localhost 2181 || /bin/bash -c '</dev/tcp/localhost/2181')},<null>,<null>
22:20:33.510 [ducttape-0] DEBUG org.testcontainers.shaded.com.github.dockerjava.core.command.AbstrDockerCmd - Cmd: 29399c89788f723db3ceed458be92aa4ff714c91d1b43ad543f76ca0796f1f94
22:20:33.512 [ducttape-0] DEBUG org.testcontainers.shaded.com.github.dockerjava.core.exec.InspectExecCmdExec - GET: DefaultWebTarget{path=[/exec/29399c89788f723db3ceed458be92aa4ff714c91d1b43ad543f76ca0796f1f94/json], queryParams={}}
22:20:34.526 [ducttape-0] DEBUG org.testcontainers.containers.ExecInContainerPattern - /strange_shaw: Running "exec" command: /bin/sh -c true &&  (cat /proc/net/tcp* | awk '{print $2}' | grep -i ':0*2385' || nc -vz -w 1 localhost 9093 || /bin/bash -c '</dev/tcp/localhost/9093') &&  (cat /proc/net/tcp* | awk '{print $2}' | grep -i ':0*885' || nc -vz -w 1 localhost 2181 || /bin/bash -c '</dev/tcp/localhost/2181')
22:20:34.526 [ducttape-0] DEBUG org.testcontainers.shaded.com.github.dockerjava.core.command.AbstrDockerCmd - Cmd: 9d00d4ebc91f224b755c609e8091f7f1bd800cc3faf5c048a8ab3527509631fa,<null>,true,true,<null>,<null>,<null>,{/bin/sh,-c,true &&  (cat /proc/net/tcp* | awk '{print $2}' | grep -i ':0*2385' || nc -vz -w 1 localhost 9093 || /bin/bash -c '</dev/tcp/localhost/9093') &&  (cat /proc/net/tcp* | awk '{print $2}' | grep -i ':0*885' || nc -vz -w 1 localhost 2181 || /bin/bash -c '</dev/tcp/localhost/2181')},<null>,<null>
22:20:34.692 [ducttape-0] DEBUG org.testcontainers.shaded.com.github.dockerjava.core.command.AbstrDockerCmd - Cmd: c8efdf969877b3a79a7251ea7b1dd8ac03bd699a20656a3f68ce4aeadd4be035
22:20:34.693 [ducttape-0] DEBUG org.testcontainers.shaded.com.github.dockerjava.core.exec.InspectExecCmdExec - GET: DefaultWebTarget{path=[/exec/c8efdf969877b3a79a7251ea7b1dd8ac03bd699a20656a3f68ce4aeadd4be035/json], queryParams={}}
22:20:34.730 [main] INFO üê≥ [confluentinc/cp-kafka:latest] - Container confluentinc/cp-kafka:latest started in PT8.344151S
22:20:34.763 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating CacheAwareContextLoaderDelegate from class [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]
22:20:34.780 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating BootstrapContext using constructor [public org.springframework.test.context.support.DefaultBootstrapContext(java.lang.Class,org.springframework.test.context.CacheAwareContextLoaderDelegate)]
22:20:34.911 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating TestContextBootstrapper for test class [com.simonjamesrowe.apigateway.ApiGatewayApplicationTests] from class [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]
22:20:34.994 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [com.simonjamesrowe.component.test.BaseComponentTest]: class path resource [com/simonjamesrowe/component/test/BaseComponentTest-context.xml] does not exist
22:20:34.994 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [com.simonjamesrowe.component.test.BaseComponentTest]: class path resource [com/simonjamesrowe/component/test/BaseComponentTestContext.groovy] does not exist
22:20:34.995 [main] INFO org.springframework.test.context.support.AbstractContextLoader - Could not detect default resource locations for test class [com.simonjamesrowe.component.test.BaseComponentTest]: no resource found for suffixes {-context.xml, Context.groovy}.
22:20:34.996 [main] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.simonjamesrowe.component.test.BaseComponentTest]: BaseComponentTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
22:20:35.421 [main] DEBUG org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider - Identified candidate component class: file [/workspace/source/target/classes/com/simonjamesrowe/apigateway/ApiGatewayApplication.class]
22:20:35.424 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.simonjamesrowe.apigateway.ApiGatewayApplication for test class com.simonjamesrowe.apigateway.ApiGatewayApplicationTests
22:20:35.621 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - @TestExecutionListeners is not present for class [com.simonjamesrowe.apigateway.ApiGatewayApplicationTests]: using defaults.
22:20:35.622 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.cloud.contract.wiremock.WireMockTestExecutionListener]
22:20:35.631 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Skipping candidate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] due to a missing dependency. Specify custom listener classes or make the default listener classes and their required dependencies available. Offending class: [javax/servlet/ServletContext]
22:20:35.638 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@60737b23, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@4d2a1da3, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@252f626c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@33f98231, org.springframework.test.context.transaction.TransactionalTestExecutionListener@48284d0e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@557286ad, org.springframework.test.context.event.EventPublishingTestExecutionListener@b10a26d, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@74075134, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@7e4d2287, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@3f4b840d, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@31464a43, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@7f8633ae, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@68c87fc3, org.springframework.cloud.contract.wiremock.WireMockTestExecutionListener@bc0f53b]
22:20:35.642 [main] DEBUG org.springframework.test.context.support.AbstractDirtiesContextTestExecutionListener - Before test class: context [DefaultTestContext@1bd0b0e5 testClass = ApiGatewayApplicationTests, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [ReactiveWebMergedContextConfiguration@dc7b462 testClass = ApiGatewayApplicationTests, locations = '{}', classes = '{class com.simonjamesrowe.apigateway.ApiGatewayApplication}', contextInitializerClasses = '[]', activeProfiles = '{component-test, wiremock}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[[ImportsContextCustomizer@1f51431 key = [org.springframework.cloud.contract.wiremock.WireMockConfiguration, org.springframework.cloud.contract.wiremock.WireMockRestTemplateConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@3ff57625, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@77128dab, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@710d7aff, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@72ba28ee, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@c3fa05a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@e5dd10ba, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@48bfb884, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@22ff4249], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false]], class annotated with @DirtiesContext [false] with mode [null].
22:20:35.718 [main] DEBUG org.springframework.core.env.StandardEnvironment - Activating profiles [component-test, wiremock]
22:20:35.792 [main] DEBUG org.springframework.test.context.support.TestPropertySourceUtils - Adding inlined properties to environment: {spring.jmx.enabled=false, org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.4.1)

2021-01-12 22:20:39.827  INFO 79 --- [           main] c.s.a.ApiGatewayApplicationTests         : Starting ApiGatewayApplicationTests using Java 11.0.2 on simonjamesrowe-api-gateway-mast-c9p67-6-from-build-pack-4-4f7sd with PID 79 (started by **** in /workspace/source)
2021-01-12 22:20:39.886  INFO 79 --- [           main] c.s.a.ApiGatewayApplicationTests         : The following profiles are active: component-test,wiremock,kubernetes
2021-01-12 22:20:46.507  INFO 79 --- [           main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=ca9533f0-0bc9-3c44-a002-cf809d906616
2021-01-12 22:20:46.617  INFO 79 --- [           main] o.s.c.a.ConfigurationClassEnhancer       : @Bean method FunctionConfiguration.po is non-static and returns an object assignable to Spring's BeanFactoryPostProcessor interface. This will result in a failure to process annotations such as @Autowired, @Resource and @PostConstruct within the method's declaring @Configuration class. Add the 'static' modifier to this method to avoid these container lifecycle issues; see @Bean javadoc for complete details.
2021-01-12 22:20:46.703  INFO 79 --- [           main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2021-01-12 22:20:46.711  INFO 79 --- [           main] faultConfiguringBeanFactoryPostProcessor : No bean named 'taskScheduler' has been explicitly defined. Therefore, a default ThreadPoolTaskScheduler will be created.
2021-01-12 22:20:46.717  INFO 79 --- [           main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2021-01-12 22:20:47.229  INFO 79 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.integration.config.IntegrationManagementConfiguration' of type [org.springframework.integration.config.IntegrationManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-12 22:20:47.285  INFO 79 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'integrationChannelResolver' of type [org.springframework.integration.support.channel.BeanFactoryChannelResolver] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-12 22:20:47.289  INFO 79 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'integrationDisposableAutoCreatedBeans' of type [org.springframework.integration.config.annotation.Disposables] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-12 22:20:50.574  INFO 79 --- [           main] o.s.s.c.ThreadPoolTaskScheduler          : Initializing ExecutorService 'taskScheduler'
2021-01-12 22:20:52.201  INFO 79 --- [           main] wiremock.org.eclipse.jetty.util.log      : Logging initialized @33609ms to wiremock.org.eclipse.jetty.util.log.Slf4jLog
2021-01-12 22:20:52.295  WARN 79 --- [           main] w.o.e.jetty.server.AbstractConnector     : Acceptors should be <= availableProcessors: NetworkTrafficServerConnector@251db193{HTTP/1.1, (http/1.1)}{0.0.0.0:0}
2021-01-12 22:20:52.482  WARN 79 --- [           main] w.o.e.jetty.server.AbstractConnector     : Acceptors should be <= availableProcessors: NetworkTrafficServerConnector@2e895acb{SSL, (ssl, alpn, h2, http/1.1)}{0.0.0.0:0}
2021-01-12 22:20:52.686  INFO 79 --- [           main] w.org.eclipse.jetty.server.Server        : jetty-9.4.30.v20200611; built: 2020-06-11T12:34:51.929Z; git: 271836e4c1f4612f12b7bb13ef5a92a927634b0d; jvm 11.0.2+9
2021-01-12 22:20:52.705  INFO 79 --- [           main] w.o.e.j.server.handler.ContextHandler    : Started w.o.e.j.s.ServletContextHandler@38447073{/__*****,null,AVAILABLE}
2021-01-12 22:20:52.707  INFO 79 --- [           main] w.o.e.j.server.handler.ContextHandler    : Started w.o.e.j.s.ServletContextHandler@3fbf66e7{/,null,AVAILABLE}
2021-01-12 22:20:52.778  INFO 79 --- [           main] w.o.e.jetty.server.AbstractConnector     : Started NetworkTrafficServerConnector@251db193{HTTP/1.1, (http/1.1)}{0.0.0.0:12390}
2021-01-12 22:20:52.784  INFO 79 --- [           main] w.o.e.jetty.util.ssl.SslContextFactory   : x509=X509@1cbb394b(wiremock,h=[],w=[]) for Server@16bbb59c[provider=Conscrypt,keyStore=null,trustStore=null]
2021-01-12 22:20:52.786  INFO 79 --- [           main] w.o.e.jetty.util.ssl.SslContextFactory   : Unable to get KeyManagerFactory instance for algorithm [SunX509] on provider [Conscrypt], using default
2021-01-12 22:20:52.861  INFO 79 --- [           main] w.o.e.jetty.server.AbstractConnector     : Started NetworkTrafficServerConnector@2e895acb{SSL, (ssl, alpn, h2, http/1.1)}{0.0.0.0:14044}
2021-01-12 22:20:52.862  INFO 79 --- [           main] w.org.eclipse.jetty.server.Server        : Started @34270ms
2021-01-12 22:20:56.187  INFO 79 --- [           main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [After]
2021-01-12 22:20:56.187  INFO 79 --- [           main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Before]
2021-01-12 22:20:56.187  INFO 79 --- [           main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Between]
2021-01-12 22:20:56.187  INFO 79 --- [           main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Cookie]
2021-01-12 22:20:56.187  INFO 79 --- [           main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Header]
2021-01-12 22:20:56.187  INFO 79 --- [           main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Host]
2021-01-12 22:20:56.187  INFO 79 --- [           main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Method]
2021-01-12 22:20:56.188  INFO 79 --- [           main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Path]
2021-01-12 22:20:56.188  INFO 79 --- [           main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Query]
2021-01-12 22:20:56.188  INFO 79 --- [           main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [ReadBody]
2021-01-12 22:20:56.188  INFO 79 --- [           main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [RemoteAddr]
2021-01-12 22:20:56.188  INFO 79 --- [           main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Weight]
2021-01-12 22:20:56.188  INFO 79 --- [           main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [CloudFoundryRouteService]
2021-01-12 22:20:57.989  INFO 79 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2021-01-12 22:21:00.590  INFO 79 --- [           main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2021-01-12 22:21:00.591  INFO 79 --- [           main] o.s.i.channel.PublishSubscribeChannel    : Channel 'application.errorChannel' has 1 subscriber(s).
2021-01-12 22:21:00.591  INFO 79 --- [           main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2021-01-12 22:21:00.808  INFO 79 --- [           main] o.s.b.web.embedded.netty.NettyWebServer  : Netty started on port(s): 46565
2021-01-12 22:21:01.348  INFO 79 --- [           main] c.s.a.ApiGatewayApplicationTests         : Started ApiGatewayApplicationTests in 25.305 seconds (JVM running for 42.756)
2021-01-12 22:21:02.777  INFO 79 --- [           main] w.o.e.jetty.server.AbstractConnector     : Stopped NetworkTrafficServerConnector@251db193{HTTP/1.1, (http/1.1)}{0.0.0.0:12390}
2021-01-12 22:21:02.781  INFO 79 --- [           main] w.o.e.jetty.server.AbstractConnector     : Stopped NetworkTrafficServerConnector@2e895acb{SSL, (ssl, alpn, h2, http/1.1)}{0.0.0.0:14044}
2021-01-12 22:21:02.783  INFO 79 --- [           main] w.o.e.j.server.handler.ContextHandler    : Stopped w.o.e.j.s.ServletContextHandler@3fbf66e7{/,null,UNAVAILABLE}
2021-01-12 22:21:02.783  INFO 79 --- [           main] w.o.e.j.server.handler.ContextHandler    : Stopped w.o.e.j.s.ServletContextHandler@38447073{/__*****,null,UNAVAILABLE}
2021-01-12 22:21:02.784  INFO 79 --- [           main] w.org.eclipse.jetty.server.Server        : jetty-9.4.30.v20200611; built: 2020-06-11T12:34:51.929Z; git: 271836e4c1f4612f12b7bb13ef5a92a927634b0d; jvm 11.0.2+9
2021-01-12 22:21:02.789  INFO 79 --- [           main] w.o.e.j.server.handler.ContextHandler    : Started w.o.e.j.s.ServletContextHandler@38447073{/__*****,null,AVAILABLE}
2021-01-12 22:21:02.789  INFO 79 --- [           main] w.o.e.j.server.handler.ContextHandler    : Started w.o.e.j.s.ServletContextHandler@3fbf66e7{/,null,AVAILABLE}
2021-01-12 22:21:02.791  INFO 79 --- [           main] w.o.e.jetty.server.AbstractConnector     : Started NetworkTrafficServerConnector@251db193{HTTP/1.1, (http/1.1)}{0.0.0.0:12390}
2021-01-12 22:21:02.792  INFO 79 --- [           main] w.o.e.jetty.util.ssl.SslContextFactory   : x509=X509@6cd9cafb(wiremock,h=[],w=[]) for Server@16bbb59c[provider=Conscrypt,keyStore=null,trustStore=null]
2021-01-12 22:21:02.792  INFO 79 --- [           main] w.o.e.jetty.util.ssl.SslContextFactory   : Unable to get KeyManagerFactory instance for algorithm [SunX509] on provider [Conscrypt], using default
2021-01-12 22:21:02.797  INFO 79 --- [           main] w.o.e.jetty.server.AbstractConnector     : Started NetworkTrafficServerConnector@2e895acb{SSL, (ssl, alpn, h2, http/1.1)}{0.0.0.0:14044}
2021-01-12 22:21:02.797  INFO 79 --- [           main] w.org.eclipse.jetty.server.Server        : Started @44205ms
[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 40.773 s - in com.simonjamesrowe.apigateway.ApiGatewayApplicationTests
[INFO] Running com.simonjamesrowe.apigateway.controller.WebhookControllerTest
2021-01-12 22:21:02.868  INFO 79 --- [           main] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [com.simonjamesrowe.component.test.BaseComponentTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2021-01-12 22:21:02.868  INFO 79 --- [           main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.simonjamesrowe.component.test.BaseComponentTest]: BaseComponentTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2021-01-12 22:21:02.880  INFO 79 --- [           main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.simonjamesrowe.apigateway.ApiGatewayApplication for test class com.simonjamesrowe.apigateway.controller.WebhookControllerTest
2021-01-12 22:21:02.883  INFO 79 --- [           main] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.cloud.contract.wiremock.WireMockTestExecutionListener]
2021-01-12 22:21:02.885  INFO 79 --- [           main] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1069baea, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@44ba9865, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@64027866, org.springframework.test.context.support.DirtiesContextTestExecutionListener@46b4819c, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1bd7dd4a, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@bbe07e5, org.springframework.test.context.event.EventPublishingTestExecutionListener@7c089fbc, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@1e5259c0, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@3b4aeacd, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@40b0436e, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@78fdc1bb, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@74ed1b3d, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@189d8bef, org.springframework.cloud.contract.wiremock.WireMockTestExecutionListener@5af410a1]

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.4.1)

2021-01-12 22:21:03.670  INFO 79 --- [           main] c.s.a.controller.WebhookControllerTest   : Starting WebhookControllerTest using Java 11.0.2 on simonjamesrowe-api-gateway-mast-c9p67-6-from-build-pack-4-4f7sd with PID 79 (started by **** in /workspace/source)
2021-01-12 22:21:03.670  INFO 79 --- [           main] c.s.a.controller.WebhookControllerTest   : The following profiles are active: component-test,wiremock,*******ControllerTest,kubernetes
2021-01-12 22:21:04.788  INFO 79 --- [           main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=80f4bc78-e7de-39e3-b1c8-8b9da11f40de
2021-01-12 22:21:04.798  INFO 79 --- [           main] o.s.c.a.ConfigurationClassEnhancer       : @Bean method FunctionConfiguration.po is non-static and returns an object assignable to Spring's BeanFactoryPostProcessor interface. This will result in a failure to process annotations such as @Autowired, @Resource and @PostConstruct within the method's declaring @Configuration class. Add the 'static' modifier to this method to avoid these container lifecycle issues; see @Bean javadoc for complete details.
2021-01-12 22:21:04.862  INFO 79 --- [           main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2021-01-12 22:21:04.862  INFO 79 --- [           main] faultConfiguringBeanFactoryPostProcessor : No bean named 'taskScheduler' has been explicitly defined. Therefore, a default ThreadPoolTaskScheduler will be created.
2021-01-12 22:21:04.865  INFO 79 --- [           main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2021-01-12 22:21:04.962  INFO 79 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.integration.config.IntegrationManagementConfiguration' of type [org.springframework.integration.config.IntegrationManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-12 22:21:04.972  INFO 79 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'integrationChannelResolver' of type [org.springframework.integration.support.channel.BeanFactoryChannelResolver] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-12 22:21:04.974  INFO 79 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'integrationDisposableAutoCreatedBeans' of type [org.springframework.integration.config.annotation.Disposables] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-01-12 22:21:07.175  INFO 79 --- [           main] o.s.s.c.ThreadPoolTaskScheduler          : Initializing ExecutorService 'taskScheduler'
2021-01-12 22:21:07.276  WARN 79 --- [           main] w.o.e.jetty.server.AbstractConnector     : Acceptors should be <= availableProcessors: NetworkTrafficServerConnector@364178de{HTTP/1.1, (http/1.1)}{0.0.0.0:0}
2021-01-12 22:21:07.279  WARN 79 --- [           main] w.o.e.jetty.server.AbstractConnector     : Acceptors should be <= availableProcessors: NetworkTrafficServerConnector@43a8960{SSL, (ssl, alpn, h2, http/1.1)}{0.0.0.0:0}
2021-01-12 22:21:07.280  INFO 79 --- [           main] w.org.eclipse.jetty.server.Server        : jetty-9.4.30.v20200611; built: 2020-06-11T12:34:51.929Z; git: 271836e4c1f4612f12b7bb13ef5a92a927634b0d; jvm 11.0.2+9
2021-01-12 22:21:07.285  INFO 79 --- [           main] w.o.e.j.server.handler.ContextHandler    : Started w.o.e.j.s.ServletContextHandler@227051e6{/__*****,null,AVAILABLE}
2021-01-12 22:21:07.285  INFO 79 --- [           main] w.o.e.j.server.handler.ContextHandler    : Started w.o.e.j.s.ServletContextHandler@1bd99de6{/,null,AVAILABLE}
2021-01-12 22:21:07.287  INFO 79 --- [           main] w.o.e.jetty.server.AbstractConnector     : Started NetworkTrafficServerConnector@364178de{HTTP/1.1, (http/1.1)}{0.0.0.0:10565}
2021-01-12 22:21:07.288  INFO 79 --- [           main] w.o.e.jetty.util.ssl.SslContextFactory   : x509=X509@1069cbf2(wiremock,h=[],w=[]) for Server@31ad368a[provider=Conscrypt,keyStore=null,trustStore=null]
2021-01-12 22:21:07.288  INFO 79 --- [           main] w.o.e.jetty.util.ssl.SslContextFactory   : Unable to get KeyManagerFactory instance for algorithm [SunX509] on provider [Conscrypt], using default
2021-01-12 22:21:07.293  INFO 79 --- [           main] w.o.e.jetty.server.AbstractConnector     : Started NetworkTrafficServerConnector@43a8960{SSL, (ssl, alpn, h2, http/1.1)}{0.0.0.0:12953}
2021-01-12 22:21:07.294  INFO 79 --- [           main] w.org.eclipse.jetty.server.Server        : Started @48702ms
2021-01-12 22:21:08.307  INFO 79 --- [           main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [After]
2021-01-12 22:21:08.307  INFO 79 --- [           main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Before]
2021-01-12 22:21:08.308  INFO 79 --- [           main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Between]
2021-01-12 22:21:08.308  INFO 79 --- [           main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Cookie]
2021-01-12 22:21:08.309  INFO 79 --- [           main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Header]
2021-01-12 22:21:08.310  INFO 79 --- [           main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Host]
2021-01-12 22:21:08.310  INFO 79 --- [           main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Method]
2021-01-12 22:21:08.310  INFO 79 --- [           main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Path]
2021-01-12 22:21:08.310  INFO 79 --- [           main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Query]
2021-01-12 22:21:08.311  INFO 79 --- [           main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [ReadBody]
2021-01-12 22:21:08.311  INFO 79 --- [           main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [RemoteAddr]
2021-01-12 22:21:08.311  INFO 79 --- [           main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Weight]
2021-01-12 22:21:08.312  INFO 79 --- [           main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [CloudFoundryRouteService]
2021-01-12 22:21:09.083  INFO 79 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2021-01-12 22:21:09.481  INFO 79 --- [           main] o.s.c.s.m.DirectWithAttributesChannel    : Channel 'application.consume-in-0' has 1 subscriber(s).
2021-01-12 22:21:10.513  INFO 79 --- [           main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2021-01-12 22:21:10.513  INFO 79 --- [           main] o.s.i.channel.PublishSubscribeChannel    : Channel 'application.errorChannel' has 1 subscriber(s).
2021-01-12 22:21:10.513  INFO 79 --- [           main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2021-01-12 22:21:10.513 DEBUG 79 --- [           main] o.s.c.s.b.AbstractBindableProxyFactory   : Binding outputs for :null
2021-01-12 22:21:10.513 DEBUG 79 --- [           main] o.s.c.s.b.AbstractBindableProxyFactory   : Binding inputs for :null
2021-01-12 22:21:10.513 DEBUG 79 --- [           main] o.s.c.s.b.AbstractBindableProxyFactory   : Binding :null:consume-in-0
2021-01-12 22:21:10.514  INFO 79 --- [           main] o.s.c.s.binder.DefaultBinderFactory      : Creating binder: kafka
2021-01-12 22:21:13.467  INFO 79 --- [           main] o.s.c.s.binder.DefaultBinderFactory      : Caching the binder: kafka
2021-01-12 22:21:13.467  INFO 79 --- [           main] o.s.c.s.binder.DefaultBinderFactory      : Retrieving cached binder: kafka
2021-01-12 22:21:13.493  INFO 79 --- [           main] o.a.k.clients.*****.AdminClientConfig    : AdminClientConfig values: 
	bootstrap.servers = [192.168.4.23:49247]
	client.dns.lookup = use_all_dns_ips
	client.id = 
	connections.max.idle.ms = 300000
	default.api.timeout.ms = 60000
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.3]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.3
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS

2021-01-12 22:21:13.784  INFO 79 --- [           main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 2.6.0
2021-01-12 22:21:13.784  INFO 79 --- [           main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 62abe01bee039651
2021-01-12 22:21:13.784  INFO 79 --- [           main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1610490073783
2021-01-12 22:21:14.964  INFO 79 --- [           main] o.a.k.clients.consumer.ConsumerConfig    : ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 100
	auto.offset.reset = earliest
	bootstrap.servers = [192.168.4.23:49247]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-api-gateway-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = api-gateway
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 50
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.3]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.3
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class com.simonjamesrowe.model.serialization.EventDeserializer

2021-01-12 22:21:15.276  INFO 79 --- [           main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 2.6.0
2021-01-12 22:21:15.276  INFO 79 --- [           main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 62abe01bee039651
2021-01-12 22:21:15.276  INFO 79 --- [           main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1610490075276
2021-01-12 22:21:15.391  INFO 79 --- [           main] org.apache.kafka.clients.Metadata        : [Consumer clientId=consumer-api-gateway-1, groupId=api-gateway] Cluster ID: uw4gk4ykThOrDvj-HLBvCA
2021-01-12 22:21:15.475 DEBUG 79 --- [           main] o.s.c.s.b.k.KafkaMessageChannelBinder    : Listened partitions: Partition(topic = LOCAL_EVENTS, partition = 0, leader = 1, replicas = [1], isr = [1], offlineReplicas = [])
2021-01-12 22:21:15.502  INFO 79 --- [           main] o.s.c.stream.binder.BinderErrorChannel   : Channel 'LOCAL_EVENTS.api-gateway.errors' has 1 subscriber(s).
2021-01-12 22:21:15.505  INFO 79 --- [           main] o.s.c.stream.binder.BinderErrorChannel   : Channel 'LOCAL_EVENTS.api-gateway.errors' has 0 subscriber(s).
2021-01-12 22:21:15.561  INFO 79 --- [           main] o.s.c.stream.binder.BinderErrorChannel   : Channel 'LOCAL_EVENTS.api-gateway.errors' has 1 subscriber(s).
2021-01-12 22:21:15.561  INFO 79 --- [           main] o.s.c.stream.binder.BinderErrorChannel   : Channel 'LOCAL_EVENTS.api-gateway.errors' has 2 subscriber(s).
2021-01-12 22:21:15.586  INFO 79 --- [           main] o.a.k.clients.consumer.ConsumerConfig    : ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 100
	auto.offset.reset = earliest
	bootstrap.servers = [192.168.4.23:49247]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-api-gateway-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = api-gateway
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 50
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.3]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.3
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class com.simonjamesrowe.model.serialization.EventDeserializer

2021-01-12 22:21:15.665  INFO 79 --- [           main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 2.6.0
2021-01-12 22:21:15.665  INFO 79 --- [           main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 62abe01bee039651
2021-01-12 22:21:15.665  INFO 79 --- [           main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1610490075665
2021-01-12 22:21:15.676  INFO 79 --- [           main] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-api-gateway-2, groupId=api-gateway] Subscribed to topic(s): LOCAL_EVENTS
2021-01-12 22:21:15.678  INFO 79 --- [           main] o.s.s.c.ThreadPoolTaskScheduler          : Initializing ExecutorService
2021-01-12 22:21:15.684  INFO 79 --- [           main] s.i.k.i.KafkaMessageDrivenChannelAdapter : started org.springframework.integration.kafka.inbound.KafkaMessageDrivenChannelAdapter@6d7232a5
2021-01-12 22:21:15.761  INFO 79 --- [           main] o.s.b.web.embedded.netty.NettyWebServer  : Netty started on port(s): 42357
2021-01-12 22:21:15.764  INFO 79 --- [container-0-C-1] org.apache.kafka.clients.Metadata        : [Consumer clientId=consumer-api-gateway-2, groupId=api-gateway] Cluster ID: uw4gk4ykThOrDvj-HLBvCA
2021-01-12 22:21:15.885  INFO 79 --- [container-0-C-1] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-api-gateway-2, groupId=api-gateway] Discovered group coordinator 192.168.4.23:49247 (id: 2147483646 rack: null)
2021-01-12 22:21:15.901  INFO 79 --- [container-0-C-1] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-api-gateway-2, groupId=api-gateway] (Re-)joining group
2021-01-12 22:21:15.965  INFO 79 --- [           main] c.s.a.controller.WebhookControllerTest   : Started WebhookControllerTest in 13.077 seconds (JVM running for 57.373)
2021-01-12 22:21:16.000  INFO 79 --- [container-0-C-1] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-api-gateway-2, groupId=api-gateway] Join group failed with org.apache.kafka.common.errors.MemberIdRequiredException: The group member needs to have a valid member id before actually entering a consumer group.
2021-01-12 22:21:16.001  INFO 79 --- [container-0-C-1] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-api-gateway-2, groupId=api-gateway] (Re-)joining group
2021-01-12 22:21:16.064  INFO 79 --- [container-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-api-gateway-2, groupId=api-gateway] Finished assignment for group at generation 1: {consumer-api-gateway-2-b96c33b7-d868-4054-b968-e7794d94cbde=Assignment(partitions=[LOCAL_EVENTS-0])}
2021-01-12 22:21:16.126  INFO 79 --- [container-0-C-1] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-api-gateway-2, groupId=api-gateway] Successfully joined group with generation 1
2021-01-12 22:21:16.164  INFO 79 --- [container-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-api-gateway-2, groupId=api-gateway] Notifying assignor about the new Assignment(partitions=[LOCAL_EVENTS-0])
2021-01-12 22:21:16.166  INFO 79 --- [container-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-api-gateway-2, groupId=api-gateway] Adding newly assigned partitions: LOCAL_EVENTS-0
2021-01-12 22:21:16.187  INFO 79 --- [container-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-api-gateway-2, groupId=api-gateway] Found no committed offset for partition LOCAL_EVENTS-0
2021-01-12 22:21:16.264  INFO 79 --- [container-0-C-1] o.a.k.c.c.internals.SubscriptionState    : [Consumer clientId=consumer-api-gateway-2, groupId=api-gateway] Resetting offset for partition LOCAL_EVENTS-0 to offset 0.
2021-01-12 22:21:16.266  INFO 79 --- [container-0-C-1] o.s.c.s.b.k.KafkaMessageChannelBinder$2  : api-gateway: partitions assigned: [LOCAL_EVENTS-0]
Request method:	POST
Request URI:	http://localhost:42357/*******
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
				Content-Type=application/json; charset=UTF-8
Cookies:		<none>
Multiparts:		<none>
Body:
{
    "event": "entry.update",
    "created_at": "2021-01-02T15:49:35.918Z",
    "model": "blog",
    "entry": {
        "published": true,
        "tags": [
            {
                "_id": "5e495da7bc8d7d001ddbd7c5",
                "name": "Kubernetes",
                "createdAt": "2020-02-16T15:20:07.909Z",
                "updatedAt": "2020-02-16T22:04:13.013Z",
                "__v": 0,
                "id": "5e495da7bc8d7d001ddbd7c5"
            },
            {
                "_id": "5f02da709d8081001fd38fa4",
                "name": "Jenkins",
                "createdAt": "2020-07-06T08:01:52.572Z",
                "updatedAt": "2020-07-06T08:01:52.572Z",
                "__v": 0,
                "id": "5f02da709d8081001fd38fa4"
            },
            {
                "_id": "5f03901b9d8081001fd38fa7",
                "name": "Strapi",
                "createdAt": "2020-07-06T20:56:59.818Z",
                "updatedAt": "2020-07-06T20:56:59.818Z",
                "__v": 0,
                "id": "5f03901b9d8081001fd38fa7"
            },
            {
                "_id": "5f0390249d8081001fd38fa8",
                "name": "TLS",
                "createdAt": "2020-07-06T20:57:08.354Z",
                "updatedAt": "2020-07-06T20:57:08.354Z",
                "__v": 0,
                "id": "5f0390249d8081001fd38fa8"
            },
            {
                "_id": "5f0390329d8081001fd38fa9",
                "name": "MongoDB",
                "createdAt": "2020-07-06T20:57:22.633Z",
                "updatedAt": "2020-07-06T20:57:22.633Z",
                "__v": 0,
                "id": "5f0390329d8081001fd38fa9"
            },
            {
                "_id": "5f0390499d8081001fd38faa",
                "name": "React",
                "createdAt": "2020-07-06T20:57:45.054Z",
                "updatedAt": "2020-07-06T20:57:45.054Z",
                "__v": 0,
                "id": "5f0390499d8081001fd38faa"
            }
        ],
        "skills": [
            {
                "_id": "5f635b6a5ee4c9001d2b9632",
                "name": "Spring Boot",
                "rating": 9.7,
                "order": 1,
                "createdAt": "2020-09-17T12:49:46.739Z",
                "updatedAt": "2020-09-21T21:05:20.308Z",
                "__v": 0,
                "created_by": "5e4839cd1c2d53001dcc0696",
                "updated_by": "5e4839cd1c2d53001dcc0696",
                "image": {
                    "_id": "5f6851a85ee4c9001d2b96af",
                    "name": "spring-boot.jpeg",
                    "alternativeText": "",
                    "caption": "",
                    "hash": "spring_boot_5ee37de4c1",
                    "ext": ".jpeg",
                    "mime": "image/png",
                    "size": 7.98,
                    "width": 400,
                    "height": 400,
                    "url": "/uploads/spring_boot_5ee37de4c1.jpeg",
                    "formats": {
                        "thumbnail": {
                            "name": "thumbnail_spring-boot.jpeg",
                            "hash": "thumbnail_spring_boot_5ee37de4c1",
                            "ext": ".jpeg",
                            "mime": "image/png",
                            "width": 156,
                            "height": 156,
                            "size": 5.21,
                            "path": null,
                            "url": "/uploads/thumbnail_spring_boot_5ee37de4c1.jpeg"
                        }
                    },
                    "provider": "local",
                    "related": [
                        "5f635b6a5ee4c9001d2b9632",
                        "5feed4c667bdd6001e9c12d0"
                    ],
                    "createdAt": "2020-09-21T07:09:28.458Z",
                    "updatedAt": "2021-01-01T21:02:32.991Z",
                    "__v": 0,
                    "created_by": "5e4839cd1c2d53001dcc0696",
                    "updated_by": "5e4839cd1c2d53001dcc0696",
                    "id": "5f6851a85ee4c9001d2b96af"
                },
                "description": "Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".\n\n- Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)\n- Provide opinionated 'starter' dependencies to simplify your build configuration\n- Automatically configure Spring and 3rd party libraries whenever possible\n- Provide production-ready features such as metrics, health checks, and externalized configuration",
                "id": "5f635b6a5ee4c9001d2b9632"
            },
            {
                "_id": "5f635b555ee4c9001d2b9631",
                "name": "Kotlin",
                "rating": 8,
                "createdAt": "2020-09-17T12:49:25.636Z",
                "updatedAt": "2020-09-21T21:01:54.939Z",
                "__v": 0,
                "created_by": "5e4839cd1c2d53001dcc0696",
                "updated_by": "5e4839cd1c2d53001dcc0696",
                "image": {
                    "_id": "5f65ec765ee4c9001d2b9676",
                    "name": "kotlin_250x250.png",
                    "alternativeText": "",
                    "caption": "",
                    "hash": "kotlin_250x250_dfc086e243",
                    "ext": ".png",
                    "mime": "image/png",
                    "size": 3.69,
                    "width": 250,
                    "height": 250,
                    "url": "/uploads/kotlin_250x250_dfc086e243.png",
                    "formats": {
                        "thumbnail": {
                            "name": "thumbnail_kotlin_250x250.png",
                            "hash": "thumbnail_kotlin_250x250_dfc086e243",
                            "ext": ".png",
                            "mime": "image/png",
                            "width": 156,
                            "height": 156,
                            "size": 6.89,
                            "path": null,
                            "url": "/uploads/thumbnail_kotlin_250x250_dfc086e243.png"
                        }
                    },
                    "provider": "local",
                    "related": [
                        "5f6359c55ee4c9001d2b9627",
                        "5f635b555ee4c9001d2b9631"
                    ],
                    "createdAt": "2020-09-19T11:33:10.896Z",
                    "updatedAt": "2020-09-21T06:17:06.069Z",
                    "__v": 0,
                    "created_by": "5e4839cd1c2d53001dcc0696",
                    "updated_by": "5e4839cd1c2d53001dcc0696",
                    "id": "5f65ec765ee4c9001d2b9676"
                },
                "description": "- Lambda expressions + Inline functions = performant custom control structures\n- Extension functions\n- Null-safety\n- Smart casts\n- String templates\n- Properties\n- Primary constructors\n- First-class delegation\n- Type inference for variable and property types\n- Singletons\n- Declaration-site variance & Type projections\n- Range expressions\n- Operator overloading\n- Companion objects\n- Data classes\n- Separate interfaces for read-only and mutable collections\n- Coroutines",
                "id": "5f635b555ee4c9001d2b9631"
            },
            {
                "_id": "5f635c2e5ee4c9001d2b963c",
                "name": "Jenkins Pipeline",
                "rating": 8,
                "createdAt": "2020-09-17T12:53:02.588Z",
                "updatedAt": "2020-09-22T06:41:07.845Z",
                "__v": 0,
                "created_by": "5e4839cd1c2d53001dcc0696",
                "updated_by": "5e4839cd1c2d53001dcc0696",
                "image": {
                    "_id": "5f65ed105ee4c9001d2b967c",
                    "name": "jenkins-5-569553.png",
                    "alternativeText": "",
                    "caption": "",
                    "hash": "jenkins_5_569553_cb54b85a4c",
                    "ext": ".png",
                    "mime": "image/png",
                    "size": 12.15,
                    "width": 256,
                    "height": 256,
                    "url": "/uploads/jenkins_5_569553_cb54b85a4c.png",
                    "formats": {
                        "thumbnail": {
                            "name": "thumbnail_jenkins-5-569553.png",
                            "hash": "thumbnail_jenkins_5_569553_cb54b85a4c",
                            "ext": ".png",
                            "mime": "image/png",
                            "width": 156,
                            "height": 156,
                            "size": 16.21,
                            "path": null,
                            "url": "/uploads/thumbnail_jenkins_5_569553_cb54b85a4c.png"
                        }
                    },
                    "provider": "local",
                    "related": [
                        "5f635a195ee4c9001d2b962a",
                        "5f635c2e5ee4c9001d2b963c"
                    ],
                    "createdAt": "2020-09-19T11:35:44.624Z",
                    "updatedAt": "2020-09-21T07:16:50.216Z",
                    "__v": 0,
                    "created_by": "5e4839cd1c2d53001dcc0696",
                    "updated_by": "5e4839cd1c2d53001dcc0696",
                    "id": "5f65ed105ee4c9001d2b967c"
                },
                "description": "Pipeline is a suite of plugins that supports implementing and integrating continuous delivery pipelines into Jenkins. Pipeline provides an extensible set of tools for modelling simple-to-complex delivery pipelines \"as code\" via the Pipeline DSL (groovy). ",
                "id": "5f635c2e5ee4c9001d2b963c"
            },
            {
                "_id": "5f635c375ee4c9001d2b963d",
                "name": "Jenkins X",
                "rating": 9,
                "createdAt": "2020-09-17T12:53:11.954Z",
                "updatedAt": "2020-09-22T21:19:16.887Z",
                "__v": 0,
                "created_by": "5e4839cd1c2d53001dcc0696",
                "updated_by": "5e4839cd1c2d53001dcc0696",
                "image": {
                    "_id": "5f6616545ee4c9001d2b9690",
                    "name": "jenkinsx.png",
                    "alternativeText": "",
                    "caption": "",
                    "hash": "jenkinsx_d56c6fea15",
                    "ext": ".png",
                    "mime": "image/png",
                    "size": 25.16,
                    "width": 696,
                    "height": 398,
                    "url": "/uploads/jenkinsx_d56c6fea15.png",
                    "formats": {
                        "thumbnail": {
                            "name": "thumbnail_jenkinsx.png",
                            "hash": "thumbnail_jenkinsx_d56c6fea15",
                            "ext": ".png",
                            "mime": "image/png",
                            "width": 245,
                            "height": 140,
                            "size": 9.18,
                            "path": null,
                            "url": "/uploads/thumbnail_jenkinsx_d56c6fea15.png"
                        },
                        "small": {
                            "name": "small_jenkinsx.png",
                            "hash": "small_jenkinsx_d56c6fea15",
                            "ext": ".png",
                            "mime": "image/png",
                            "width": 500,
                            "height": 286,
                            "size": 22.51,
                            "path": null,
                            "url": "/uploads/small_jenkinsx_d56c6fea15.png"
                        }
                    },
                    "provider": "local",
                    "related": [
                        "5f0413739d8081001fd38fb6",
                        "5f635c375ee4c9001d2b963d"
                    ],
                    "createdAt": "2020-09-19T14:31:48.129Z",
                    "updatedAt": "2020-09-21T07:17:01.500Z",
                    "__v": 0,
                    "created_by": "5e4839cd1c2d53001dcc0696",
                    "updated_by": "5e4839cd1c2d53001dcc0696",
                    "id": "5f6616545ee4c9001d2b9690"
                },
                "description": "Jenkins X provides pipeline automation, built-in GitOps, and preview environments to help teams collaborate and accelerate their software delivery at any scale. Jenkins X builds upon the following core components:\n- Kubernetes and Docker\n- Helm and Draft",
                "id": "5f635c375ee4c9001d2b963d"
            },
            {
                "_id": "5f635f8f5ee4c9001d2b966c",
                "name": "Helm",
                "rating": 8,
                "createdAt": "2020-09-17T13:07:27.527Z",
                "updatedAt": "2020-09-30T06:20:10.213Z",
                "__v": 0,
                "created_by": "5e4839cd1c2d53001dcc0696",
                "updated_by": "5e4839cd1c2d53001dcc0696",
                "image": {
                    "_id": "5f6854785ee4c9001d2b96cf",
                    "name": "helm.jpg",
                    "alternativeText": "",
                    "caption": "",
                    "hash": "helm_9127651c35",
                    "ext": ".jpg",
                    "mime": "image/jpeg",
                    "size": 12.82,
                    "width": 366,
                    "height": 366,
                    "url": "/uploads/helm_9127651c35.jpg",
                    "formats": {
                        "thumbnail": {
                            "name": "thumbnail_helm.jpg",
                            "hash": "thumbnail_helm_9127651c35",
                            "ext": ".jpg",
                            "mime": "image/jpeg",
                            "width": 156,
                            "height": 156,
                            "size": 5.11,
                            "path": null,
                            "url": "/uploads/thumbnail_helm_9127651c35.jpg"
                        }
                    },
                    "provider": "local",
                    "related": [
                        "5f635f8f5ee4c9001d2b966c"
                    ],
                    "createdAt": "2020-09-21T07:21:28.306Z",
                    "updatedAt": "2020-09-21T07:21:30.887Z",
                    "__v": 0,
                    "created_by": "5e4839cd1c2d53001dcc0696",
                    "updated_by": "5e4839cd1c2d53001dcc0696",
                    "id": "5f6854785ee4c9001d2b96cf"
                },
                "description": "Helm is a tool that streamlines installing and managing Kubernetes applications. ... A single chart might be used to deploy something simple, like a memcached pod, or something complex, like a full web app stack with HTTP servers, databases, caches, etc,",
                "id": "5f635f8f5ee4c9001d2b966c"
            },
            {
                "_id": "5f635f995ee4c9001d2b966d",
                "name": "Chart Museum",
                "rating": 7,
                "createdAt": "2020-09-17T13:07:37.145Z",
                "updatedAt": "2020-09-30T06:22:03.609Z",
                "__v": 0,
                "created_by": "5e4839cd1c2d53001dcc0696",
                "updated_by": "5e4839cd1c2d53001dcc0696",
                "image": {
                    "_id": "5f6854c05ee4c9001d2b96d1",
                    "name": "chart-museum.png",
                    "alternativeText": "",
                    "caption": "",
                    "hash": "chart_museum_a56509005a",
                    "ext": ".png",
                    "mime": "image/png",
                    "size": 72.28,
                    "width": 500,
                    "height": 225,
                    "url": "/uploads/chart_museum_a56509005a.png",
                    "formats": {
                        "thumbnail": {
                            "name": "thumbnail_chart-museum.png",
                            "hash": "thumbnail_chart_museum_a56509005a",
                            "ext": ".png",
                            "mime": "image/png",
                            "width": 245,
                            "height": 110,
                            "size": 29.64,
                            "path": null,
                            "url": "/uploads/thumbnail_chart_museum_a56509005a.png"
                        }
                    },
                    "provider": "local",
                    "related": [
                        "5f635f995ee4c9001d2b966d"
                    ],
                    "createdAt": "2020-09-21T07:22:40.798Z",
                    "updatedAt": "2020-09-21T07:22:43.401Z",
                    "__v": 0,
                    "created_by": "5e4839cd1c2d53001dcc0696",
                    "updated_by": "5e4839cd1c2d53001dcc0696",
                    "id": "5f6854c05ee4c9001d2b96d1"
                },
                "description": "ChartMuseum is an open-source Helm Chart Repository written in Go (Golang), with support for cloud storage backends, including Google Cloud Storage, Amazon S3, Microsoft Azure Blob Storage, Alibaba Cloud OSS Storage and Openstack Object Storage.",
                "id": "5f635f995ee4c9001d2b966d"
            },
            {
                "_id": "5f635c185ee4c9001d2b963a",
                "name": "Maven",
                "rating": 9.6,
                "createdAt": "2020-09-17T12:52:40.922Z",
                "updatedAt": "2020-09-22T06:36:50.576Z",
                "__v": 0,
                "created_by": "5e4839cd1c2d53001dcc0696",
                "updated_by": "5e4839cd1c2d53001dcc0696",
                "image": {
                    "_id": "5f6853265ee4c9001d2b96bf",
                    "name": "maven.png",
                    "alternativeText": "",
                    "caption": "",
                    "hash": "maven_8510b1d6fa",
                    "ext": ".png",
                    "mime": "image/png",
                    "size": 30.77,
                    "width": 1280,
                    "height": 324,
                    "url": "/uploads/maven_8510b1d6fa.png",
                    "formats": {
                        "thumbnail": {
                            "name": "thumbnail_maven.png",
                            "hash": "thumbnail_maven_8510b1d6fa",
                            "ext": ".png",
                            "mime": "image/png",
                            "width": 245,
                            "height": 62,
                            "size": 10.07,
                            "path": null,
                            "url": "/uploads/thumbnail_maven_8510b1d6fa.png"
                        },
                        "large": {
                            "name": "large_maven.png",
                            "hash": "large_maven_8510b1d6fa",
                            "ext": ".png",
                            "mime": "image/png",
                            "width": 1000,
                            "height": 253,
                            "size": 68.02,
                            "path": null,
                            "url": "/uploads/large_maven_8510b1d6fa.png"
                        },
                        "medium": {
                            "name": "medium_maven.png",
                            "hash": "medium_maven_8510b1d6fa",
                            "ext": ".png",
                            "mime": "image/png",
                            "width": 750,
                            "height": 190,
                            "size": 46.3,
                            "path": null,
                            "url": "/uploads/medium_maven_8510b1d6fa.png"
                        },
                        "small": {
                            "name": "small_maven.png",
                            "hash": "small_maven_8510b1d6fa",
                            "ext": ".png",
                            "mime": "image/png",
                            "width": 500,
                            "height": 127,
                            "size": 27.01,
                            "path": null,
                            "url": "/uploads/small_maven_8510b1d6fa.png"
                        }
                    },
                    "provider": "local",
                    "related": [
                        "5f635c185ee4c9001d2b963a"
                    ],
                    "createdAt": "2020-09-21T07:15:50.288Z",
                    "updatedAt": "2020-09-21T07:15:57.208Z",
                    "__v": 0,
                    "created_by": "5e4839cd1c2d53001dcc0696",
                    "updated_by": "5e4839cd1c2d53001dcc0696",
                    "id": "5f6853265ee4c9001d2b96bf"
                },
                "description": "Maven is a build automation tool used primarily for Java projects. Maven can also be used to build and manage projects written in C#, Ruby, Scala, and other languages. \n\nMaven addresses two aspects of building software: how software is built, and its dependencies. An XML file describes the software project being built, its dependencies on other external modules and components, the build order, directories, and required plug-ins. ",
                "id": "5f635c185ee4c9001d2b963a"
            },
            {
                "_id": "5f635c4f5ee4c9001d2b963f",
                "name": "Tekton",
                "createdAt": "2020-09-17T12:53:35.722Z",
                "updatedAt": "2020-09-22T21:20:48.795Z",
                "__v": 0,
                "created_by": "5e4839cd1c2d53001dcc0696",
                "updated_by": "5e4839cd1c2d53001dcc0696",
                "rating": 8,
                "image": {
                    "_id": "5f6853a55ee4c9001d2b96c7",
                    "name": "tekton.jpeg",
                    "alternativeText": "",
                    "caption": "",
                    "hash": "tekton_8b8bad63e8",
                    "ext": ".jpeg",
                    "mime": "image/jpeg",
                    "size": 13.24,
                    "width": 213,
                    "height": 237,
                    "url": "/uploads/tekton_8b8bad63e8.jpeg",
                    "formats": {
                        "thumbnail": {
                            "name": "thumbnail_tekton.jpeg",
                            "hash": "thumbnail_tekton_8b8bad63e8",
                            "ext": ".jpeg",
                            "mime": "image/jpeg",
                            "width": 140,
                            "height": 156,
                            "size": 7.5,
                            "path": null,
                            "url": "/uploads/thumbnail_tekton_8b8bad63e8.jpeg"
                        }
                    },
                    "provider": "local",
                    "related": [
                        "5f635c4f5ee4c9001d2b963f"
                    ],
                    "createdAt": "2020-09-21T07:17:57.258Z",
                    "updatedAt": "2020-09-21T07:17:59.250Z",
                    "__v": 0,
                    "created_by": "5e4839cd1c2d53001dcc0696",
                    "updated_by": "5e4839cd1c2d53001dcc0696",
                    "id": "5f6853a55ee4c9001d2b96c7"
                },
                "description": "The Tekton Pipelines project provides k8s-style resources for declaring CI/CD-style pipelines.\n\nTekton Pipelines are Cloud Native:\n\n- Run on Kubernetes\n- Have Kubernetes clusters as a first class type\n- Use containers as their building blocks\n",
                "id": "5f635c4f5ee4c9001d2b963f"
            },
            {
                "_id": "5f635ca45ee4c9001d2b9643",
                "name": "Kubernetes",
                "rating": 8,
                "createdAt": "2020-09-17T12:55:00.632Z",
                "updatedAt": "2020-09-22T21:28:44.327Z",
                "__v": 0,
                "created_by": "5e4839cd1c2d53001dcc0696",
                "updated_by": "5e4839cd1c2d53001dcc0696",
                "image": {
                    "_id": "5f66163d5ee4c9001d2b968e",
                    "name": "kubernetes.jpeg",
                    "alternativeText": "",
                    "caption": "",
                    "hash": "kubernetes_c13e33fa8c",
                    "ext": ".jpeg",
                    "mime": "image/jpeg",
                    "size": 17.62,
                    "width": 400,
                    "height": 388,
                    "url": "/uploads/kubernetes_c13e33fa8c.jpeg",
                    "formats": {
                        "thumbnail": {
                            "name": "thumbnail_kubernetes.jpeg",
                            "hash": "thumbnail_kubernetes_c13e33fa8c",
                            "ext": ".jpeg",
                            "mime": "image/jpeg",
                            "width": 161,
                            "height": 156,
                            "size": 6.17,
                            "path": null,
                            "url": "/uploads/thumbnail_kubernetes_c13e33fa8c.jpeg"
                        }
                    },
                    "provider": "local",
                    "related": [
                        "5f0408c59d8081001fd38fb1",
                        "5f635ca45ee4c9001d2b9643"
                    ],
                    "createdAt": "2020-09-19T14:31:25.284Z",
                    "updatedAt": "2020-09-21T12:08:28.703Z",
                    "__v": 0,
                    "created_by": "5e4839cd1c2d53001dcc0696",
                    "updated_by": "5e4839cd1c2d53001dcc0696",
                    "id": "5f66163d5ee4c9001d2b968e"
                },
                "description": "Kubernetes is a portable, extensible, open-source platform for managing containerized workloads and services, that facilitates both declarative configuration and automation. It has a large, rapidly growing ecosystem. Kubernetes provides you with:\n\n- **Service discovery and load balancing**\n- **Automated rollouts and rollbacks**: You provide Kubernetes with a cluster of nodes that it can use to run containerized tasks. You tell Kubernetes how much CPU and memory (RAM) each container needs. Kubernetes can fit containers onto your nodes to make the best use of your resources.\n- **Self-healing** Kubernetes restarts containers that fail, replaces containers, kills containers that don't respond to your user-defined health check, and doesn't advertise them to clients until they are ready to serve.\n- **Secret and configuration management** ",
                "id": "5f635ca45ee4c9001d2b9643"
            },
            {
                "_id": "5f635e935ee4c9001d2b9665",
                "name": "Typescript",
                "rating": 7.5,
                "createdAt": "2020-09-17T13:03:15.410Z",
                "updatedAt": "2020-09-27T08:10:06.054Z",
                "__v": 0,
                "created_by": "5e4839cd1c2d53001dcc0696",
                "updated_by": "5e4839cd1c2d53001dcc0696",
                "image": {
                    "_id": "5f689aee76320d001e515e8b",
                    "name": "ts.jpg",
                    "alternativeText": "",
                    "caption": "",
                    "hash": "ts_1c7c89d06d",
                    "ext": ".jpg",
                    "mime": "image/jpeg",
                    "size": 11.59,
                    "width": 400,
                    "height": 400,
                    "url": "/uploads/ts_1c7c89d06d.jpg",
                    "formats": {
                        "thumbnail": {
                            "name": "thumbnail_ts.jpg",
                            "hash": "thumbnail_ts_1c7c89d06d",
                            "ext": ".jpg",
                            "mime": "image/jpeg",
                            "width": 156,
                            "height": 156,
                            "size": 4.38,
                            "path": null,
                            "url": "/uploads/thumbnail_ts_1c7c89d06d.jpg"
                        }
                    },
                    "provider": "local",
                    "related": [
                        "5f635e935ee4c9001d2b9665"
                    ],
                    "createdAt": "2020-09-21T12:22:06.356Z",
                    "updatedAt": "2020-09-21T12:22:08.459Z",
                    "__v": 0,
                    "created_by": "5e4839cd1c2d53001dcc0696",
                    "updated_by": "5e4839cd1c2d53001dcc0696",
                    "id": "5f689aee76320d001e515e8b"
                },
                "description": "TypeScript is an open-source programming language developed and maintained by Microsoft. It is a strict syntactical superset of JavaScript and adds optional static typing to the language. TypeScript is designed for development of large applications and transcompiles to JavaScript",
                "id": "5f635e935ee4c9001d2b9665"
            },
            {
                "_id": "5f635e625ee4c9001d2b9660",
                "name": "React",
                "rating": 8.5,
                "createdAt": "2020-09-17T13:02:26.277Z",
                "updatedAt": "2020-09-27T08:07:00.023Z",
                "__v": 0,
                "created_by": "5e4839cd1c2d53001dcc0696",
                "updated_by": "5e4839cd1c2d53001dcc0696",
                "image": {
                    "_id": "5f66167a5ee4c9001d2b9692",
                    "name": "react.jpeg",
                    "alternativeText": "",
                    "caption": "",
                    "hash": "react_56f28418d3",
                    "ext": ".jpeg",
                    "mime": "image/jpeg",
                    "size": 11.98,
                    "width": 500,
                    "height": 353,
                    "url": "/uploads/react_56f28418d3.jpeg",
                    "formats": {
                        "thumbnail": {
                            "name": "thumbnail_react.jpeg",
                            "hash": "thumbnail_react_56f28418d3",
                            "ext": ".jpeg",
                            "mime": "image/jpeg",
                            "width": 221,
                            "height": 156,
                            "size": 4.08,
                            "path": null,
                            "url": "/uploads/thumbnail_react_56f28418d3.jpeg"
                        }
                    },
                    "provider": "local",
                    "related": [
                        "5f04152d9d8081001fd38fb9",
                        "5f635e625ee4c9001d2b9660"
                    ],
                    "createdAt": "2020-09-19T14:32:26.690Z",
                    "updatedAt": "2020-09-21T12:19:36.732Z",
                    "__v": 0,
                    "created_by": "5e4839cd1c2d53001dcc0696",
                    "updated_by": "5e4839cd1c2d53001dcc0696",
                    "id": "5f66167a5ee4c9001d2b9692"
                },
                "description": "React.js is an open-source JavaScript library that is used for building user interfaces specifically for single-page applications. It‚Äôs used for handling the view layer for web and mobile apps.\n\nReact allows developers to create large web applications that can change data, without reloading the page. The main purpose of React is to be fast, scalable, and simple. It works only on user interfaces in the application",
                "id": "5f635e625ee4c9001d2b9660"
            }
        ],
        "_id": "5f0215c69d8081001fd38fa1",
        "title": "Creating a rich web app that can be hosted from home",
        "shortDescription": "A quick introduction into the various components of my personal website including jenkinsx, kubernetes, letsencrypt and more.",
        "createdAt": "2020-07-05T18:02:46.731Z",
        "updatedAt": "2021-01-02T15:49:35.901Z",
        "__v": 0,
        "image": {
            "_id": "5f6616045ee4c9001d2b968a",
            "name": "Website Icon.jpeg",
            "alternativeText": "",
            "caption": "",
            "hash": "Website_Icon_727b161f01",
            "ext": ".jpeg",
            "mime": "image/jpeg",
            "size": 29.24,
            "width": 801,
            "height": 401,
            "url": "/uploads/Website_Icon_727b161f01.jpeg",
            "formats": {
                "thumbnail": {
                    "name": "thumbnail_Website Icon.jpeg",
                    "hash": "thumbnail_Website_Icon_727b161f01",
                    "ext": ".jpeg",
                    "mime": "image/jpeg",
                    "width": 245,
                    "height": 123,
                    "size": 6.52,
                    "path": null,
                    "url": "/uploads/thumbnail_Website_Icon_727b161f01.jpeg"
                },
                "medium": {
                    "name": "medium_Website Icon.jpeg",
                    "hash": "medium_Website_Icon_727b161f01",
                    "ext": ".jpeg",
                    "mime": "image/jpeg",
                    "width": 750,
                    "height": 375,
                    "size": 27.25,
                    "path": null,
                    "url": "/uploads/medium_Website_Icon_727b161f01.jpeg"
                },
                "small": {
                    "name": "small_Website Icon.jpeg",
                    "hash": "small_Website_Icon_727b161f01",
                    "ext": ".jpeg",
                    "mime": "image/jpeg",
                    "width": 500,
                    "height": 250,
                    "size": 16.14,
                    "path": null,
                    "url": "/uploads/small_Website_Icon_727b161f01.jpeg"
                }
            },
            "provider": "local",
            "related": [
                "5f0215c69d8081001fd38fa1"
            ],
            "createdAt": "2020-09-19T14:30:28.441Z",
            "updatedAt": "2020-09-19T14:30:33.163Z",
            "__v": 0,
            "created_by": "5e4839cd1c2d53001dcc0696",
            "updated_by": "5e4839cd1c2d53001dcc0696",
            "id": "5f6616045ee4c9001d2b968a"
        },
        "content": "I'm the kind of person that learns by doing - the more I do, the more it sinks in. Whilst attempting to keep my skills up to date, I had the idea of building a rich web application which would serve up my CV, and it could also double as a place to hone and demonstrate my skillsets in certain technologies. Eventually, I could even start blogging about these experiences. \n\nThe first thing I decided I would need would be a CMS (Content Management System). The content of my website would have to be dynamic, as I would like to keep my CV and blog up to date.  There were many options available here, but I finally settled on a headless CMS named ([strapi](https://strapi.io/)). Strapi would also require some sort of persistence layer, and  [mongodb](https://www.mongodb.com/ seemed to be a sensible choice.\n\nFor the web interface itself, there was a bit of competition between React and Angular. After spending years commercially working on Angular projects, I decided that React could be a good thing to learn and went with that.  \n\n```npx create-react-app my-app --template typescript``` is the command used to boostrap my react SPA (single page application) and I found a boostrap template from [here](https://wrapbootstrap.com/).\n\nSo far so good right ? I had picked the basic building blocks for building this dynamic CV/blog, but where would I run it ? I had a perfectly good iMac that was unused, and a fast enough internet connection. This app doesnt need to be highly available, as its just a little hobby app so this would suit well. I could use [ngrok](https://ngrok.com/) to make my app available to the internet, and I could use [Route 53](https://aws.amazon.com/route53/) to set up and configure my domain.\n\nKubernetes is a very popular way or running cloud native apps, so this was a pretty easy choice, the only issue was what flavour of it would work best on a mac. I started off with minikube, but started to have issues with persistent volumes, so eventually went with [kind (kubernetes in docker)](https://kind.sigs.k8s.io/). I could easily install nginx ingress controller, and it was super easy to configure.\n\nThe last thing to consider was how to deploy the individual components or services to the kubernetes cluster. One of my requirements was that I would want to make continual improvments to my app, so the deployment process must be as simple as possible. I would want to have git projects for each service,  build a container image, and deploy a helm chart (a helm chart is a collection of files that describe a related set of Kubernetes resources).  [Jenkins X](https://jenkins-x.io/) describes itself as *Jenkins X provides pipeline automation, built-in GitOps, and preview environments to help teams collaborate and accelerate their software delivery at any scale*. There was out of the box support for kubernetes flavours such as GKE (google cloud) and EKS (amazon web services), but a bit of customisation would be required if i wanted to run this on my local kubernetes cluster. This was easy enough and I was able to configure the following:\n- [Harbor](https://goharbor.io/) as the container registry of choice\n- [Cert Manager](https://cert-manager.io/) - configure cert manager to generate lets encrpt certificates using ACME challennges based on my use of AWS Route 53 for dns.\n- Installed MongoDB in the control plane.\n\nOverall my initial architecture looked something like this:\n\n![Website V1](/uploads/Website_V1_c3889a1afa.jpeg)\n\n\n*All source code for this app can be found here: (https://github.com/simonjamesrowe)*",
        "updated_by": {
            "isActive": true,
            "blocked": false,
            "roles": [
                "5f6314095ee4c9001d2b959f"
            ],
            "_id": "5e4839cd1c2d53001dcc0696",
            "username": "simon.rowe@gmail.com",
            "email": "simon.rowe@gmail.com",
            "createdAt": "2020-02-15T18:34:53.155Z",
            "updatedAt": "2020-09-17T07:45:13.526Z",
            "__v": 0,
            "id": "5e4839cd1c2d53001dcc0696"
        },
        "id": "5f0215c69d8081001fd38fa1"
    }
}
2021-01-12 22:21:19.858  INFO 79 --- [or-http-epoll-3] o.s.c.s.binder.DefaultBinderFactory      : Retrieving cached binder: kafka
2021-01-12 22:21:19.872  INFO 79 --- [or-http-epoll-3] o.s.c.s.b.k.p.KafkaTopicProvisioner      : Using kafka topic for outbound: LOCAL_EVENTS
2021-01-12 22:21:19.873  INFO 79 --- [or-http-epoll-3] o.a.k.clients.*****.AdminClientConfig    : AdminClientConfig values: 
	bootstrap.servers = [192.168.4.23:49247]
	client.dns.lookup = use_all_dns_ips
	client.id = 
	connections.max.idle.ms = 300000
	default.api.timeout.ms = 60000
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.3]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.3
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS

2021-01-12 22:21:19.878  INFO 79 --- [or-http-epoll-3] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 2.6.0
2021-01-12 22:21:19.879  INFO 79 --- [or-http-epoll-3] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 62abe01bee039651
2021-01-12 22:21:19.879  INFO 79 --- [or-http-epoll-3] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1610490079878
2021-01-12 22:21:19.982 DEBUG 79 --- [or-http-epoll-3] o.s.c.s.b.k.p.KafkaTopicProvisioner      : Attempting to retrieve the description for the topic: LOCAL_EVENTS
2021-01-12 22:21:20.046  INFO 79 --- [or-http-epoll-3] o.a.k.clients.producer.ProducerConfig    : ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [192.168.4.23:49247]
	buffer.memory = 33554432
	client.dns.lookup = use_all_dns_ips
	client.id = producer-1
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = false
	interceptor.classes = []
	internal.auto.downgrade.txn.commit = true
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metadata.max.idle.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.3]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.3
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class com.simonjamesrowe.model.serialization.EventSerializer

2021-01-12 22:21:20.147  INFO 79 --- [or-http-epoll-3] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 2.6.0
2021-01-12 22:21:20.148  INFO 79 --- [or-http-epoll-3] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 62abe01bee039651
2021-01-12 22:21:20.148  INFO 79 --- [or-http-epoll-3] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1610490080147
2021-01-12 22:21:20.166  INFO 79 --- [ad | producer-1] org.apache.kafka.clients.Metadata        : [Producer clientId=producer-1] Cluster ID: uw4gk4ykThOrDvj-HLBvCA
2021-01-12 22:21:20.242  INFO 79 --- [or-http-epoll-3] o.a.k.clients.producer.KafkaProducer     : [Producer clientId=producer-1] Closing the Kafka producer with timeoutMillis = 30000 ms.
2021-01-12 22:21:20.269  INFO 79 --- [or-http-epoll-3] o.s.c.s.m.DirectWithAttributesChannel    : Channel 'unknown.channel.name' has 1 subscriber(s).
2021-01-12 22:21:20.347 DEBUG 79 --- [or-http-epoll-3] o.s.c.s.m.DirectWithAttributesChannel    : preSend on channel 'org.springframework.cloud.stream.messaging.DirectWithAttributesChannel@1422e25d', message: GenericMessage [payload=Event(event=entry.update, createdAt=2021-01-02T15:49:35.918Z, model=blog, entry={"published":true,"tags":[{"_id":"5e495da7bc8d7d001ddbd7c5","name":"Kubernetes","createdAt":"2020-02-16T15:20:07.909Z","updatedAt":"2020-02-16T22:04:13.013Z","__v":0,"id":"5e495da7bc8d7d001ddbd7c5"},{"_id":"5f02da709d8081001fd38fa4","name":"Jenkins","createdAt":"2020-07-06T08:01:52.572Z","updatedAt":"2020-07-06T08:01:52.572Z","__v":0,"id":"5f02da709d8081001fd38fa4"},{"_id":"5f03901b9d8081001fd38fa7","name":"Strapi","createdAt":"2020-07-06T20:56:59.818Z","updatedAt":"2020-07-06T20:56:59.818Z","__v":0,"id":"5f03901b9d8081001fd38fa7"},{"_id":"5f0390249d8081001fd38fa8","name":"TLS","createdAt":"2020-07-06T20:57:08.354Z","updatedAt":"2020-07-06T20:57:08.354Z","__v":0,"id":"5f0390249d8081001fd38fa8"},{"_id":"5f0390329d8081001fd38fa9","name":"MongoDB","createdAt":"2020-07-06T20:57:22.633Z","updatedAt":"2020-07-06T20:57:22.633Z","__v":0,"id":"5f0390329d8081001fd38fa9"},{"_id":"5f0390499d8081001fd38faa","name":"React","createdAt":"2020-07-06T20:57:45.054Z","updatedAt":"2020-07-06T20:57:45.054Z","__v":0,"id":"5f0390499d8081001fd38faa"}],"skills":[{"_id":"5f635b6a5ee4c9001d2b9632","name":"Spring Boot","rating":9.7,"order":1,"createdAt":"2020-09-17T12:49:46.739Z","updatedAt":"2020-09-21T21:05:20.308Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","image":{"_id":"5f6851a85ee4c9001d2b96af","name":"spring-boot.jpeg","alternativeText":"","caption":"","hash":"spring_boot_5ee37de4c1","ext":".jpeg","mime":"image/png","size":7.98,"width":400,"height":400,"url":"/uploads/spring_boot_5ee37de4c1.jpeg","formats":{"thumbnail":{"name":"thumbnail_spring-boot.jpeg","hash":"thumbnail_spring_boot_5ee37de4c1","ext":".jpeg","mime":"image/png","width":156,"height":156,"size":5.21,"path":null,"url":"/uploads/thumbnail_spring_boot_5ee37de4c1.jpeg"}},"provider":"local","related":["5f635b6a5ee4c9001d2b9632","5feed4c667bdd6001e9c12d0"],"createdAt":"2020-09-21T07:09:28.458Z","updatedAt":"2021-01-01T21:02:32.991Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","id":"5f6851a85ee4c9001d2b96af"},"description":"Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".\n\n- Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)\n- Provide opinionated 'starter' dependencies to simplify your build configuration\n- Automatically configure Spring and 3rd party libraries whenever possible\n- Provide production-ready features such as metrics, health checks, and externalized configuration","id":"5f635b6a5ee4c9001d2b9632"},{"_id":"5f635b555ee4c9001d2b9631","name":"Kotlin","rating":8,"createdAt":"2020-09-17T12:49:25.636Z","updatedAt":"2020-09-21T21:01:54.939Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","image":{"_id":"5f65ec765ee4c9001d2b9676","name":"kotlin_250x250.png","alternativeText":"","caption":"","hash":"kotlin_250x250_dfc086e243","ext":".png","mime":"image/png","size":3.69,"width":250,"height":250,"url":"/uploads/kotlin_250x250_dfc086e243.png","formats":{"thumbnail":{"name":"thumbnail_kotlin_250x250.png","hash":"thumbnail_kotlin_250x250_dfc086e243","ext":".png","mime":"image/png","width":156,"height":156,"size":6.89,"path":null,"url":"/uploads/thumbnail_kotlin_250x250_dfc086e243.png"}},"provider":"local","related":["5f6359c55ee4c9001d2b9627","5f635b555ee4c9001d2b9631"],"createdAt":"2020-09-19T11:33:10.896Z","updatedAt":"2020-09-21T06:17:06.069Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","id":"5f65ec765ee4c9001d2b9676"},"description":"- Lambda expressions + Inline functions = performant custom control structures\n- Extension functions\n- Null-safety\n- Smart casts\n- String templates\n- Properties\n- Primary cons
tructors\n- First-class delegation\n- Type inference for variable and property types\n- Singletons\n- Declaration-site variance & Type projections\n- Range expressions\n- Operator overloading\n- Companion objects\n- Data classes\n- Separate interfaces for read-only and mutable collections\n- Coroutines","id":"5f635b555ee4c9001d2b9631"},{"_id":"5f635c2e5ee4c9001d2b963c","name":"Jenkins Pipeline","rating":8,"createdAt":"2020-09-17T12:53:02.588Z","updatedAt":"2020-09-22T06:41:07.845Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","image":{"_id":"5f65ed105ee4c9001d2b967c","name":"jenkins-5-569553.png","alternativeText":"","caption":"","hash":"jenkins_5_569553_cb54b85a4c","ext":".png","mime":"image/png","size":12.15,"width":256,"height":256,"url":"/uploads/jenkins_5_569553_cb54b85a4c.png","formats":{"thumbnail":{"name":"thumbnail_jenkins-5-569553.png","hash":"thumbnail_jenkins_5_569553_cb54b85a4c","ext":".png","mime":"image/png","width":156,"height":156,"size":16.21,"path":null,"url":"/uploads/thumbnail_jenkins_5_569553_cb54b85a4c.png"}},"provider":"local","related":["5f635a195ee4c9001d2b962a","5f635c2e5ee4c9001d2b963c"],"createdAt":"2020-09-19T11:35:44.624Z","updatedAt":"2020-09-21T07:16:50.216Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","id":"5f65ed105ee4c9001d2b967c"},"description":"Pipeline is a suite of plugins that supports implementing and integrating continuous delivery pipelines into Jenkins. Pipeline provides an extensible set of tools for modelling simple-to-complex delivery pipelines \"as code\" via the Pipeline DSL (groovy). ","id":"5f635c2e5ee4c9001d2b963c"},{"_id":"5f635c375ee4c9001d2b963d","name":"Jenkins X","rating":9,"createdAt":"2020-09-17T12:53:11.954Z","updatedAt":"2020-09-22T21:19:16.887Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","image":{"_id":"5f6616545ee4c9001d2b9690","name":"jenkinsx.png","alternativeText":"","caption":"","hash":"jenkinsx_d56c6fea15","ext":".png","mime":"image/png","size":25.16,"width":696,"height":398,"url":"/uploads/jenkinsx_d56c6fea15.png","formats":{"thumbnail":{"name":"thumbnail_jenkinsx.png","hash":"thumbnail_jenkinsx_d56c6fea15","ext":".png","mime":"image/png","width":245,"height":140,"size":9.18,"path":null,"url":"/uploads/thumbnail_jenkinsx_d56c6fea15.png"},"small":{"name":"small_jenkinsx.png","hash":"small_jenkinsx_d56c6fea15","ext":".png","mime":"image/png","width":500,"height":286,"size":22.51,"path":null,"url":"/uploads/small_jenkinsx_d56c6fea15.png"}},"provider":"local","related":["5f0413739d8081001fd38fb6","5f635c375ee4c9001d2b963d"],"createdAt":"2020-09-19T14:31:48.129Z","updatedAt":"2020-09-21T07:17:01.500Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","id":"5f6616545ee4c9001d2b9690"},"description":"Jenkins X provides pipeline automation, built-in GitOps, and preview environments to help teams collaborate and accelerate their software delivery at any scale. Jenkins X builds upon the following core components:\n- Kubernetes and Docker\n- Helm and Draft","id":"5f635c375ee4c9001d2b963d"},{"_id":"5f635f8f5ee4c9001d2b966c","name":"Helm","rating":8,"createdAt":"2020-09-17T13:07:27.527Z","updatedAt":"2020-09-30T06:20:10.213Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","image":{"_id":"5f6854785ee4c9001d2b96cf","name":"helm.jpg","alternativeText":"","caption":"","hash":"helm_9127651c35","ext":".jpg","mime":"image/jpeg","size":12.82,"width":366,"height":366,"url":"/uploads/helm_9127651c35.jpg","formats":{"thumbnail":{"name":"thumbnail_helm.jpg","hash":"thumbnail_helm_9127651c35","ext":".jpg","mime":"image/jpeg","width":156,"height":156,"size":5.11,"path":null,"url":"/uploads/thumbnail_helm_9127651c35.jpg"}},"provider":"local","related":["5f635f8f5ee4c9001d2b966c"],"createdAt":"2020-09-21T07:21:28.306Z","updatedAt":"2020-09-21T07:21:30.887Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","id":"5f6854785ee4c9001d2b96cf"
},"description":"Helm is a tool that streamlines installing and managing Kubernetes applications. ... A single chart might be used to deploy something simple, like a memcached pod, or something complex, like a full web app stack with HTTP servers, databases, caches, etc,","id":"5f635f8f5ee4c9001d2b966c"},{"_id":"5f635f995ee4c9001d2b966d","name":"Chart Museum","rating":7,"createdAt":"2020-09-17T13:07:37.145Z","updatedAt":"2020-09-30T06:22:03.609Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","image":{"_id":"5f6854c05ee4c9001d2b96d1","name":"chart-museum.png","alternativeText":"","caption":"","hash":"chart_museum_a56509005a","ext":".png","mime":"image/png","size":72.28,"width":500,"height":225,"url":"/uploads/chart_museum_a56509005a.png","formats":{"thumbnail":{"name":"thumbnail_chart-museum.png","hash":"thumbnail_chart_museum_a56509005a","ext":".png","mime":"image/png","width":245,"height":110,"size":29.64,"path":null,"url":"/uploads/thumbnail_chart_museum_a56509005a.png"}},"provider":"local","related":["5f635f995ee4c9001d2b966d"],"createdAt":"2020-09-21T07:22:40.798Z","updatedAt":"2020-09-21T07:22:43.401Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","id":"5f6854c05ee4c9001d2b96d1"},"description":"ChartMuseum is an open-source Helm Chart Repository written in Go (Golang), with support for cloud storage backends, including Google Cloud Storage, Amazon S3, Microsoft Azure Blob Storage, Alibaba Cloud OSS Storage and Openstack Object Storage.","id":"5f635f995ee4c9001d2b966d"},{"_id":"5f635c185ee4c9001d2b963a","name":"Maven","rating":9.6,"createdAt":"2020-09-17T12:52:40.922Z","updatedAt":"2020-09-22T06:36:50.576Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","image":{"_id":"5f6853265ee4c9001d2b96bf","name":"maven.png","alternativeText":"","caption":"","hash":"maven_8510b1d6fa","ext":".png","mime":"image/png","size":30.77,"width":1280,"height":324,"url":"/uploads/maven_8510b1d6fa.png","formats":{"thumbnail":{"name":"thumbnail_maven.png","hash":"thumbnail_maven_8510b1d6fa","ext":".png","mime":"image/png","width":245,"height":62,"size":10.07,"path":null,"url":"/uploads/thumbnail_maven_8510b1d6fa.png"},"large":{"name":"large_maven.png","hash":"large_maven_8510b1d6fa","ext":".png","mime":"image/png","width":1000,"height":253,"size":68.02,"path":null,"url":"/uploads/large_maven_8510b1d6fa.png"},"medium":{"name":"medium_maven.png","hash":"medium_maven_8510b1d6fa","ext":".png","mime":"image/png","width":750,"height":190,"size":46.3,"path":null,"url":"/uploads/medium_maven_8510b1d6fa.png"},"small":{"name":"small_maven.png","hash":"small_maven_8510b1d6fa","ext":".png","mime":"image/png","width":500,"height":127,"size":27.01,"path":null,"url":"/uploads/small_maven_8510b1d6fa.png"}},"provider":"local","related":["5f635c185ee4c9001d2b963a"],"createdAt":"2020-09-21T07:15:50.288Z","updatedAt":"2020-09-21T07:15:57.208Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","id":"5f6853265ee4c9001d2b96bf"},"description":"Maven is a build automation tool used primarily for Java projects. Maven can also be used to build and manage projects written in C#, Ruby, Scala, and other languages. \n\nMaven addresses two aspects of building software: how software is built, and its dependencies. An XML file describes the software project being built, its dependencies on other external modules and components, the build order, directories, and required plug-ins. ","id":"5f635c185ee4c9001d2b963a"},{"_id":"5f635c4f5ee4c9001d2b963f","name":"Tekton","createdAt":"2020-09-17T12:53:35.722Z","updatedAt":"2020-09-22T21:20:48.795Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","rating":8,"image":{"_id":"5f6853a55ee4c9001d2b96c7","name":"tekton.jpeg","alternativeText":"","caption":"","hash":"tekton_8b8bad63e8","ext":".jpeg","mime":"image/jpeg","size":13.24,"width":213,"height":237,"url":"/uploads/tekton_8b8bad63e8.jpeg","formats":{"thumbnail":{"name":"thumbnail_tekto
n.jpeg","hash":"thumbnail_tekton_8b8bad63e8","ext":".jpeg","mime":"image/jpeg","width":140,"height":156,"size":7.5,"path":null,"url":"/uploads/thumbnail_tekton_8b8bad63e8.jpeg"}},"provider":"local","related":["5f635c4f5ee4c9001d2b963f"],"createdAt":"2020-09-21T07:17:57.258Z","updatedAt":"2020-09-21T07:17:59.250Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","id":"5f6853a55ee4c9001d2b96c7"},"description":"The Tekton Pipelines project provides k8s-style resources for declaring CI/CD-style pipelines.\n\nTekton Pipelines are Cloud Native:\n\n- Run on Kubernetes\n- Have Kubernetes clusters as a first class type\n- Use containers as their building blocks\n","id":"5f635c4f5ee4c9001d2b963f"},{"_id":"5f635ca45ee4c9001d2b9643","name":"Kubernetes","rating":8,"createdAt":"2020-09-17T12:55:00.632Z","updatedAt":"2020-09-22T21:28:44.327Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","image":{"_id":"5f66163d5ee4c9001d2b968e","name":"kubernetes.jpeg","alternativeText":"","caption":"","hash":"kubernetes_c13e33fa8c","ext":".jpeg","mime":"image/jpeg","size":17.62,"width":400,"height":388,"url":"/uploads/kubernetes_c13e33fa8c.jpeg","formats":{"thumbnail":{"name":"thumbnail_kubernetes.jpeg","hash":"thumbnail_kubernetes_c13e33fa8c","ext":".jpeg","mime":"image/jpeg","width":161,"height":156,"size":6.17,"path":null,"url":"/uploads/thumbnail_kubernetes_c13e33fa8c.jpeg"}},"provider":"local","related":["5f0408c59d8081001fd38fb1","5f635ca45ee4c9001d2b9643"],"createdAt":"2020-09-19T14:31:25.284Z","updatedAt":"2020-09-21T12:08:28.703Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","id":"5f66163d5ee4c9001d2b968e"},"description":"Kubernetes is a portable, extensible, open-source platform for managing containerized workloads and services, that facilitates both declarative configuration and automation. It has a large, rapidly growing ecosystem. Kubernetes provides you with:\n\n- **Service discovery and load balancing**\n- **Automated rollouts and rollbacks**: You provide Kubernetes with a cluster of nodes that it can use to run containerized tasks. You tell Kubernetes how much CPU and memory (RAM) each container needs. Kubernetes can fit containers onto your nodes to make the best use of your resources.\n- **Self-healing** Kubernetes restarts containers that fail, replaces containers, kills containers that don't respond to your user-defined health check, and doesn't advertise them to clients until they are ready to serve.\n- **Secret and configuration management** ","id":"5f635ca45ee4c9001d2b9643"},{"_id":"5f635e935ee4c9001d2b9665","name":"Typescript","rating":7.5,"createdAt":"2020-09-17T13:03:15.410Z","updatedAt":"2020-09-27T08:10:06.054Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","image":{"_id":"5f689aee76320d001e515e8b","name":"ts.jpg","alternativeText":"","caption":"","hash":"ts_1c7c89d06d","ext":".jpg","mime":"image/jpeg","size":11.59,"width":400,"height":400,"url":"/uploads/ts_1c7c89d06d.jpg","formats":{"thumbnail":{"name":"thumbnail_ts.jpg","hash":"thumbnail_ts_1c7c89d06d","ext":".jpg","mime":"image/jpeg","width":156,"height":156,"size":4.38,"path":null,"url":"/uploads/thumbnail_ts_1c7c89d06d.jpg"}},"provider":"local","related":["5f635e935ee4c9001d2b9665"],"createdAt":"2020-09-21T12:22:06.356Z","updatedAt":"2020-09-21T12:22:08.459Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","id":"5f689aee76320d001e515e8b"},"description":"TypeScript is an open-source programming language developed and maintained by Microsoft. It is a strict syntactical superset of JavaScript and adds optional static typing to the language. TypeScript is designed for development of large applications and transcompiles to JavaScript","id":"5f635e935ee4c9001d2b9665"},{"_id":"5f635e625ee4c9001d2b9660","name":"React","rating":8.5,"createdAt":"2020-09-17T13:02:26.277Z","updatedAt":"2020-09-27T08:07:00.023Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e48
39cd1c2d53001dcc0696","image":{"_id":"5f66167a5ee4c9001d2b9692","name":"react.jpeg","alternativeText":"","caption":"","hash":"react_56f28418d3","ext":".jpeg","mime":"image/jpeg","size":11.98,"width":500,"height":353,"url":"/uploads/react_56f28418d3.jpeg","formats":{"thumbnail":{"name":"thumbnail_react.jpeg","hash":"thumbnail_react_56f28418d3","ext":".jpeg","mime":"image/jpeg","width":221,"height":156,"size":4.08,"path":null,"url":"/uploads/thumbnail_react_56f28418d3.jpeg"}},"provider":"local","related":["5f04152d9d8081001fd38fb9","5f635e625ee4c9001d2b9660"],"createdAt":"2020-09-19T14:32:26.690Z","updatedAt":"2020-09-21T12:19:36.732Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","id":"5f66167a5ee4c9001d2b9692"},"description":"React.js is an open-source JavaScript library that is used for building user interfaces specifically for single-page applications. It‚Äôs used for handling the view layer for web and mobile apps.\n\nReact allows developers to create large web applications that can change data, without reloading the page. The main purpose of React is to be fast, scalable, and simple. It works only on user interfaces in the application","id":"5f635e625ee4c9001d2b9660"}],"_id":"5f0215c69d8081001fd38fa1","title":"Creating a rich web app that can be hosted from home","shortDescription":"A quick introduction into the various components of my personal website including jenkinsx, kubernetes, letsencrypt and more.","createdAt":"2020-07-05T18:02:46.731Z","updatedAt":"2021-01-02T15:49:35.901Z","__v":0,"image":{"_id":"5f6616045ee4c9001d2b968a","name":"Website Icon.jpeg","alternativeText":"","caption":"","hash":"Website_Icon_727b161f01","ext":".jpeg","mime":"image/jpeg","size":29.24,"width":801,"height":401,"url":"/uploads/Website_Icon_727b161f01.jpeg","formats":{"thumbnail":{"name":"thumbnail_Website Icon.jpeg","hash":"thumbnail_Website_Icon_727b161f01","ext":".jpeg","mime":"image/jpeg","width":245,"height":123,"size":6.52,"path":null,"url":"/uploads/thumbnail_Website_Icon_727b161f01.jpeg"},"medium":{"name":"medium_Website Icon.jpeg","hash":"medium_Website_Icon_727b161f01","ext":".jpeg","mime":"image/jpeg","width":750,"height":375,"size":27.25,"path":null,"url":"/uploads/medium_Website_Icon_727b161f01.jpeg"},"small":{"name":"small_Website Icon.jpeg","hash":"small_Website_Icon_727b161f01","ext":".jpeg","mime":"image/jpeg","width":500,"height":250,"size":16.14,"path":null,"url":"/uploads/small_Website_Icon_727b161f01.jpeg"}},"provider":"local","related":["5f0215c69d8081001fd38fa1"],"createdAt":"2020-09-19T14:30:28.441Z","updatedAt":"2020-09-19T14:30:33.163Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","id":"5f6616045ee4c9001d2b968a"},"content":"I'm the kind of person that learns by doing - the more I do, the more it sinks in. Whilst attempting to keep my skills up to date, I had the idea of building a rich web application which would serve up my CV, and it could also double as a place to hone and demonstrate my skillsets in certain technologies. Eventually, I could even start blogging about these experiences. \n\nThe first thing I decided I would need would be a CMS (Content Management System). The content of my website would have to be dynamic, as I would like to keep my CV and blog up to date.  There were many options available here, but I finally settled on a headless CMS named ([strapi](https://strapi.io/)). Strapi would also require some sort of persistence layer, and  [mongodb](https://www.mongodb.com/ seemed to be a sensible choice.\n\nFor the web interface itself, there was a bit of competition between React and Angular. After spending years commercially working on Angular projects, I decided that React could be a good thing to learn and went with that.  \n\n```npx create-react-app my-app --template typescript``` is the command used to boostrap my react SPA (single page application) and I found a boostrap template from [here](https://wrapbootstrap.com/).\n\nSo far so good right ? I had picked the basic building blocks for building this d
ynamic CV/blog, but where would I run it ? I had a perfectly good iMac that was unused, and a fast enough internet connection. This app doesnt need to be highly available, as its just a little hobby app so this would suit well. I could use [ngrok](https://ngrok.com/) to make my app available to the internet, and I could use [Route 53](https://aws.amazon.com/route53/) to set up and configure my domain.\n\nKubernetes is a very popular way or running cloud native apps, so this was a pretty easy choice, the only issue was what flavour of it would work best on a mac. I started off with minikube, but started to have issues with persistent volumes, so eventually went with [kind (kubernetes in docker)](https://kind.sigs.k8s.io/). I could easily install nginx ingress controller, and it was super easy to configure.\n\nThe last thing to consider was how to deploy the individual components or services to the kubernetes cluster. One of my requirements was that I would want to make continual improvments to my app, so the deployment process must be as simple as possible. I would want to have git projects for each service,  build a container image, and deploy a helm chart (a helm chart is a collection of files that describe a related set of Kubernetes resources).  [Jenkins X](https://jenkins-x.io/) describes itself as *Jenkins X provides pipeline automation, built-in GitOps, and preview environments to help teams collaborate and accelerate their software delivery at any scale*. There was out of the box support for kubernetes flavours such as GKE (google cloud) and EKS (amazon web services), but a bit of customisation would be required if i wanted to run this on my local kubernetes cluster. This was easy enough and I was able to configure the following:\n- [Harbor](https://goharbor.io/) as the container registry of choice\n- [Cert Manager](https://cert-manager.io/) - configure cert manager to generate lets encrpt certificates using ACME challennges based on my use of AWS Route 53 for dns.\n- Installed MongoDB in the control plane.\n\nOverall my initial architecture looked something like this:\n\n![Website V1](/uploads/Website_V1_c3889a1afa.jpeg)\n\n\n*All source code for this app can be found here: (https://github.com/simonjamesrowe)*","updated_by":{"isActive":true,"blocked":false,"roles":["5f6314095ee4c9001d2b959f"],"_id":"5e4839cd1c2d53001dcc0696","username":"simon.rowe@gmail.com","email":"simon.rowe@gmail.com","createdAt":"2020-02-15T18:34:53.155Z","updatedAt":"2020-09-17T07:45:13.526Z","__v":0,"id":"5e4839cd1c2d53001dcc0696"},"id":"5f0215c69d8081001fd38fa1"}), headers={model=blog, id=c0c23ed0-4229-482d-75fa-6fe67d6452af, kafka_messageKey=blog-5f0215c69d8081001fd38fa1, timestamp=1610490079857}]
2021-01-12 22:21:20.357 DEBUG 79 --- [or-http-epoll-3] tractMessageChannelBinder$SendingHandler : org.springframework.cloud.stream.binder.AbstractMessageChannelBinder$SendingHandler@68f7578e received message: GenericMessage [payload=Event(event=entry.update, createdAt=2021-01-02T15:49:35.918Z, model=blog, entry={"published":true,"tags":[{"_id":"5e495da7bc8d7d001ddbd7c5","name":"Kubernetes","createdAt":"2020-02-16T15:20:07.909Z","updatedAt":"2020-02-16T22:04:13.013Z","__v":0,"id":"5e495da7bc8d7d001ddbd7c5"},{"_id":"5f02da709d8081001fd38fa4","name":"Jenkins","createdAt":"2020-07-06T08:01:52.572Z","updatedAt":"2020-07-06T08:01:52.572Z","__v":0,"id":"5f02da709d8081001fd38fa4"},{"_id":"5f03901b9d8081001fd38fa7","name":"Strapi","createdAt":"2020-07-06T20:56:59.818Z","updatedAt":"2020-07-06T20:56:59.818Z","__v":0,"id":"5f03901b9d8081001fd38fa7"},{"_id":"5f0390249d8081001fd38fa8","name":"TLS","createdAt":"2020-07-06T20:57:08.354Z","updatedAt":"2020-07-06T20:57:08.354Z","__v":0,"id":"5f0390249d8081001fd38fa8"},{"_id":"5f0390329d8081001fd38fa9","name":"MongoDB","createdAt":"2020-07-06T20:57:22.633Z","updatedAt":"2020-07-06T20:57:22.633Z","__v":0,"id":"5f0390329d8081001fd38fa9"},{"_id":"5f0390499d8081001fd38faa","name":"React","createdAt":"2020-07-06T20:57:45.054Z","updatedAt":"2020-07-06T20:57:45.054Z","__v":0,"id":"5f0390499d8081001fd38faa"}],"skills":[{"_id":"5f635b6a5ee4c9001d2b9632","name":"Spring Boot","rating":9.7,"order":1,"createdAt":"2020-09-17T12:49:46.739Z","updatedAt":"2020-09-21T21:05:20.308Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","image":{"_id":"5f6851a85ee4c9001d2b96af","name":"spring-boot.jpeg","alternativeText":"","caption":"","hash":"spring_boot_5ee37de4c1","ext":".jpeg","mime":"image/png","size":7.98,"width":400,"height":400,"url":"/uploads/spring_boot_5ee37de4c1.jpeg","formats":{"thumbnail":{"name":"thumbnail_spring-boot.jpeg","hash":"thumbnail_spring_boot_5ee37de4c1","ext":".jpeg","mime":"image/png","width":156,"height":156,"size":5.21,"path":null,"url":"/uploads/thumbnail_spring_boot_5ee37de4c1.jpeg"}},"provider":"local","related":["5f635b6a5ee4c9001d2b9632","5feed4c667bdd6001e9c12d0"],"createdAt":"2020-09-21T07:09:28.458Z","updatedAt":"2021-01-01T21:02:32.991Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","id":"5f6851a85ee4c9001d2b96af"},"description":"Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".\n\n- Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)\n- Provide opinionated 'starter' dependencies to simplify your build configuration\n- Automatically configure Spring and 3rd party libraries whenever possible\n- Provide production-ready features such as metrics, health checks, and externalized configuration","id":"5f635b6a5ee4c9001d2b9632"},{"_id":"5f635b555ee4c9001d2b9631","name":"Kotlin","rating":8,"createdAt":"2020-09-17T12:49:25.636Z","updatedAt":"2020-09-21T21:01:54.939Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","image":{"_id":"5f65ec765ee4c9001d2b9676","name":"kotlin_250x250.png","alternativeText":"","caption":"","hash":"kotlin_250x250_dfc086e243","ext":".png","mime":"image/png","size":3.69,"width":250,"height":250,"url":"/uploads/kotlin_250x250_dfc086e243.png","formats":{"thumbnail":{"name":"thumbnail_kotlin_250x250.png","hash":"thumbnail_kotlin_250x250_dfc086e243","ext":".png","mime":"image/png","width":156,"height":156,"size":6.89,"path":null,"url":"/uploads/thumbnail_kotlin_250x250_dfc086e243.png"}},"provider":"local","related":["5f6359c55ee4c9001d2b9627","5f635b555ee4c9001d2b9631"],"createdAt":"2020-09-19T11:33:10.896Z","updatedAt":"2020-09-21T06:17:06.069Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","id":"5f65ec765ee4c9001d2b9676"},"description":"- Lambda expressions + Inline functions = performant custom control structures\n- Extension functions\n- Null-safety\n- Smart casts\n- String templates\n- Properties\n- Primary cons
tructors\n- First-class delegation\n- Type inference for variable and property types\n- Singletons\n- Declaration-site variance & Type projections\n- Range expressions\n- Operator overloading\n- Companion objects\n- Data classes\n- Separate interfaces for read-only and mutable collections\n- Coroutines","id":"5f635b555ee4c9001d2b9631"},{"_id":"5f635c2e5ee4c9001d2b963c","name":"Jenkins Pipeline","rating":8,"createdAt":"2020-09-17T12:53:02.588Z","updatedAt":"2020-09-22T06:41:07.845Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","image":{"_id":"5f65ed105ee4c9001d2b967c","name":"jenkins-5-569553.png","alternativeText":"","caption":"","hash":"jenkins_5_569553_cb54b85a4c","ext":".png","mime":"image/png","size":12.15,"width":256,"height":256,"url":"/uploads/jenkins_5_569553_cb54b85a4c.png","formats":{"thumbnail":{"name":"thumbnail_jenkins-5-569553.png","hash":"thumbnail_jenkins_5_569553_cb54b85a4c","ext":".png","mime":"image/png","width":156,"height":156,"size":16.21,"path":null,"url":"/uploads/thumbnail_jenkins_5_569553_cb54b85a4c.png"}},"provider":"local","related":["5f635a195ee4c9001d2b962a","5f635c2e5ee4c9001d2b963c"],"createdAt":"2020-09-19T11:35:44.624Z","updatedAt":"2020-09-21T07:16:50.216Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","id":"5f65ed105ee4c9001d2b967c"},"description":"Pipeline is a suite of plugins that supports implementing and integrating continuous delivery pipelines into Jenkins. Pipeline provides an extensible set of tools for modelling simple-to-complex delivery pipelines \"as code\" via the Pipeline DSL (groovy). ","id":"5f635c2e5ee4c9001d2b963c"},{"_id":"5f635c375ee4c9001d2b963d","name":"Jenkins X","rating":9,"createdAt":"2020-09-17T12:53:11.954Z","updatedAt":"2020-09-22T21:19:16.887Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","image":{"_id":"5f6616545ee4c9001d2b9690","name":"jenkinsx.png","alternativeText":"","caption":"","hash":"jenkinsx_d56c6fea15","ext":".png","mime":"image/png","size":25.16,"width":696,"height":398,"url":"/uploads/jenkinsx_d56c6fea15.png","formats":{"thumbnail":{"name":"thumbnail_jenkinsx.png","hash":"thumbnail_jenkinsx_d56c6fea15","ext":".png","mime":"image/png","width":245,"height":140,"size":9.18,"path":null,"url":"/uploads/thumbnail_jenkinsx_d56c6fea15.png"},"small":{"name":"small_jenkinsx.png","hash":"small_jenkinsx_d56c6fea15","ext":".png","mime":"image/png","width":500,"height":286,"size":22.51,"path":null,"url":"/uploads/small_jenkinsx_d56c6fea15.png"}},"provider":"local","related":["5f0413739d8081001fd38fb6","5f635c375ee4c9001d2b963d"],"createdAt":"2020-09-19T14:31:48.129Z","updatedAt":"2020-09-21T07:17:01.500Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","id":"5f6616545ee4c9001d2b9690"},"description":"Jenkins X provides pipeline automation, built-in GitOps, and preview environments to help teams collaborate and accelerate their software delivery at any scale. Jenkins X builds upon the following core components:\n- Kubernetes and Docker\n- Helm and Draft","id":"5f635c375ee4c9001d2b963d"},{"_id":"5f635f8f5ee4c9001d2b966c","name":"Helm","rating":8,"createdAt":"2020-09-17T13:07:27.527Z","updatedAt":"2020-09-30T06:20:10.213Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","image":{"_id":"5f6854785ee4c9001d2b96cf","name":"helm.jpg","alternativeText":"","caption":"","hash":"helm_9127651c35","ext":".jpg","mime":"image/jpeg","size":12.82,"width":366,"height":366,"url":"/uploads/helm_9127651c35.jpg","formats":{"thumbnail":{"name":"thumbnail_helm.jpg","hash":"thumbnail_helm_9127651c35","ext":".jpg","mime":"image/jpeg","width":156,"height":156,"size":5.11,"path":null,"url":"/uploads/thumbnail_helm_9127651c35.jpg"}},"provider":"local","related":["5f635f8f5ee4c9001d2b966c"],"createdAt":"2020-09-21T07:21:28.306Z","updatedAt":"2020-09-21T07:21:30.887Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","id":"5f6854785ee4c9001d2b96cf"
},"description":"Helm is a tool that streamlines installing and managing Kubernetes applications. ... A single chart might be used to deploy something simple, like a memcached pod, or something complex, like a full web app stack with HTTP servers, databases, caches, etc,","id":"5f635f8f5ee4c9001d2b966c"},{"_id":"5f635f995ee4c9001d2b966d","name":"Chart Museum","rating":7,"createdAt":"2020-09-17T13:07:37.145Z","updatedAt":"2020-09-30T06:22:03.609Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","image":{"_id":"5f6854c05ee4c9001d2b96d1","name":"chart-museum.png","alternativeText":"","caption":"","hash":"chart_museum_a56509005a","ext":".png","mime":"image/png","size":72.28,"width":500,"height":225,"url":"/uploads/chart_museum_a56509005a.png","formats":{"thumbnail":{"name":"thumbnail_chart-museum.png","hash":"thumbnail_chart_museum_a56509005a","ext":".png","mime":"image/png","width":245,"height":110,"size":29.64,"path":null,"url":"/uploads/thumbnail_chart_museum_a56509005a.png"}},"provider":"local","related":["5f635f995ee4c9001d2b966d"],"createdAt":"2020-09-21T07:22:40.798Z","updatedAt":"2020-09-21T07:22:43.401Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","id":"5f6854c05ee4c9001d2b96d1"},"description":"ChartMuseum is an open-source Helm Chart Repository written in Go (Golang), with support for cloud storage backends, including Google Cloud Storage, Amazon S3, Microsoft Azure Blob Storage, Alibaba Cloud OSS Storage and Openstack Object Storage.","id":"5f635f995ee4c9001d2b966d"},{"_id":"5f635c185ee4c9001d2b963a","name":"Maven","rating":9.6,"createdAt":"2020-09-17T12:52:40.922Z","updatedAt":"2020-09-22T06:36:50.576Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","image":{"_id":"5f6853265ee4c9001d2b96bf","name":"maven.png","alternativeText":"","caption":"","hash":"maven_8510b1d6fa","ext":".png","mime":"image/png","size":30.77,"width":1280,"height":324,"url":"/uploads/maven_8510b1d6fa.png","formats":{"thumbnail":{"name":"thumbnail_maven.png","hash":"thumbnail_maven_8510b1d6fa","ext":".png","mime":"image/png","width":245,"height":62,"size":10.07,"path":null,"url":"/uploads/thumbnail_maven_8510b1d6fa.png"},"large":{"name":"large_maven.png","hash":"large_maven_8510b1d6fa","ext":".png","mime":"image/png","width":1000,"height":253,"size":68.02,"path":null,"url":"/uploads/large_maven_8510b1d6fa.png"},"medium":{"name":"medium_maven.png","hash":"medium_maven_8510b1d6fa","ext":".png","mime":"image/png","width":750,"height":190,"size":46.3,"path":null,"url":"/uploads/medium_maven_8510b1d6fa.png"},"small":{"name":"small_maven.png","hash":"small_maven_8510b1d6fa","ext":".png","mime":"image/png","width":500,"height":127,"size":27.01,"path":null,"url":"/uploads/small_maven_8510b1d6fa.png"}},"provider":"local","related":["5f635c185ee4c9001d2b963a"],"createdAt":"2020-09-21T07:15:50.288Z","updatedAt":"2020-09-21T07:15:57.208Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","id":"5f6853265ee4c9001d2b96bf"},"description":"Maven is a build automation tool used primarily for Java projects. Maven can also be used to build and manage projects written in C#, Ruby, Scala, and other languages. \n\nMaven addresses two aspects of building software: how software is built, and its dependencies. An XML file describes the software project being built, its dependencies on other external modules and components, the build order, directories, and required plug-ins. ","id":"5f635c185ee4c9001d2b963a"},{"_id":"5f635c4f5ee4c9001d2b963f","name":"Tekton","createdAt":"2020-09-17T12:53:35.722Z","updatedAt":"2020-09-22T21:20:48.795Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","rating":8,"image":{"_id":"5f6853a55ee4c9001d2b96c7","name":"tekton.jpeg","alternativeText":"","caption":"","hash":"tekton_8b8bad63e8","ext":".jpeg","mime":"image/jpeg","size":13.24,"width":213,"height":237,"url":"/uploads/tekton_8b8bad63e8.jpeg","formats":{"thumbnail":{"name":"thumbnail_tekto
n.jpeg","hash":"thumbnail_tekton_8b8bad63e8","ext":".jpeg","mime":"image/jpeg","width":140,"height":156,"size":7.5,"path":null,"url":"/uploads/thumbnail_tekton_8b8bad63e8.jpeg"}},"provider":"local","related":["5f635c4f5ee4c9001d2b963f"],"createdAt":"2020-09-21T07:17:57.258Z","updatedAt":"2020-09-21T07:17:59.250Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","id":"5f6853a55ee4c9001d2b96c7"},"description":"The Tekton Pipelines project provides k8s-style resources for declaring CI/CD-style pipelines.\n\nTekton Pipelines are Cloud Native:\n\n- Run on Kubernetes\n- Have Kubernetes clusters as a first class type\n- Use containers as their building blocks\n","id":"5f635c4f5ee4c9001d2b963f"},{"_id":"5f635ca45ee4c9001d2b9643","name":"Kubernetes","rating":8,"createdAt":"2020-09-17T12:55:00.632Z","updatedAt":"2020-09-22T21:28:44.327Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","image":{"_id":"5f66163d5ee4c9001d2b968e","name":"kubernetes.jpeg","alternativeText":"","caption":"","hash":"kubernetes_c13e33fa8c","ext":".jpeg","mime":"image/jpeg","size":17.62,"width":400,"height":388,"url":"/uploads/kubernetes_c13e33fa8c.jpeg","formats":{"thumbnail":{"name":"thumbnail_kubernetes.jpeg","hash":"thumbnail_kubernetes_c13e33fa8c","ext":".jpeg","mime":"image/jpeg","width":161,"height":156,"size":6.17,"path":null,"url":"/uploads/thumbnail_kubernetes_c13e33fa8c.jpeg"}},"provider":"local","related":["5f0408c59d8081001fd38fb1","5f635ca45ee4c9001d2b9643"],"createdAt":"2020-09-19T14:31:25.284Z","updatedAt":"2020-09-21T12:08:28.703Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","id":"5f66163d5ee4c9001d2b968e"},"description":"Kubernetes is a portable, extensible, open-source platform for managing containerized workloads and services, that facilitates both declarative configuration and automation. It has a large, rapidly growing ecosystem. Kubernetes provides you with:\n\n- **Service discovery and load balancing**\n- **Automated rollouts and rollbacks**: You provide Kubernetes with a cluster of nodes that it can use to run containerized tasks. You tell Kubernetes how much CPU and memory (RAM) each container needs. Kubernetes can fit containers onto your nodes to make the best use of your resources.\n- **Self-healing** Kubernetes restarts containers that fail, replaces containers, kills containers that don't respond to your user-defined health check, and doesn't advertise them to clients until they are ready to serve.\n- **Secret and configuration management** ","id":"5f635ca45ee4c9001d2b9643"},{"_id":"5f635e935ee4c9001d2b9665","name":"Typescript","rating":7.5,"createdAt":"2020-09-17T13:03:15.410Z","updatedAt":"2020-09-27T08:10:06.054Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","image":{"_id":"5f689aee76320d001e515e8b","name":"ts.jpg","alternativeText":"","caption":"","hash":"ts_1c7c89d06d","ext":".jpg","mime":"image/jpeg","size":11.59,"width":400,"height":400,"url":"/uploads/ts_1c7c89d06d.jpg","formats":{"thumbnail":{"name":"thumbnail_ts.jpg","hash":"thumbnail_ts_1c7c89d06d","ext":".jpg","mime":"image/jpeg","width":156,"height":156,"size":4.38,"path":null,"url":"/uploads/thumbnail_ts_1c7c89d06d.jpg"}},"provider":"local","related":["5f635e935ee4c9001d2b9665"],"createdAt":"2020-09-21T12:22:06.356Z","updatedAt":"2020-09-21T12:22:08.459Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","id":"5f689aee76320d001e515e8b"},"description":"TypeScript is an open-source programming language developed and maintained by Microsoft. It is a strict syntactical superset of JavaScript and adds optional static typing to the language. TypeScript is designed for development of large applications and transcompiles to JavaScript","id":"5f635e935ee4c9001d2b9665"},{"_id":"5f635e625ee4c9001d2b9660","name":"React","rating":8.5,"createdAt":"2020-09-17T13:02:26.277Z","updatedAt":"2020-09-27T08:07:00.023Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e48
39cd1c2d53001dcc0696","image":{"_id":"5f66167a5ee4c9001d2b9692","name":"react.jpeg","alternativeText":"","caption":"","hash":"react_56f28418d3","ext":".jpeg","mime":"image/jpeg","size":11.98,"width":500,"height":353,"url":"/uploads/react_56f28418d3.jpeg","formats":{"thumbnail":{"name":"thumbnail_react.jpeg","hash":"thumbnail_react_56f28418d3","ext":".jpeg","mime":"image/jpeg","width":221,"height":156,"size":4.08,"path":null,"url":"/uploads/thumbnail_react_56f28418d3.jpeg"}},"provider":"local","related":["5f04152d9d8081001fd38fb9","5f635e625ee4c9001d2b9660"],"createdAt":"2020-09-19T14:32:26.690Z","updatedAt":"2020-09-21T12:19:36.732Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","id":"5f66167a5ee4c9001d2b9692"},"description":"React.js is an open-source JavaScript library that is used for building user interfaces specifically for single-page applications. It‚Äôs used for handling the view layer for web and mobile apps.\n\nReact allows developers to create large web applications that can change data, without reloading the page. The main purpose of React is to be fast, scalable, and simple. It works only on user interfaces in the application","id":"5f635e625ee4c9001d2b9660"}],"_id":"5f0215c69d8081001fd38fa1","title":"Creating a rich web app that can be hosted from home","shortDescription":"A quick introduction into the various components of my personal website including jenkinsx, kubernetes, letsencrypt and more.","createdAt":"2020-07-05T18:02:46.731Z","updatedAt":"2021-01-02T15:49:35.901Z","__v":0,"image":{"_id":"5f6616045ee4c9001d2b968a","name":"Website Icon.jpeg","alternativeText":"","caption":"","hash":"Website_Icon_727b161f01","ext":".jpeg","mime":"image/jpeg","size":29.24,"width":801,"height":401,"url":"/uploads/Website_Icon_727b161f01.jpeg","formats":{"thumbnail":{"name":"thumbnail_Website Icon.jpeg","hash":"thumbnail_Website_Icon_727b161f01","ext":".jpeg","mime":"image/jpeg","width":245,"height":123,"size":6.52,"path":null,"url":"/uploads/thumbnail_Website_Icon_727b161f01.jpeg"},"medium":{"name":"medium_Website Icon.jpeg","hash":"medium_Website_Icon_727b161f01","ext":".jpeg","mime":"image/jpeg","width":750,"height":375,"size":27.25,"path":null,"url":"/uploads/medium_Website_Icon_727b161f01.jpeg"},"small":{"name":"small_Website Icon.jpeg","hash":"small_Website_Icon_727b161f01","ext":".jpeg","mime":"image/jpeg","width":500,"height":250,"size":16.14,"path":null,"url":"/uploads/small_Website_Icon_727b161f01.jpeg"}},"provider":"local","related":["5f0215c69d8081001fd38fa1"],"createdAt":"2020-09-19T14:30:28.441Z","updatedAt":"2020-09-19T14:30:33.163Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","id":"5f6616045ee4c9001d2b968a"},"content":"I'm the kind of person that learns by doing - the more I do, the more it sinks in. Whilst attempting to keep my skills up to date, I had the idea of building a rich web application which would serve up my CV, and it could also double as a place to hone and demonstrate my skillsets in certain technologies. Eventually, I could even start blogging about these experiences. \n\nThe first thing I decided I would need would be a CMS (Content Management System). The content of my website would have to be dynamic, as I would like to keep my CV and blog up to date.  There were many options available here, but I finally settled on a headless CMS named ([strapi](https://strapi.io/)). Strapi would also require some sort of persistence layer, and  [mongodb](https://www.mongodb.com/ seemed to be a sensible choice.\n\nFor the web interface itself, there was a bit of competition between React and Angular. After spending years commercially working on Angular projects, I decided that React could be a good thing to learn and went with that.  \n\n```npx create-react-app my-app --template typescript``` is the command used to boostrap my react SPA (single page application) and I found a boostrap template from [here](https://wrapbootstrap.com/).\n\nSo far so good right ? I had picked the basic building blocks for building this d
ynamic CV/blog, but where would I run it ? I had a perfectly good iMac that was unused, and a fast enough internet connection. This app doesnt need to be highly available, as its just a little hobby app so this would suit well. I could use [ngrok](https://ngrok.com/) to make my app available to the internet, and I could use [Route 53](https://aws.amazon.com/route53/) to set up and configure my domain.\n\nKubernetes is a very popular way or running cloud native apps, so this was a pretty easy choice, the only issue was what flavour of it would work best on a mac. I started off with minikube, but started to have issues with persistent volumes, so eventually went with [kind (kubernetes in docker)](https://kind.sigs.k8s.io/). I could easily install nginx ingress controller, and it was super easy to configure.\n\nThe last thing to consider was how to deploy the individual components or services to the kubernetes cluster. One of my requirements was that I would want to make continual improvments to my app, so the deployment process must be as simple as possible. I would want to have git projects for each service,  build a container image, and deploy a helm chart (a helm chart is a collection of files that describe a related set of Kubernetes resources).  [Jenkins X](https://jenkins-x.io/) describes itself as *Jenkins X provides pipeline automation, built-in GitOps, and preview environments to help teams collaborate and accelerate their software delivery at any scale*. There was out of the box support for kubernetes flavours such as GKE (google cloud) and EKS (amazon web services), but a bit of customisation would be required if i wanted to run this on my local kubernetes cluster. This was easy enough and I was able to configure the following:\n- [Harbor](https://goharbor.io/) as the container registry of choice\n- [Cert Manager](https://cert-manager.io/) - configure cert manager to generate lets encrpt certificates using ACME challennges based on my use of AWS Route 53 for dns.\n- Installed MongoDB in the control plane.\n\nOverall my initial architecture looked something like this:\n\n![Website V1](/uploads/Website_V1_c3889a1afa.jpeg)\n\n\n*All source code for this app can be found here: (https://github.com/simonjamesrowe)*","updated_by":{"isActive":true,"blocked":false,"roles":["5f6314095ee4c9001d2b959f"],"_id":"5e4839cd1c2d53001dcc0696","username":"simon.rowe@gmail.com","email":"simon.rowe@gmail.com","createdAt":"2020-02-15T18:34:53.155Z","updatedAt":"2020-09-17T07:45:13.526Z","__v":0,"id":"5e4839cd1c2d53001dcc0696"},"id":"5f0215c69d8081001fd38fa1"}), headers={model=blog, id=c0c23ed0-4229-482d-75fa-6fe67d6452af, kafka_messageKey=blog-5f0215c69d8081001fd38fa1, timestamp=1610490079857}]
2021-01-12 22:21:20.365 DEBUG 79 --- [or-http-epoll-3] nder$ProducerConfigurationMessageHandler : org.springframework.cloud.stream.binder.kafka.KafkaMessageChannelBinder$ProducerConfigurationMessageHandler@3e68469f received message: GenericMessage [payload=Event(event=entry.update, createdAt=2021-01-02T15:49:35.918Z, model=blog, entry={"published":true,"tags":[{"_id":"5e495da7bc8d7d001ddbd7c5","name":"Kubernetes","createdAt":"2020-02-16T15:20:07.909Z","updatedAt":"2020-02-16T22:04:13.013Z","__v":0,"id":"5e495da7bc8d7d001ddbd7c5"},{"_id":"5f02da709d8081001fd38fa4","name":"Jenkins","createdAt":"2020-07-06T08:01:52.572Z","updatedAt":"2020-07-06T08:01:52.572Z","__v":0,"id":"5f02da709d8081001fd38fa4"},{"_id":"5f03901b9d8081001fd38fa7","name":"Strapi","createdAt":"2020-07-06T20:56:59.818Z","updatedAt":"2020-07-06T20:56:59.818Z","__v":0,"id":"5f03901b9d8081001fd38fa7"},{"_id":"5f0390249d8081001fd38fa8","name":"TLS","createdAt":"2020-07-06T20:57:08.354Z","updatedAt":"2020-07-06T20:57:08.354Z","__v":0,"id":"5f0390249d8081001fd38fa8"},{"_id":"5f0390329d8081001fd38fa9","name":"MongoDB","createdAt":"2020-07-06T20:57:22.633Z","updatedAt":"2020-07-06T20:57:22.633Z","__v":0,"id":"5f0390329d8081001fd38fa9"},{"_id":"5f0390499d8081001fd38faa","name":"React","createdAt":"2020-07-06T20:57:45.054Z","updatedAt":"2020-07-06T20:57:45.054Z","__v":0,"id":"5f0390499d8081001fd38faa"}],"skills":[{"_id":"5f635b6a5ee4c9001d2b9632","name":"Spring Boot","rating":9.7,"order":1,"createdAt":"2020-09-17T12:49:46.739Z","updatedAt":"2020-09-21T21:05:20.308Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","image":{"_id":"5f6851a85ee4c9001d2b96af","name":"spring-boot.jpeg","alternativeText":"","caption":"","hash":"spring_boot_5ee37de4c1","ext":".jpeg","mime":"image/png","size":7.98,"width":400,"height":400,"url":"/uploads/spring_boot_5ee37de4c1.jpeg","formats":{"thumbnail":{"name":"thumbnail_spring-boot.jpeg","hash":"thumbnail_spring_boot_5ee37de4c1","ext":".jpeg","mime":"image/png","width":156,"height":156,"size":5.21,"path":null,"url":"/uploads/thumbnail_spring_boot_5ee37de4c1.jpeg"}},"provider":"local","related":["5f635b6a5ee4c9001d2b9632","5feed4c667bdd6001e9c12d0"],"createdAt":"2020-09-21T07:09:28.458Z","updatedAt":"2021-01-01T21:02:32.991Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","id":"5f6851a85ee4c9001d2b96af"},"description":"Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".\n\n- Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)\n- Provide opinionated 'starter' dependencies to simplify your build configuration\n- Automatically configure Spring and 3rd party libraries whenever possible\n- Provide production-ready features such as metrics, health checks, and externalized configuration","id":"5f635b6a5ee4c9001d2b9632"},{"_id":"5f635b555ee4c9001d2b9631","name":"Kotlin","rating":8,"createdAt":"2020-09-17T12:49:25.636Z","updatedAt":"2020-09-21T21:01:54.939Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","image":{"_id":"5f65ec765ee4c9001d2b9676","name":"kotlin_250x250.png","alternativeText":"","caption":"","hash":"kotlin_250x250_dfc086e243","ext":".png","mime":"image/png","size":3.69,"width":250,"height":250,"url":"/uploads/kotlin_250x250_dfc086e243.png","formats":{"thumbnail":{"name":"thumbnail_kotlin_250x250.png","hash":"thumbnail_kotlin_250x250_dfc086e243","ext":".png","mime":"image/png","width":156,"height":156,"size":6.89,"path":null,"url":"/uploads/thumbnail_kotlin_250x250_dfc086e243.png"}},"provider":"local","related":["5f6359c55ee4c9001d2b9627","5f635b555ee4c9001d2b9631"],"createdAt":"2020-09-19T11:33:10.896Z","updatedAt":"2020-09-21T06:17:06.069Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","id":"5f65ec765ee4c9001d2b9676"},"description":"- Lambda expressions + Inline functions = performant custom control structures\n- Extension functions\n- Null-safety\n- Smart casts\n- String templates\n- Pr
operties\n- Primary constructors\n- First-class delegation\n- Type inference for variable and property types\n- Singletons\n- Declaration-site variance & Type projections\n- Range expressions\n- Operator overloading\n- Companion objects\n- Data classes\n- Separate interfaces for read-only and mutable collections\n- Coroutines","id":"5f635b555ee4c9001d2b9631"},{"_id":"5f635c2e5ee4c9001d2b963c","name":"Jenkins Pipeline","rating":8,"createdAt":"2020-09-17T12:53:02.588Z","updatedAt":"2020-09-22T06:41:07.845Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","image":{"_id":"5f65ed105ee4c9001d2b967c","name":"jenkins-5-569553.png","alternativeText":"","caption":"","hash":"jenkins_5_569553_cb54b85a4c","ext":".png","mime":"image/png","size":12.15,"width":256,"height":256,"url":"/uploads/jenkins_5_569553_cb54b85a4c.png","formats":{"thumbnail":{"name":"thumbnail_jenkins-5-569553.png","hash":"thumbnail_jenkins_5_569553_cb54b85a4c","ext":".png","mime":"image/png","width":156,"height":156,"size":16.21,"path":null,"url":"/uploads/thumbnail_jenkins_5_569553_cb54b85a4c.png"}},"provider":"local","related":["5f635a195ee4c9001d2b962a","5f635c2e5ee4c9001d2b963c"],"createdAt":"2020-09-19T11:35:44.624Z","updatedAt":"2020-09-21T07:16:50.216Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","id":"5f65ed105ee4c9001d2b967c"},"description":"Pipeline is a suite of plugins that supports implementing and integrating continuous delivery pipelines into Jenkins. Pipeline provides an extensible set of tools for modelling simple-to-complex delivery pipelines \"as code\" via the Pipeline DSL (groovy). ","id":"5f635c2e5ee4c9001d2b963c"},{"_id":"5f635c375ee4c9001d2b963d","name":"Jenkins X","rating":9,"createdAt":"2020-09-17T12:53:11.954Z","updatedAt":"2020-09-22T21:19:16.887Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","image":{"_id":"5f6616545ee4c9001d2b9690","name":"jenkinsx.png","alternativeText":"","caption":"","hash":"jenkinsx_d56c6fea15","ext":".png","mime":"image/png","size":25.16,"width":696,"height":398,"url":"/uploads/jenkinsx_d56c6fea15.png","formats":{"thumbnail":{"name":"thumbnail_jenkinsx.png","hash":"thumbnail_jenkinsx_d56c6fea15","ext":".png","mime":"image/png","width":245,"height":140,"size":9.18,"path":null,"url":"/uploads/thumbnail_jenkinsx_d56c6fea15.png"},"small":{"name":"small_jenkinsx.png","hash":"small_jenkinsx_d56c6fea15","ext":".png","mime":"image/png","width":500,"height":286,"size":22.51,"path":null,"url":"/uploads/small_jenkinsx_d56c6fea15.png"}},"provider":"local","related":["5f0413739d8081001fd38fb6","5f635c375ee4c9001d2b963d"],"createdAt":"2020-09-19T14:31:48.129Z","updatedAt":"2020-09-21T07:17:01.500Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","id":"5f6616545ee4c9001d2b9690"},"description":"Jenkins X provides pipeline automation, built-in GitOps, and preview environments to help teams collaborate and accelerate their software delivery at any scale. Jenkins X builds upon the following core components:\n- Kubernetes and Docker\n- Helm and Draft","id":"5f635c375ee4c9001d2b963d"},{"_id":"5f635f8f5ee4c9001d2b966c","name":"Helm","rating":8,"createdAt":"2020-09-17T13:07:27.527Z","updatedAt":"2020-09-30T06:20:10.213Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","image":{"_id":"5f6854785ee4c9001d2b96cf","name":"helm.jpg","alternativeText":"","caption":"","hash":"helm_9127651c35","ext":".jpg","mime":"image/jpeg","size":12.82,"width":366,"height":366,"url":"/uploads/helm_9127651c35.jpg","formats":{"thumbnail":{"name":"thumbnail_helm.jpg","hash":"thumbnail_helm_9127651c35","ext":".jpg","mime":"image/jpeg","width":156,"height":156,"size":5.11,"path":null,"url":"/uploads/thumbnail_helm_9127651c35.jpg"}},"provider":"local","related":["5f635f8f5ee4c9001d2b966c"],"createdAt":"2020-09-21T07:21:28.306Z","updatedAt":"2020-09-21T07:21:30.887Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","id":"5
f6854785ee4c9001d2b96cf"},"description":"Helm is a tool that streamlines installing and managing Kubernetes applications. ... A single chart might be used to deploy something simple, like a memcached pod, or something complex, like a full web app stack with HTTP servers, databases, caches, etc,","id":"5f635f8f5ee4c9001d2b966c"},{"_id":"5f635f995ee4c9001d2b966d","name":"Chart Museum","rating":7,"createdAt":"2020-09-17T13:07:37.145Z","updatedAt":"2020-09-30T06:22:03.609Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","image":{"_id":"5f6854c05ee4c9001d2b96d1","name":"chart-museum.png","alternativeText":"","caption":"","hash":"chart_museum_a56509005a","ext":".png","mime":"image/png","size":72.28,"width":500,"height":225,"url":"/uploads/chart_museum_a56509005a.png","formats":{"thumbnail":{"name":"thumbnail_chart-museum.png","hash":"thumbnail_chart_museum_a56509005a","ext":".png","mime":"image/png","width":245,"height":110,"size":29.64,"path":null,"url":"/uploads/thumbnail_chart_museum_a56509005a.png"}},"provider":"local","related":["5f635f995ee4c9001d2b966d"],"createdAt":"2020-09-21T07:22:40.798Z","updatedAt":"2020-09-21T07:22:43.401Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","id":"5f6854c05ee4c9001d2b96d1"},"description":"ChartMuseum is an open-source Helm Chart Repository written in Go (Golang), with support for cloud storage backends, including Google Cloud Storage, Amazon S3, Microsoft Azure Blob Storage, Alibaba Cloud OSS Storage and Openstack Object Storage.","id":"5f635f995ee4c9001d2b966d"},{"_id":"5f635c185ee4c9001d2b963a","name":"Maven","rating":9.6,"createdAt":"2020-09-17T12:52:40.922Z","updatedAt":"2020-09-22T06:36:50.576Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","image":{"_id":"5f6853265ee4c9001d2b96bf","name":"maven.png","alternativeText":"","caption":"","hash":"maven_8510b1d6fa","ext":".png","mime":"image/png","size":30.77,"width":1280,"height":324,"url":"/uploads/maven_8510b1d6fa.png","formats":{"thumbnail":{"name":"thumbnail_maven.png","hash":"thumbnail_maven_8510b1d6fa","ext":".png","mime":"image/png","width":245,"height":62,"size":10.07,"path":null,"url":"/uploads/thumbnail_maven_8510b1d6fa.png"},"large":{"name":"large_maven.png","hash":"large_maven_8510b1d6fa","ext":".png","mime":"image/png","width":1000,"height":253,"size":68.02,"path":null,"url":"/uploads/large_maven_8510b1d6fa.png"},"medium":{"name":"medium_maven.png","hash":"medium_maven_8510b1d6fa","ext":".png","mime":"image/png","width":750,"height":190,"size":46.3,"path":null,"url":"/uploads/medium_maven_8510b1d6fa.png"},"small":{"name":"small_maven.png","hash":"small_maven_8510b1d6fa","ext":".png","mime":"image/png","width":500,"height":127,"size":27.01,"path":null,"url":"/uploads/small_maven_8510b1d6fa.png"}},"provider":"local","related":["5f635c185ee4c9001d2b963a"],"createdAt":"2020-09-21T07:15:50.288Z","updatedAt":"2020-09-21T07:15:57.208Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","id":"5f6853265ee4c9001d2b96bf"},"description":"Maven is a build automation tool used primarily for Java projects. Maven can also be used to build and manage projects written in C#, Ruby, Scala, and other languages. \n\nMaven addresses two aspects of building software: how software is built, and its dependencies. An XML file describes the software project being built, its dependencies on other external modules and components, the build order, directories, and required plug-ins. ","id":"5f635c185ee4c9001d2b963a"},{"_id":"5f635c4f5ee4c9001d2b963f","name":"Tekton","createdAt":"2020-09-17T12:53:35.722Z","updatedAt":"2020-09-22T21:20:48.795Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","rating":8,"image":{"_id":"5f6853a55ee4c9001d2b96c7","name":"tekton.jpeg","alternativeText":"","caption":"","hash":"tekton_8b8bad63e8","ext":".jpeg","mime":"image/jpeg","size":13.24,"width":213,"height":237,"url":"/uploads/tekton_8b8bad63e8.jpeg","formats":{"thumbnail":
{"name":"thumbnail_tekton.jpeg","hash":"thumbnail_tekton_8b8bad63e8","ext":".jpeg","mime":"image/jpeg","width":140,"height":156,"size":7.5,"path":null,"url":"/uploads/thumbnail_tekton_8b8bad63e8.jpeg"}},"provider":"local","related":["5f635c4f5ee4c9001d2b963f"],"createdAt":"2020-09-21T07:17:57.258Z","updatedAt":"2020-09-21T07:17:59.250Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","id":"5f6853a55ee4c9001d2b96c7"},"description":"The Tekton Pipelines project provides k8s-style resources for declaring CI/CD-style pipelines.\n\nTekton Pipelines are Cloud Native:\n\n- Run on Kubernetes\n- Have Kubernetes clusters as a first class type\n- Use containers as their building blocks\n","id":"5f635c4f5ee4c9001d2b963f"},{"_id":"5f635ca45ee4c9001d2b9643","name":"Kubernetes","rating":8,"createdAt":"2020-09-17T12:55:00.632Z","updatedAt":"2020-09-22T21:28:44.327Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","image":{"_id":"5f66163d5ee4c9001d2b968e","name":"kubernetes.jpeg","alternativeText":"","caption":"","hash":"kubernetes_c13e33fa8c","ext":".jpeg","mime":"image/jpeg","size":17.62,"width":400,"height":388,"url":"/uploads/kubernetes_c13e33fa8c.jpeg","formats":{"thumbnail":{"name":"thumbnail_kubernetes.jpeg","hash":"thumbnail_kubernetes_c13e33fa8c","ext":".jpeg","mime":"image/jpeg","width":161,"height":156,"size":6.17,"path":null,"url":"/uploads/thumbnail_kubernetes_c13e33fa8c.jpeg"}},"provider":"local","related":["5f0408c59d8081001fd38fb1","5f635ca45ee4c9001d2b9643"],"createdAt":"2020-09-19T14:31:25.284Z","updatedAt":"2020-09-21T12:08:28.703Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","id":"5f66163d5ee4c9001d2b968e"},"description":"Kubernetes is a portable, extensible, open-source platform for managing containerized workloads and services, that facilitates both declarative configuration and automation. It has a large, rapidly growing ecosystem. Kubernetes provides you with:\n\n- **Service discovery and load balancing**\n- **Automated rollouts and rollbacks**: You provide Kubernetes with a cluster of nodes that it can use to run containerized tasks. You tell Kubernetes how much CPU and memory (RAM) each container needs. Kubernetes can fit containers onto your nodes to make the best use of your resources.\n- **Self-healing** Kubernetes restarts containers that fail, replaces containers, kills containers that don't respond to your user-defined health check, and doesn't advertise them to clients until they are ready to serve.\n- **Secret and configuration management** ","id":"5f635ca45ee4c9001d2b9643"},{"_id":"5f635e935ee4c9001d2b9665","name":"Typescript","rating":7.5,"createdAt":"2020-09-17T13:03:15.410Z","updatedAt":"2020-09-27T08:10:06.054Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","image":{"_id":"5f689aee76320d001e515e8b","name":"ts.jpg","alternativeText":"","caption":"","hash":"ts_1c7c89d06d","ext":".jpg","mime":"image/jpeg","size":11.59,"width":400,"height":400,"url":"/uploads/ts_1c7c89d06d.jpg","formats":{"thumbnail":{"name":"thumbnail_ts.jpg","hash":"thumbnail_ts_1c7c89d06d","ext":".jpg","mime":"image/jpeg","width":156,"height":156,"size":4.38,"path":null,"url":"/uploads/thumbnail_ts_1c7c89d06d.jpg"}},"provider":"local","related":["5f635e935ee4c9001d2b9665"],"createdAt":"2020-09-21T12:22:06.356Z","updatedAt":"2020-09-21T12:22:08.459Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","id":"5f689aee76320d001e515e8b"},"description":"TypeScript is an open-source programming language developed and maintained by Microsoft. It is a strict syntactical superset of JavaScript and adds optional static typing to the language. TypeScript is designed for development of large applications and transcompiles to JavaScript","id":"5f635e935ee4c9001d2b9665"},{"_id":"5f635e625ee4c9001d2b9660","name":"React","rating":8.5,"createdAt":"2020-09-17T13:02:26.277Z","updatedAt":"2020-09-27T08:07:00.023Z","__v":0,"created_by":"5e4839cd1c2d53001dcc
0696","updated_by":"5e4839cd1c2d53001dcc0696","image":{"_id":"5f66167a5ee4c9001d2b9692","name":"react.jpeg","alternativeText":"","caption":"","hash":"react_56f28418d3","ext":".jpeg","mime":"image/jpeg","size":11.98,"width":500,"height":353,"url":"/uploads/react_56f28418d3.jpeg","formats":{"thumbnail":{"name":"thumbnail_react.jpeg","hash":"thumbnail_react_56f28418d3","ext":".jpeg","mime":"image/jpeg","width":221,"height":156,"size":4.08,"path":null,"url":"/uploads/thumbnail_react_56f28418d3.jpeg"}},"provider":"local","related":["5f04152d9d8081001fd38fb9","5f635e625ee4c9001d2b9660"],"createdAt":"2020-09-19T14:32:26.690Z","updatedAt":"2020-09-21T12:19:36.732Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","id":"5f66167a5ee4c9001d2b9692"},"description":"React.js is an open-source JavaScript library that is used for building user interfaces specifically for single-page applications. It‚Äôs used for handling the view layer for web and mobile apps.\n\nReact allows developers to create large web applications that can change data, without reloading the page. The main purpose of React is to be fast, scalable, and simple. It works only on user interfaces in the application","id":"5f635e625ee4c9001d2b9660"}],"_id":"5f0215c69d8081001fd38fa1","title":"Creating a rich web app that can be hosted from home","shortDescription":"A quick introduction into the various components of my personal website including jenkinsx, kubernetes, letsencrypt and more.","createdAt":"2020-07-05T18:02:46.731Z","updatedAt":"2021-01-02T15:49:35.901Z","__v":0,"image":{"_id":"5f6616045ee4c9001d2b968a","name":"Website Icon.jpeg","alternativeText":"","caption":"","hash":"Website_Icon_727b161f01","ext":".jpeg","mime":"image/jpeg","size":29.24,"width":801,"height":401,"url":"/uploads/Website_Icon_727b161f01.jpeg","formats":{"thumbnail":{"name":"thumbnail_Website Icon.jpeg","hash":"thumbnail_Website_Icon_727b161f01","ext":".jpeg","mime":"image/jpeg","width":245,"height":123,"size":6.52,"path":null,"url":"/uploads/thumbnail_Website_Icon_727b161f01.jpeg"},"medium":{"name":"medium_Website Icon.jpeg","hash":"medium_Website_Icon_727b161f01","ext":".jpeg","mime":"image/jpeg","width":750,"height":375,"size":27.25,"path":null,"url":"/uploads/medium_Website_Icon_727b161f01.jpeg"},"small":{"name":"small_Website Icon.jpeg","hash":"small_Website_Icon_727b161f01","ext":".jpeg","mime":"image/jpeg","width":500,"height":250,"size":16.14,"path":null,"url":"/uploads/small_Website_Icon_727b161f01.jpeg"}},"provider":"local","related":["5f0215c69d8081001fd38fa1"],"createdAt":"2020-09-19T14:30:28.441Z","updatedAt":"2020-09-19T14:30:33.163Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","id":"5f6616045ee4c9001d2b968a"},"content":"I'm the kind of person that learns by doing - the more I do, the more it sinks in. Whilst attempting to keep my skills up to date, I had the idea of building a rich web application which would serve up my CV, and it could also double as a place to hone and demonstrate my skillsets in certain technologies. Eventually, I could even start blogging about these experiences. \n\nThe first thing I decided I would need would be a CMS (Content Management System). The content of my website would have to be dynamic, as I would like to keep my CV and blog up to date.  There were many options available here, but I finally settled on a headless CMS named ([strapi](https://strapi.io/)). Strapi would also require some sort of persistence layer, and  [mongodb](https://www.mongodb.com/ seemed to be a sensible choice.\n\nFor the web interface itself, there was a bit of competition between React and Angular. After spending years commercially working on Angular projects, I decided that React could be a good thing to learn and went with that.  \n\n```npx create-react-app my-app --template typescript``` is the command used to boostrap my react SPA (single page application) and I found a boostrap template from [here](https://wrapbootstrap.com/).\n\nSo far so good right ? I had picked the basic building bl
ocks for building this dynamic CV/blog, but where would I run it ? I had a perfectly good iMac that was unused, and a fast enough internet connection. This app doesnt need to be highly available, as its just a little hobby app so this would suit well. I could use [ngrok](https://ngrok.com/) to make my app available to the internet, and I could use [Route 53](https://aws.amazon.com/route53/) to set up and configure my domain.\n\nKubernetes is a very popular way or running cloud native apps, so this was a pretty easy choice, the only issue was what flavour of it would work best on a mac. I started off with minikube, but started to have issues with persistent volumes, so eventually went with [kind (kubernetes in docker)](https://kind.sigs.k8s.io/). I could easily install nginx ingress controller, and it was super easy to configure.\n\nThe last thing to consider was how to deploy the individual components or services to the kubernetes cluster. One of my requirements was that I would want to make continual improvments to my app, so the deployment process must be as simple as possible. I would want to have git projects for each service,  build a container image, and deploy a helm chart (a helm chart is a collection of files that describe a related set of Kubernetes resources).  [Jenkins X](https://jenkins-x.io/) describes itself as *Jenkins X provides pipeline automation, built-in GitOps, and preview environments to help teams collaborate and accelerate their software delivery at any scale*. There was out of the box support for kubernetes flavours such as GKE (google cloud) and EKS (amazon web services), but a bit of customisation would be required if i wanted to run this on my local kubernetes cluster. This was easy enough and I was able to configure the following:\n- [Harbor](https://goharbor.io/) as the container registry of choice\n- [Cert Manager](https://cert-manager.io/) - configure cert manager to generate lets encrpt certificates using ACME challennges based on my use of AWS Route 53 for dns.\n- Installed MongoDB in the control plane.\n\nOverall my initial architecture looked something like this:\n\n![Website V1](/uploads/Website_V1_c3889a1afa.jpeg)\n\n\n*All source code for this app can be found here: (https://github.com/simonjamesrowe)*","updated_by":{"isActive":true,"blocked":false,"roles":["5f6314095ee4c9001d2b959f"],"_id":"5e4839cd1c2d53001dcc0696","username":"simon.rowe@gmail.com","email":"simon.rowe@gmail.com","createdAt":"2020-02-15T18:34:53.155Z","updatedAt":"2020-09-17T07:45:13.526Z","__v":0,"id":"5e4839cd1c2d53001dcc0696"},"id":"5f0215c69d8081001fd38fa1"}), headers={model=blog, id=c0c23ed0-4229-482d-75fa-6fe67d6452af, kafka_messageKey=blog-5f0215c69d8081001fd38fa1, timestamp=1610490079857}]
2021-01-12 22:21:20.456  INFO 79 --- [or-http-epoll-3] o.a.k.clients.producer.ProducerConfig    : ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [192.168.4.23:49247]
	buffer.memory = 33554432
	client.dns.lookup = use_all_dns_ips
	client.id = producer-2
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = false
	interceptor.classes = []
	internal.auto.downgrade.txn.commit = true
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metadata.max.idle.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.3]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.3
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class com.simonjamesrowe.model.serialization.EventSerializer

2021-01-12 22:21:20.468  INFO 79 --- [or-http-epoll-3] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 2.6.0
2021-01-12 22:21:20.468  INFO 79 --- [or-http-epoll-3] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 62abe01bee039651
2021-01-12 22:21:20.539  INFO 79 --- [or-http-epoll-3] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1610490080467
2021-01-12 22:21:20.563  INFO 79 --- [ad | producer-2] org.apache.kafka.clients.Metadata        : [Producer clientId=producer-2] Cluster ID: uw4gk4ykThOrDvj-HLBvCA
2021-01-12 22:21:20.865 DEBUG 79 --- [or-http-epoll-3] nder$ProducerConfigurationMessageHandler : handler 'org.springframework.cloud.stream.binder.kafka.KafkaMessageChannelBinder$ProducerConfigurationMessageHandler@3e68469f' produced no reply for request Message: GenericMessage [payload=Event(event=entry.update, createdAt=2021-01-02T15:49:35.918Z, model=blog, entry={"published":true,"tags":[{"_id":"5e495da7bc8d7d001ddbd7c5","name":"Kubernetes","createdAt":"2020-02-16T15:20:07.909Z","updatedAt":"2020-02-16T22:04:13.013Z","__v":0,"id":"5e495da7bc8d7d001ddbd7c5"},{"_id":"5f02da709d8081001fd38fa4","name":"Jenkins","createdAt":"2020-07-06T08:01:52.572Z","updatedAt":"2020-07-06T08:01:52.572Z","__v":0,"id":"5f02da709d8081001fd38fa4"},{"_id":"5f03901b9d8081001fd38fa7","name":"Strapi","createdAt":"2020-07-06T20:56:59.818Z","updatedAt":"2020-07-06T20:56:59.818Z","__v":0,"id":"5f03901b9d8081001fd38fa7"},{"_id":"5f0390249d8081001fd38fa8","name":"TLS","createdAt":"2020-07-06T20:57:08.354Z","updatedAt":"2020-07-06T20:57:08.354Z","__v":0,"id":"5f0390249d8081001fd38fa8"},{"_id":"5f0390329d8081001fd38fa9","name":"MongoDB","createdAt":"2020-07-06T20:57:22.633Z","updatedAt":"2020-07-06T20:57:22.633Z","__v":0,"id":"5f0390329d8081001fd38fa9"},{"_id":"5f0390499d8081001fd38faa","name":"React","createdAt":"2020-07-06T20:57:45.054Z","updatedAt":"2020-07-06T20:57:45.054Z","__v":0,"id":"5f0390499d8081001fd38faa"}],"skills":[{"_id":"5f635b6a5ee4c9001d2b9632","name":"Spring Boot","rating":9.7,"order":1,"createdAt":"2020-09-17T12:49:46.739Z","updatedAt":"2020-09-21T21:05:20.308Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","image":{"_id":"5f6851a85ee4c9001d2b96af","name":"spring-boot.jpeg","alternativeText":"","caption":"","hash":"spring_boot_5ee37de4c1","ext":".jpeg","mime":"image/png","size":7.98,"width":400,"height":400,"url":"/uploads/spring_boot_5ee37de4c1.jpeg","formats":{"thumbnail":{"name":"thumbnail_spring-boot.jpeg","hash":"thumbnail_spring_boot_5ee37de4c1","ext":".jpeg","mime":"image/png","width":156,"height":156,"size":5.21,"path":null,"url":"/uploads/thumbnail_spring_boot_5ee37de4c1.jpeg"}},"provider":"local","related":["5f635b6a5ee4c9001d2b9632","5feed4c667bdd6001e9c12d0"],"createdAt":"2020-09-21T07:09:28.458Z","updatedAt":"2021-01-01T21:02:32.991Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","id":"5f6851a85ee4c9001d2b96af"},"description":"Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".\n\n- Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)\n- Provide opinionated 'starter' dependencies to simplify your build configuration\n- Automatically configure Spring and 3rd party libraries whenever possible\n- Provide production-ready features such as metrics, health checks, and externalized configuration","id":"5f635b6a5ee4c9001d2b9632"},{"_id":"5f635b555ee4c9001d2b9631","name":"Kotlin","rating":8,"createdAt":"2020-09-17T12:49:25.636Z","updatedAt":"2020-09-21T21:01:54.939Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","image":{"_id":"5f65ec765ee4c9001d2b9676","name":"kotlin_250x250.png","alternativeText":"","caption":"","hash":"kotlin_250x250_dfc086e243","ext":".png","mime":"image/png","size":3.69,"width":250,"height":250,"url":"/uploads/kotlin_250x250_dfc086e243.png","formats":{"thumbnail":{"name":"thumbnail_kotlin_250x250.png","hash":"thumbnail_kotlin_250x250_dfc086e243","ext":".png","mime":"image/png","width":156,"height":156,"size":6.89,"path":null,"url":"/uploads/thumbnail_kotlin_250x250_dfc086e243.png"}},"provider":"local","related":["5f6359c55ee4c9001d2b9627","5f635b555ee4c9001d2b9631"],"createdAt":"2020-09-19T11:33:10.896Z","updatedAt":"2020-09-21T06:17:06.069Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","id":"5f65ec765ee4c9001d2b9676"},"description":"- Lambda expressions + Inline functions = performant custom control structures\n- Extension functions\n- Null-safety\n- Smart 
casts\n- String templates\n- Properties\n- Primary constructors\n- First-class delegation\n- Type inference for variable and property types\n- Singletons\n- Declaration-site variance & Type projections\n- Range expressions\n- Operator overloading\n- Companion objects\n- Data classes\n- Separate interfaces for read-only and mutable collections\n- Coroutines","id":"5f635b555ee4c9001d2b9631"},{"_id":"5f635c2e5ee4c9001d2b963c","name":"Jenkins Pipeline","rating":8,"createdAt":"2020-09-17T12:53:02.588Z","updatedAt":"2020-09-22T06:41:07.845Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","image":{"_id":"5f65ed105ee4c9001d2b967c","name":"jenkins-5-569553.png","alternativeText":"","caption":"","hash":"jenkins_5_569553_cb54b85a4c","ext":".png","mime":"image/png","size":12.15,"width":256,"height":256,"url":"/uploads/jenkins_5_569553_cb54b85a4c.png","formats":{"thumbnail":{"name":"thumbnail_jenkins-5-569553.png","hash":"thumbnail_jenkins_5_569553_cb54b85a4c","ext":".png","mime":"image/png","width":156,"height":156,"size":16.21,"path":null,"url":"/uploads/thumbnail_jenkins_5_569553_cb54b85a4c.png"}},"provider":"local","related":["5f635a195ee4c9001d2b962a","5f635c2e5ee4c9001d2b963c"],"createdAt":"2020-09-19T11:35:44.624Z","updatedAt":"2020-09-21T07:16:50.216Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","id":"5f65ed105ee4c9001d2b967c"},"description":"Pipeline is a suite of plugins that supports implementing and integrating continuous delivery pipelines into Jenkins. Pipeline provides an extensible set of tools for modelling simple-to-complex delivery pipelines \"as code\" via the Pipeline DSL (groovy). ","id":"5f635c2e5ee4c9001d2b963c"},{"_id":"5f635c375ee4c9001d2b963d","name":"Jenkins X","rating":9,"createdAt":"2020-09-17T12:53:11.954Z","updatedAt":"2020-09-22T21:19:16.887Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","image":{"_id":"5f6616545ee4c9001d2b9690","name":"jenkinsx.png","alternativeText":"","caption":"","hash":"jenkinsx_d56c6fea15","ext":".png","mime":"image/png","size":25.16,"width":696,"height":398,"url":"/uploads/jenkinsx_d56c6fea15.png","formats":{"thumbnail":{"name":"thumbnail_jenkinsx.png","hash":"thumbnail_jenkinsx_d56c6fea15","ext":".png","mime":"image/png","width":245,"height":140,"size":9.18,"path":null,"url":"/uploads/thumbnail_jenkinsx_d56c6fea15.png"},"small":{"name":"small_jenkinsx.png","hash":"small_jenkinsx_d56c6fea15","ext":".png","mime":"image/png","width":500,"height":286,"size":22.51,"path":null,"url":"/uploads/small_jenkinsx_d56c6fea15.png"}},"provider":"local","related":["5f0413739d8081001fd38fb6","5f635c375ee4c9001d2b963d"],"createdAt":"2020-09-19T14:31:48.129Z","updatedAt":"2020-09-21T07:17:01.500Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","id":"5f6616545ee4c9001d2b9690"},"description":"Jenkins X provides pipeline automation, built-in GitOps, and preview environments to help teams collaborate and accelerate their software delivery at any scale. Jenkins X builds upon the following core components:\n- Kubernetes and Docker\n- Helm and Draft","id":"5f635c375ee4c9001d2b963d"},{"_id":"5f635f8f5ee4c9001d2b966c","name":"Helm","rating":8,"createdAt":"2020-09-17T13:07:27.527Z","updatedAt":"2020-09-30T06:20:10.213Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","image":{"_id":"5f6854785ee4c9001d2b96cf","name":"helm.jpg","alternativeText":"","caption":"","hash":"helm_9127651c35","ext":".jpg","mime":"image/jpeg","size":12.82,"width":366,"height":366,"url":"/uploads/helm_9127651c35.jpg","formats":{"thumbnail":{"name":"thumbnail_helm.jpg","hash":"thumbnail_helm_9127651c35","ext":".jpg","mime":"image/jpeg","width":156,"height":156,"size":5.11,"path":null,"url":"/uploads/thumbnail_helm_9127651c35.jpg"}},"provider":"local","related":["5f635f8f5ee4c9001d2b966c"],"createdAt":"2020-09-21T07:21:28.306Z","updatedAt":"2020-09-21T07:21:30.887Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e
4839cd1c2d53001dcc0696","id":"5f6854785ee4c9001d2b96cf"},"description":"Helm is a tool that streamlines installing and managing Kubernetes applications. ... A single chart might be used to deploy something simple, like a memcached pod, or something complex, like a full web app stack with HTTP servers, databases, caches, etc,","id":"5f635f8f5ee4c9001d2b966c"},{"_id":"5f635f995ee4c9001d2b966d","name":"Chart Museum","rating":7,"createdAt":"2020-09-17T13:07:37.145Z","updatedAt":"2020-09-30T06:22:03.609Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","image":{"_id":"5f6854c05ee4c9001d2b96d1","name":"chart-museum.png","alternativeText":"","caption":"","hash":"chart_museum_a56509005a","ext":".png","mime":"image/png","size":72.28,"width":500,"height":225,"url":"/uploads/chart_museum_a56509005a.png","formats":{"thumbnail":{"name":"thumbnail_chart-museum.png","hash":"thumbnail_chart_museum_a56509005a","ext":".png","mime":"image/png","width":245,"height":110,"size":29.64,"path":null,"url":"/uploads/thumbnail_chart_museum_a56509005a.png"}},"provider":"local","related":["5f635f995ee4c9001d2b966d"],"createdAt":"2020-09-21T07:22:40.798Z","updatedAt":"2020-09-21T07:22:43.401Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","id":"5f6854c05ee4c9001d2b96d1"},"description":"ChartMuseum is an open-source Helm Chart Repository written in Go (Golang), with support for cloud storage backends, including Google Cloud Storage, Amazon S3, Microsoft Azure Blob Storage, Alibaba Cloud OSS Storage and Openstack Object Storage.","id":"5f635f995ee4c9001d2b966d"},{"_id":"5f635c185ee4c9001d2b963a","name":"Maven","rating":9.6,"createdAt":"2020-09-17T12:52:40.922Z","updatedAt":"2020-09-22T06:36:50.576Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","image":{"_id":"5f6853265ee4c9001d2b96bf","name":"maven.png","alternativeText":"","caption":"","hash":"maven_8510b1d6fa","ext":".png","mime":"image/png","size":30.77,"width":1280,"height":324,"url":"/uploads/maven_8510b1d6fa.png","formats":{"thumbnail":{"name":"thumbnail_maven.png","hash":"thumbnail_maven_8510b1d6fa","ext":".png","mime":"image/png","width":245,"height":62,"size":10.07,"path":null,"url":"/uploads/thumbnail_maven_8510b1d6fa.png"},"large":{"name":"large_maven.png","hash":"large_maven_8510b1d6fa","ext":".png","mime":"image/png","width":1000,"height":253,"size":68.02,"path":null,"url":"/uploads/large_maven_8510b1d6fa.png"},"medium":{"name":"medium_maven.png","hash":"medium_maven_8510b1d6fa","ext":".png","mime":"image/png","width":750,"height":190,"size":46.3,"path":null,"url":"/uploads/medium_maven_8510b1d6fa.png"},"small":{"name":"small_maven.png","hash":"small_maven_8510b1d6fa","ext":".png","mime":"image/png","width":500,"height":127,"size":27.01,"path":null,"url":"/uploads/small_maven_8510b1d6fa.png"}},"provider":"local","related":["5f635c185ee4c9001d2b963a"],"createdAt":"2020-09-21T07:15:50.288Z","updatedAt":"2020-09-21T07:15:57.208Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","id":"5f6853265ee4c9001d2b96bf"},"description":"Maven is a build automation tool used primarily for Java projects. Maven can also be used to build and manage projects written in C#, Ruby, Scala, and other languages. \n\nMaven addresses two aspects of building software: how software is built, and its dependencies. An XML file describes the software project being built, its dependencies on other external modules and components, the build order, directories, and required plug-ins. ","id":"5f635c185ee4c9001d2b963a"},{"_id":"5f635c4f5ee4c9001d2b963f","name":"Tekton","createdAt":"2020-09-17T12:53:35.722Z","updatedAt":"2020-09-22T21:20:48.795Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","rating":8,"image":{"_id":"5f6853a55ee4c9001d2b96c7","name":"tekton.jpeg","alternativeText":"","caption":"","hash":"tekton_8b8bad63e8","ext":".jpeg","mime":"image/jpeg","size":13.24,"width":213,"height":237,"url":"/uploads/tekton_8b8bad63e
8.jpeg","formats":{"thumbnail":{"name":"thumbnail_tekton.jpeg","hash":"thumbnail_tekton_8b8bad63e8","ext":".jpeg","mime":"image/jpeg","width":140,"height":156,"size":7.5,"path":null,"url":"/uploads/thumbnail_tekton_8b8bad63e8.jpeg"}},"provider":"local","related":["5f635c4f5ee4c9001d2b963f"],"createdAt":"2020-09-21T07:17:57.258Z","updatedAt":"2020-09-21T07:17:59.250Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","id":"5f6853a55ee4c9001d2b96c7"},"description":"The Tekton Pipelines project provides k8s-style resources for declaring CI/CD-style pipelines.\n\nTekton Pipelines are Cloud Native:\n\n- Run on Kubernetes\n- Have Kubernetes clusters as a first class type\n- Use containers as their building blocks\n","id":"5f635c4f5ee4c9001d2b963f"},{"_id":"5f635ca45ee4c9001d2b9643","name":"Kubernetes","rating":8,"createdAt":"2020-09-17T12:55:00.632Z","updatedAt":"2020-09-22T21:28:44.327Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","image":{"_id":"5f66163d5ee4c9001d2b968e","name":"kubernetes.jpeg","alternativeText":"","caption":"","hash":"kubernetes_c13e33fa8c","ext":".jpeg","mime":"image/jpeg","size":17.62,"width":400,"height":388,"url":"/uploads/kubernetes_c13e33fa8c.jpeg","formats":{"thumbnail":{"name":"thumbnail_kubernetes.jpeg","hash":"thumbnail_kubernetes_c13e33fa8c","ext":".jpeg","mime":"image/jpeg","width":161,"height":156,"size":6.17,"path":null,"url":"/uploads/thumbnail_kubernetes_c13e33fa8c.jpeg"}},"provider":"local","related":["5f0408c59d8081001fd38fb1","5f635ca45ee4c9001d2b9643"],"createdAt":"2020-09-19T14:31:25.284Z","updatedAt":"2020-09-21T12:08:28.703Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","id":"5f66163d5ee4c9001d2b968e"},"description":"Kubernetes is a portable, extensible, open-source platform for managing containerized workloads and services, that facilitates both declarative configuration and automation. It has a large, rapidly growing ecosystem. Kubernetes provides you with:\n\n- **Service discovery and load balancing**\n- **Automated rollouts and rollbacks**: You provide Kubernetes with a cluster of nodes that it can use to run containerized tasks. You tell Kubernetes how much CPU and memory (RAM) each container needs. Kubernetes can fit containers onto your nodes to make the best use of your resources.\n- **Self-healing** Kubernetes restarts containers that fail, replaces containers, kills containers that don't respond to your user-defined health check, and doesn't advertise them to clients until they are ready to serve.\n- **Secret and configuration management** ","id":"5f635ca45ee4c9001d2b9643"},{"_id":"5f635e935ee4c9001d2b9665","name":"Typescript","rating":7.5,"createdAt":"2020-09-17T13:03:15.410Z","updatedAt":"2020-09-27T08:10:06.054Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","image":{"_id":"5f689aee76320d001e515e8b","name":"ts.jpg","alternativeText":"","caption":"","hash":"ts_1c7c89d06d","ext":".jpg","mime":"image/jpeg","size":11.59,"width":400,"height":400,"url":"/uploads/ts_1c7c89d06d.jpg","formats":{"thumbnail":{"name":"thumbnail_ts.jpg","hash":"thumbnail_ts_1c7c89d06d","ext":".jpg","mime":"image/jpeg","width":156,"height":156,"size":4.38,"path":null,"url":"/uploads/thumbnail_ts_1c7c89d06d.jpg"}},"provider":"local","related":["5f635e935ee4c9001d2b9665"],"createdAt":"2020-09-21T12:22:06.356Z","updatedAt":"2020-09-21T12:22:08.459Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","id":"5f689aee76320d001e515e8b"},"description":"TypeScript is an open-source programming language developed and maintained by Microsoft. It is a strict syntactical superset of JavaScript and adds optional static typing to the language. TypeScript is designed for development of large applications and transcompiles to JavaScript","id":"5f635e935ee4c9001d2b9665"},{"_id":"5f635e625ee4c9001d2b9660","name":"React","rating":8.5,"createdAt":"2020-09-17T13:02:26.277Z","updatedAt":"2020-09-27T08:07:00.023Z","__v":0,"cr
eated_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","image":{"_id":"5f66167a5ee4c9001d2b9692","name":"react.jpeg","alternativeText":"","caption":"","hash":"react_56f28418d3","ext":".jpeg","mime":"image/jpeg","size":11.98,"width":500,"height":353,"url":"/uploads/react_56f28418d3.jpeg","formats":{"thumbnail":{"name":"thumbnail_react.jpeg","hash":"thumbnail_react_56f28418d3","ext":".jpeg","mime":"image/jpeg","width":221,"height":156,"size":4.08,"path":null,"url":"/uploads/thumbnail_react_56f28418d3.jpeg"}},"provider":"local","related":["5f04152d9d8081001fd38fb9","5f635e625ee4c9001d2b9660"],"createdAt":"2020-09-19T14:32:26.690Z","updatedAt":"2020-09-21T12:19:36.732Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","id":"5f66167a5ee4c9001d2b9692"},"description":"React.js is an open-source JavaScript library that is used for building user interfaces specifically for single-page applications. It‚Äôs used for handling the view layer for web and mobile apps.\n\nReact allows developers to create large web applications that can change data, without reloading the page. The main purpose of React is to be fast, scalable, and simple. It works only on user interfaces in the application","id":"5f635e625ee4c9001d2b9660"}],"_id":"5f0215c69d8081001fd38fa1","title":"Creating a rich web app that can be hosted from home","shortDescription":"A quick introduction into the various components of my personal website including jenkinsx, kubernetes, letsencrypt and more.","createdAt":"2020-07-05T18:02:46.731Z","updatedAt":"2021-01-02T15:49:35.901Z","__v":0,"image":{"_id":"5f6616045ee4c9001d2b968a","name":"Website Icon.jpeg","alternativeText":"","caption":"","hash":"Website_Icon_727b161f01","ext":".jpeg","mime":"image/jpeg","size":29.24,"width":801,"height":401,"url":"/uploads/Website_Icon_727b161f01.jpeg","formats":{"thumbnail":{"name":"thumbnail_Website Icon.jpeg","hash":"thumbnail_Website_Icon_727b161f01","ext":".jpeg","mime":"image/jpeg","width":245,"height":123,"size":6.52,"path":null,"url":"/uploads/thumbnail_Website_Icon_727b161f01.jpeg"},"medium":{"name":"medium_Website Icon.jpeg","hash":"medium_Website_Icon_727b161f01","ext":".jpeg","mime":"image/jpeg","width":750,"height":375,"size":27.25,"path":null,"url":"/uploads/medium_Website_Icon_727b161f01.jpeg"},"small":{"name":"small_Website Icon.jpeg","hash":"small_Website_Icon_727b161f01","ext":".jpeg","mime":"image/jpeg","width":500,"height":250,"size":16.14,"path":null,"url":"/uploads/small_Website_Icon_727b161f01.jpeg"}},"provider":"local","related":["5f0215c69d8081001fd38fa1"],"createdAt":"2020-09-19T14:30:28.441Z","updatedAt":"2020-09-19T14:30:33.163Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","id":"5f6616045ee4c9001d2b968a"},"content":"I'm the kind of person that learns by doing - the more I do, the more it sinks in. Whilst attempting to keep my skills up to date, I had the idea of building a rich web application which would serve up my CV, and it could also double as a place to hone and demonstrate my skillsets in certain technologies. Eventually, I could even start blogging about these experiences. \n\nThe first thing I decided I would need would be a CMS (Content Management System). The content of my website would have to be dynamic, as I would like to keep my CV and blog up to date.  There were many options available here, but I finally settled on a headless CMS named ([strapi](https://strapi.io/)). Strapi would also require some sort of persistence layer, and  [mongodb](https://www.mongodb.com/ seemed to be a sensible choice.\n\nFor the web interface itself, there was a bit of competition between React and Angular. After spending years commercially working on Angular projects, I decided that React could be a good thing to learn and went with that.  \n\n```npx create-react-app my-app --template typescript``` is the command used to boostrap my react SPA (single page application) and I found a boostrap template from [here](https://wrapbootstrap.com/).\n\nSo far so good right ? I h
ad picked the basic building blocks for building this dynamic CV/blog, but where would I run it ? I had a perfectly good iMac that was unused, and a fast enough internet connection. This app doesnt need to be highly available, as its just a little hobby app so this would suit well. I could use [ngrok](https://ngrok.com/) to make my app available to the internet, and I could use [Route 53](https://aws.amazon.com/route53/) to set up and configure my domain.\n\nKubernetes is a very popular way or running cloud native apps, so this was a pretty easy choice, the only issue was what flavour of it would work best on a mac. I started off with minikube, but started to have issues with persistent volumes, so eventually went with [kind (kubernetes in docker)](https://kind.sigs.k8s.io/). I could easily install nginx ingress controller, and it was super easy to configure.\n\nThe last thing to consider was how to deploy the individual components or services to the kubernetes cluster. One of my requirements was that I would want to make continual improvments to my app, so the deployment process must be as simple as possible. I would want to have git projects for each service,  build a container image, and deploy a helm chart (a helm chart is a collection of files that describe a related set of Kubernetes resources).  [Jenkins X](https://jenkins-x.io/) describes itself as *Jenkins X provides pipeline automation, built-in GitOps, and preview environments to help teams collaborate and accelerate their software delivery at any scale*. There was out of the box support for kubernetes flavours such as GKE (google cloud) and EKS (amazon web services), but a bit of customisation would be required if i wanted to run this on my local kubernetes cluster. This was easy enough and I was able to configure the following:\n- [Harbor](https://goharbor.io/) as the container registry of choice\n- [Cert Manager](https://cert-manager.io/) - configure cert manager to generate lets encrpt certificates using ACME challennges based on my use of AWS Route 53 for dns.\n- Installed MongoDB in the control plane.\n\nOverall my initial architecture looked something like this:\n\n![Website V1](/uploads/Website_V1_c3889a1afa.jpeg)\n\n\n*All source code for this app can be found here: (https://github.com/simonjamesrowe)*","updated_by":{"isActive":true,"blocked":false,"roles":["5f6314095ee4c9001d2b959f"],"_id":"5e4839cd1c2d53001dcc0696","username":"simon.rowe@gmail.com","email":"simon.rowe@gmail.com","createdAt":"2020-02-15T18:34:53.155Z","updatedAt":"2020-09-17T07:45:13.526Z","__v":0,"id":"5e4839cd1c2d53001dcc0696"},"id":"5f0215c69d8081001fd38fa1"}), headers={model=blog, id=c0c23ed0-4229-482d-75fa-6fe67d6452af, kafka_messageKey=blog-5f0215c69d8081001fd38fa1, timestamp=1610490079857}]
2021-01-12 22:21:20.868 DEBUG 79 --- [or-http-epoll-3] o.s.c.s.m.DirectWithAttributesChannel    : postSend (sent=true) on channel 'org.springframework.cloud.stream.messaging.DirectWithAttributesChannel@1422e25d', message: GenericMessage [payload=Event(event=entry.update, createdAt=2021-01-02T15:49:35.918Z, model=blog, entry={"published":true,"tags":[{"_id":"5e495da7bc8d7d001ddbd7c5","name":"Kubernetes","createdAt":"2020-02-16T15:20:07.909Z","updatedAt":"2020-02-16T22:04:13.013Z","__v":0,"id":"5e495da7bc8d7d001ddbd7c5"},{"_id":"5f02da709d8081001fd38fa4","name":"Jenkins","createdAt":"2020-07-06T08:01:52.572Z","updatedAt":"2020-07-06T08:01:52.572Z","__v":0,"id":"5f02da709d8081001fd38fa4"},{"_id":"5f03901b9d8081001fd38fa7","name":"Strapi","createdAt":"2020-07-06T20:56:59.818Z","updatedAt":"2020-07-06T20:56:59.818Z","__v":0,"id":"5f03901b9d8081001fd38fa7"},{"_id":"5f0390249d8081001fd38fa8","name":"TLS","createdAt":"2020-07-06T20:57:08.354Z","updatedAt":"2020-07-06T20:57:08.354Z","__v":0,"id":"5f0390249d8081001fd38fa8"},{"_id":"5f0390329d8081001fd38fa9","name":"MongoDB","createdAt":"2020-07-06T20:57:22.633Z","updatedAt":"2020-07-06T20:57:22.633Z","__v":0,"id":"5f0390329d8081001fd38fa9"},{"_id":"5f0390499d8081001fd38faa","name":"React","createdAt":"2020-07-06T20:57:45.054Z","updatedAt":"2020-07-06T20:57:45.054Z","__v":0,"id":"5f0390499d8081001fd38faa"}],"skills":[{"_id":"5f635b6a5ee4c9001d2b9632","name":"Spring Boot","rating":9.7,"order":1,"createdAt":"2020-09-17T12:49:46.739Z","updatedAt":"2020-09-21T21:05:20.308Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","image":{"_id":"5f6851a85ee4c9001d2b96af","name":"spring-boot.jpeg","alternativeText":"","caption":"","hash":"spring_boot_5ee37de4c1","ext":".jpeg","mime":"image/png","size":7.98,"width":400,"height":400,"url":"/uploads/spring_boot_5ee37de4c1.jpeg","formats":{"thumbnail":{"name":"thumbnail_spring-boot.jpeg","hash":"thumbnail_spring_boot_5ee37de4c1","ext":".jpeg","mime":"image/png","width":156,"height":156,"size":5.21,"path":null,"url":"/uploads/thumbnail_spring_boot_5ee37de4c1.jpeg"}},"provider":"local","related":["5f635b6a5ee4c9001d2b9632","5feed4c667bdd6001e9c12d0"],"createdAt":"2020-09-21T07:09:28.458Z","updatedAt":"2021-01-01T21:02:32.991Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","id":"5f6851a85ee4c9001d2b96af"},"description":"Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".\n\n- Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)\n- Provide opinionated 'starter' dependencies to simplify your build configuration\n- Automatically configure Spring and 3rd party libraries whenever possible\n- Provide production-ready features such as metrics, health checks, and externalized configuration","id":"5f635b6a5ee4c9001d2b9632"},{"_id":"5f635b555ee4c9001d2b9631","name":"Kotlin","rating":8,"createdAt":"2020-09-17T12:49:25.636Z","updatedAt":"2020-09-21T21:01:54.939Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","image":{"_id":"5f65ec765ee4c9001d2b9676","name":"kotlin_250x250.png","alternativeText":"","caption":"","hash":"kotlin_250x250_dfc086e243","ext":".png","mime":"image/png","size":3.69,"width":250,"height":250,"url":"/uploads/kotlin_250x250_dfc086e243.png","formats":{"thumbnail":{"name":"thumbnail_kotlin_250x250.png","hash":"thumbnail_kotlin_250x250_dfc086e243","ext":".png","mime":"image/png","width":156,"height":156,"size":6.89,"path":null,"url":"/uploads/thumbnail_kotlin_250x250_dfc086e243.png"}},"provider":"local","related":["5f6359c55ee4c9001d2b9627","5f635b555ee4c9001d2b9631"],"createdAt":"2020-09-19T11:33:10.896Z","updatedAt":"2020-09-21T06:17:06.069Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","id":"5f65ec765ee4c9001d2b9676"},"description":"- Lambda expressions + Inline functions = performant custom control structures\n- Extension functions\n- Null-safety\n- Smart casts\n- String templates\n- Properties\n-
 Primary constructors\n- First-class delegation\n- Type inference for variable and property types\n- Singletons\n- Declaration-site variance & Type projections\n- Range expressions\n- Operator overloading\n- Companion objects\n- Data classes\n- Separate interfaces for read-only and mutable collections\n- Coroutines","id":"5f635b555ee4c9001d2b9631"},{"_id":"5f635c2e5ee4c9001d2b963c","name":"Jenkins Pipeline","rating":8,"createdAt":"2020-09-17T12:53:02.588Z","updatedAt":"2020-09-22T06:41:07.845Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","image":{"_id":"5f65ed105ee4c9001d2b967c","name":"jenkins-5-569553.png","alternativeText":"","caption":"","hash":"jenkins_5_569553_cb54b85a4c","ext":".png","mime":"image/png","size":12.15,"width":256,"height":256,"url":"/uploads/jenkins_5_569553_cb54b85a4c.png","formats":{"thumbnail":{"name":"thumbnail_jenkins-5-569553.png","hash":"thumbnail_jenkins_5_569553_cb54b85a4c","ext":".png","mime":"image/png","width":156,"height":156,"size":16.21,"path":null,"url":"/uploads/thumbnail_jenkins_5_569553_cb54b85a4c.png"}},"provider":"local","related":["5f635a195ee4c9001d2b962a","5f635c2e5ee4c9001d2b963c"],"createdAt":"2020-09-19T11:35:44.624Z","updatedAt":"2020-09-21T07:16:50.216Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","id":"5f65ed105ee4c9001d2b967c"},"description":"Pipeline is a suite of plugins that supports implementing and integrating continuous delivery pipelines into Jenkins. Pipeline provides an extensible set of tools for modelling simple-to-complex delivery pipelines \"as code\" via the Pipeline DSL (groovy). ","id":"5f635c2e5ee4c9001d2b963c"},{"_id":"5f635c375ee4c9001d2b963d","name":"Jenkins X","rating":9,"createdAt":"2020-09-17T12:53:11.954Z","updatedAt":"2020-09-22T21:19:16.887Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","image":{"_id":"5f6616545ee4c9001d2b9690","name":"jenkinsx.png","alternativeText":"","caption":"","hash":"jenkinsx_d56c6fea15","ext":".png","mime":"image/png","size":25.16,"width":696,"height":398,"url":"/uploads/jenkinsx_d56c6fea15.png","formats":{"thumbnail":{"name":"thumbnail_jenkinsx.png","hash":"thumbnail_jenkinsx_d56c6fea15","ext":".png","mime":"image/png","width":245,"height":140,"size":9.18,"path":null,"url":"/uploads/thumbnail_jenkinsx_d56c6fea15.png"},"small":{"name":"small_jenkinsx.png","hash":"small_jenkinsx_d56c6fea15","ext":".png","mime":"image/png","width":500,"height":286,"size":22.51,"path":null,"url":"/uploads/small_jenkinsx_d56c6fea15.png"}},"provider":"local","related":["5f0413739d8081001fd38fb6","5f635c375ee4c9001d2b963d"],"createdAt":"2020-09-19T14:31:48.129Z","updatedAt":"2020-09-21T07:17:01.500Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","id":"5f6616545ee4c9001d2b9690"},"description":"Jenkins X provides pipeline automation, built-in GitOps, and preview environments to help teams collaborate and accelerate their software delivery at any scale. Jenkins X builds upon the following core components:\n- Kubernetes and Docker\n- Helm and Draft","id":"5f635c375ee4c9001d2b963d"},{"_id":"5f635f8f5ee4c9001d2b966c","name":"Helm","rating":8,"createdAt":"2020-09-17T13:07:27.527Z","updatedAt":"2020-09-30T06:20:10.213Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","image":{"_id":"5f6854785ee4c9001d2b96cf","name":"helm.jpg","alternativeText":"","caption":"","hash":"helm_9127651c35","ext":".jpg","mime":"image/jpeg","size":12.82,"width":366,"height":366,"url":"/uploads/helm_9127651c35.jpg","formats":{"thumbnail":{"name":"thumbnail_helm.jpg","hash":"thumbnail_helm_9127651c35","ext":".jpg","mime":"image/jpeg","width":156,"height":156,"size":5.11,"path":null,"url":"/uploads/thumbnail_helm_9127651c35.jpg"}},"provider":"local","related":["5f635f8f5ee4c9001d2b966c"],"createdAt":"2020-09-21T07:21:28.306Z","updatedAt":"2020-09-21T07:21:30.887Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","id":"5f6854785ee4
c9001d2b96cf"},"description":"Helm is a tool that streamlines installing and managing Kubernetes applications. ... A single chart might be used to deploy something simple, like a memcached pod, or something complex, like a full web app stack with HTTP servers, databases, caches, etc,","id":"5f635f8f5ee4c9001d2b966c"},{"_id":"5f635f995ee4c9001d2b966d","name":"Chart Museum","rating":7,"createdAt":"2020-09-17T13:07:37.145Z","updatedAt":"2020-09-30T06:22:03.609Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","image":{"_id":"5f6854c05ee4c9001d2b96d1","name":"chart-museum.png","alternativeText":"","caption":"","hash":"chart_museum_a56509005a","ext":".png","mime":"image/png","size":72.28,"width":500,"height":225,"url":"/uploads/chart_museum_a56509005a.png","formats":{"thumbnail":{"name":"thumbnail_chart-museum.png","hash":"thumbnail_chart_museum_a56509005a","ext":".png","mime":"image/png","width":245,"height":110,"size":29.64,"path":null,"url":"/uploads/thumbnail_chart_museum_a56509005a.png"}},"provider":"local","related":["5f635f995ee4c9001d2b966d"],"createdAt":"2020-09-21T07:22:40.798Z","updatedAt":"2020-09-21T07:22:43.401Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","id":"5f6854c05ee4c9001d2b96d1"},"description":"ChartMuseum is an open-source Helm Chart Repository written in Go (Golang), with support for cloud storage backends, including Google Cloud Storage, Amazon S3, Microsoft Azure Blob Storage, Alibaba Cloud OSS Storage and Openstack Object Storage.","id":"5f635f995ee4c9001d2b966d"},{"_id":"5f635c185ee4c9001d2b963a","name":"Maven","rating":9.6,"createdAt":"2020-09-17T12:52:40.922Z","updatedAt":"2020-09-22T06:36:50.576Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","image":{"_id":"5f6853265ee4c9001d2b96bf","name":"maven.png","alternativeText":"","caption":"","hash":"maven_8510b1d6fa","ext":".png","mime":"image/png","size":30.77,"width":1280,"height":324,"url":"/uploads/maven_8510b1d6fa.png","formats":{"thumbnail":{"name":"thumbnail_maven.png","hash":"thumbnail_maven_8510b1d6fa","ext":".png","mime":"image/png","width":245,"height":62,"size":10.07,"path":null,"url":"/uploads/thumbnail_maven_8510b1d6fa.png"},"large":{"name":"large_maven.png","hash":"large_maven_8510b1d6fa","ext":".png","mime":"image/png","width":1000,"height":253,"size":68.02,"path":null,"url":"/uploads/large_maven_8510b1d6fa.png"},"medium":{"name":"medium_maven.png","hash":"medium_maven_8510b1d6fa","ext":".png","mime":"image/png","width":750,"height":190,"size":46.3,"path":null,"url":"/uploads/medium_maven_8510b1d6fa.png"},"small":{"name":"small_maven.png","hash":"small_maven_8510b1d6fa","ext":".png","mime":"image/png","width":500,"height":127,"size":27.01,"path":null,"url":"/uploads/small_maven_8510b1d6fa.png"}},"provider":"local","related":["5f635c185ee4c9001d2b963a"],"createdAt":"2020-09-21T07:15:50.288Z","updatedAt":"2020-09-21T07:15:57.208Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","id":"5f6853265ee4c9001d2b96bf"},"description":"Maven is a build automation tool used primarily for Java projects. Maven can also be used to build and manage projects written in C#, Ruby, Scala, and other languages. \n\nMaven addresses two aspects of building software: how software is built, and its dependencies. An XML file describes the software project being built, its dependencies on other external modules and components, the build order, directories, and required plug-ins. ","id":"5f635c185ee4c9001d2b963a"},{"_id":"5f635c4f5ee4c9001d2b963f","name":"Tekton","createdAt":"2020-09-17T12:53:35.722Z","updatedAt":"2020-09-22T21:20:48.795Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","rating":8,"image":{"_id":"5f6853a55ee4c9001d2b96c7","name":"tekton.jpeg","alternativeText":"","caption":"","hash":"tekton_8b8bad63e8","ext":".jpeg","mime":"image/jpeg","size":13.24,"width":213,"height":237,"url":"/uploads/tekton_8b8bad63e8.jpeg","formats":{"thumbnail":{"name":"th
umbnail_tekton.jpeg","hash":"thumbnail_tekton_8b8bad63e8","ext":".jpeg","mime":"image/jpeg","width":140,"height":156,"size":7.5,"path":null,"url":"/uploads/thumbnail_tekton_8b8bad63e8.jpeg"}},"provider":"local","related":["5f635c4f5ee4c9001d2b963f"],"createdAt":"2020-09-21T07:17:57.258Z","updatedAt":"2020-09-21T07:17:59.250Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","id":"5f6853a55ee4c9001d2b96c7"},"description":"The Tekton Pipelines project provides k8s-style resources for declaring CI/CD-style pipelines.\n\nTekton Pipelines are Cloud Native:\n\n- Run on Kubernetes\n- Have Kubernetes clusters as a first class type\n- Use containers as their building blocks\n","id":"5f635c4f5ee4c9001d2b963f"},{"_id":"5f635ca45ee4c9001d2b9643","name":"Kubernetes","rating":8,"createdAt":"2020-09-17T12:55:00.632Z","updatedAt":"2020-09-22T21:28:44.327Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","image":{"_id":"5f66163d5ee4c9001d2b968e","name":"kubernetes.jpeg","alternativeText":"","caption":"","hash":"kubernetes_c13e33fa8c","ext":".jpeg","mime":"image/jpeg","size":17.62,"width":400,"height":388,"url":"/uploads/kubernetes_c13e33fa8c.jpeg","formats":{"thumbnail":{"name":"thumbnail_kubernetes.jpeg","hash":"thumbnail_kubernetes_c13e33fa8c","ext":".jpeg","mime":"image/jpeg","width":161,"height":156,"size":6.17,"path":null,"url":"/uploads/thumbnail_kubernetes_c13e33fa8c.jpeg"}},"provider":"local","related":["5f0408c59d8081001fd38fb1","5f635ca45ee4c9001d2b9643"],"createdAt":"2020-09-19T14:31:25.284Z","updatedAt":"2020-09-21T12:08:28.703Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","id":"5f66163d5ee4c9001d2b968e"},"description":"Kubernetes is a portable, extensible, open-source platform for managing containerized workloads and services, that facilitates both declarative configuration and automation. It has a large, rapidly growing ecosystem. Kubernetes provides you with:\n\n- **Service discovery and load balancing**\n- **Automated rollouts and rollbacks**: You provide Kubernetes with a cluster of nodes that it can use to run containerized tasks. You tell Kubernetes how much CPU and memory (RAM) each container needs. Kubernetes can fit containers onto your nodes to make the best use of your resources.\n- **Self-healing** Kubernetes restarts containers that fail, replaces containers, kills containers that don't respond to your user-defined health check, and doesn't advertise them to clients until they are ready to serve.\n- **Secret and configuration management** ","id":"5f635ca45ee4c9001d2b9643"},{"_id":"5f635e935ee4c9001d2b9665","name":"Typescript","rating":7.5,"createdAt":"2020-09-17T13:03:15.410Z","updatedAt":"2020-09-27T08:10:06.054Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","image":{"_id":"5f689aee76320d001e515e8b","name":"ts.jpg","alternativeText":"","caption":"","hash":"ts_1c7c89d06d","ext":".jpg","mime":"image/jpeg","size":11.59,"width":400,"height":400,"url":"/uploads/ts_1c7c89d06d.jpg","formats":{"thumbnail":{"name":"thumbnail_ts.jpg","hash":"thumbnail_ts_1c7c89d06d","ext":".jpg","mime":"image/jpeg","width":156,"height":156,"size":4.38,"path":null,"url":"/uploads/thumbnail_ts_1c7c89d06d.jpg"}},"provider":"local","related":["5f635e935ee4c9001d2b9665"],"createdAt":"2020-09-21T12:22:06.356Z","updatedAt":"2020-09-21T12:22:08.459Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","id":"5f689aee76320d001e515e8b"},"description":"TypeScript is an open-source programming language developed and maintained by Microsoft. It is a strict syntactical superset of JavaScript and adds optional static typing to the language. TypeScript is designed for development of large applications and transcompiles to JavaScript","id":"5f635e935ee4c9001d2b9665"},{"_id":"5f635e625ee4c9001d2b9660","name":"React","rating":8.5,"createdAt":"2020-09-17T13:02:26.277Z","updatedAt":"2020-09-27T08:07:00.023Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","upda
ted_by":"5e4839cd1c2d53001dcc0696","image":{"_id":"5f66167a5ee4c9001d2b9692","name":"react.jpeg","alternativeText":"","caption":"","hash":"react_56f28418d3","ext":".jpeg","mime":"image/jpeg","size":11.98,"width":500,"height":353,"url":"/uploads/react_56f28418d3.jpeg","formats":{"thumbnail":{"name":"thumbnail_react.jpeg","hash":"thumbnail_react_56f28418d3","ext":".jpeg","mime":"image/jpeg","width":221,"height":156,"size":4.08,"path":null,"url":"/uploads/thumbnail_react_56f28418d3.jpeg"}},"provider":"local","related":["5f04152d9d8081001fd38fb9","5f635e625ee4c9001d2b9660"],"createdAt":"2020-09-19T14:32:26.690Z","updatedAt":"2020-09-21T12:19:36.732Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","id":"5f66167a5ee4c9001d2b9692"},"description":"React.js is an open-source JavaScript library that is used for building user interfaces specifically for single-page applications. It‚Äôs used for handling the view layer for web and mobile apps.\n\nReact allows developers to create large web applications that can change data, without reloading the page. The main purpose of React is to be fast, scalable, and simple. It works only on user interfaces in the application","id":"5f635e625ee4c9001d2b9660"}],"_id":"5f0215c69d8081001fd38fa1","title":"Creating a rich web app that can be hosted from home","shortDescription":"A quick introduction into the various components of my personal website including jenkinsx, kubernetes, letsencrypt and more.","createdAt":"2020-07-05T18:02:46.731Z","updatedAt":"2021-01-02T15:49:35.901Z","__v":0,"image":{"_id":"5f6616045ee4c9001d2b968a","name":"Website Icon.jpeg","alternativeText":"","caption":"","hash":"Website_Icon_727b161f01","ext":".jpeg","mime":"image/jpeg","size":29.24,"width":801,"height":401,"url":"/uploads/Website_Icon_727b161f01.jpeg","formats":{"thumbnail":{"name":"thumbnail_Website Icon.jpeg","hash":"thumbnail_Website_Icon_727b161f01","ext":".jpeg","mime":"image/jpeg","width":245,"height":123,"size":6.52,"path":null,"url":"/uploads/thumbnail_Website_Icon_727b161f01.jpeg"},"medium":{"name":"medium_Website Icon.jpeg","hash":"medium_Website_Icon_727b161f01","ext":".jpeg","mime":"image/jpeg","width":750,"height":375,"size":27.25,"path":null,"url":"/uploads/medium_Website_Icon_727b161f01.jpeg"},"small":{"name":"small_Website Icon.jpeg","hash":"small_Website_Icon_727b161f01","ext":".jpeg","mime":"image/jpeg","width":500,"height":250,"size":16.14,"path":null,"url":"/uploads/small_Website_Icon_727b161f01.jpeg"}},"provider":"local","related":["5f0215c69d8081001fd38fa1"],"createdAt":"2020-09-19T14:30:28.441Z","updatedAt":"2020-09-19T14:30:33.163Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","id":"5f6616045ee4c9001d2b968a"},"content":"I'm the kind of person that learns by doing - the more I do, the more it sinks in. Whilst attempting to keep my skills up to date, I had the idea of building a rich web application which would serve up my CV, and it could also double as a place to hone and demonstrate my skillsets in certain technologies. Eventually, I could even start blogging about these experiences. \n\nThe first thing I decided I would need would be a CMS (Content Management System). The content of my website would have to be dynamic, as I would like to keep my CV and blog up to date.  There were many options available here, but I finally settled on a headless CMS named ([strapi](https://strapi.io/)). Strapi would also require some sort of persistence layer, and  [mongodb](https://www.mongodb.com/ seemed to be a sensible choice.\n\nFor the web interface itself, there was a bit of competition between React and Angular. After spending years commercially working on Angular projects, I decided that React could be a good thing to learn and went with that.  \n\n```npx create-react-app my-app --template typescript``` is the command used to boostrap my react SPA (single page application) and I found a boostrap template from [here](https://wrapbootstrap.com/).\n\nSo far so good right ? I had picked the basic building blocks for bu
ilding this dynamic CV/blog, but where would I run it ? I had a perfectly good iMac that was unused, and a fast enough internet connection. This app doesnt need to be highly available, as its just a little hobby app so this would suit well. I could use [ngrok](https://ngrok.com/) to make my app available to the internet, and I could use [Route 53](https://aws.amazon.com/route53/) to set up and configure my domain.\n\nKubernetes is a very popular way or running cloud native apps, so this was a pretty easy choice, the only issue was what flavour of it would work best on a mac. I started off with minikube, but started to have issues with persistent volumes, so eventually went with [kind (kubernetes in docker)](https://kind.sigs.k8s.io/). I could easily install nginx ingress controller, and it was super easy to configure.\n\nThe last thing to consider was how to deploy the individual components or services to the kubernetes cluster. One of my requirements was that I would want to make continual improvments to my app, so the deployment process must be as simple as possible. I would want to have git projects for each service,  build a container image, and deploy a helm chart (a helm chart is a collection of files that describe a related set of Kubernetes resources).  [Jenkins X](https://jenkins-x.io/) describes itself as *Jenkins X provides pipeline automation, built-in GitOps, and preview environments to help teams collaborate and accelerate their software delivery at any scale*. There was out of the box support for kubernetes flavours such as GKE (google cloud) and EKS (amazon web services), but a bit of customisation would be required if i wanted to run this on my local kubernetes cluster. This was easy enough and I was able to configure the following:\n- [Harbor](https://goharbor.io/) as the container registry of choice\n- [Cert Manager](https://cert-manager.io/) - configure cert manager to generate lets encrpt certificates using ACME challennges based on my use of AWS Route 53 for dns.\n- Installed MongoDB in the control plane.\n\nOverall my initial architecture looked something like this:\n\n![Website V1](/uploads/Website_V1_c3889a1afa.jpeg)\n\n\n*All source code for this app can be found here: (https://github.com/simonjamesrowe)*","updated_by":{"isActive":true,"blocked":false,"roles":["5f6314095ee4c9001d2b959f"],"_id":"5e4839cd1c2d53001dcc0696","username":"simon.rowe@gmail.com","email":"simon.rowe@gmail.com","createdAt":"2020-02-15T18:34:53.155Z","updatedAt":"2020-09-17T07:45:13.526Z","__v":0,"id":"5e4839cd1c2d53001dcc0696"},"id":"5f0215c69d8081001fd38fa1"}), headers={model=blog, id=c0c23ed0-4229-482d-75fa-6fe67d6452af, kafka_messageKey=blog-5f0215c69d8081001fd38fa1, timestamp=1610490079857}]
2021-01-12 22:21:21.143 DEBUG 79 --- [container-0-C-1] o.s.c.s.m.DirectWithAttributesChannel    : preSend on channel 'bean 'consume-in-0'', message: GenericMessage [payload=Event(event=entry.update, createdAt=2021-01-02T15:49:35.918Z, model=blog, entry={"published":true,"tags":[{"_id":"5e495da7bc8d7d001ddbd7c5","name":"Kubernetes","createdAt":"2020-02-16T15:20:07.909Z","updatedAt":"2020-02-16T22:04:13.013Z","__v":0,"id":"5e495da7bc8d7d001ddbd7c5"},{"_id":"5f02da709d8081001fd38fa4","name":"Jenkins","createdAt":"2020-07-06T08:01:52.572Z","updatedAt":"2020-07-06T08:01:52.572Z","__v":0,"id":"5f02da709d8081001fd38fa4"},{"_id":"5f03901b9d8081001fd38fa7","name":"Strapi","createdAt":"2020-07-06T20:56:59.818Z","updatedAt":"2020-07-06T20:56:59.818Z","__v":0,"id":"5f03901b9d8081001fd38fa7"},{"_id":"5f0390249d8081001fd38fa8","name":"TLS","createdAt":"2020-07-06T20:57:08.354Z","updatedAt":"2020-07-06T20:57:08.354Z","__v":0,"id":"5f0390249d8081001fd38fa8"},{"_id":"5f0390329d8081001fd38fa9","name":"MongoDB","createdAt":"2020-07-06T20:57:22.633Z","updatedAt":"2020-07-06T20:57:22.633Z","__v":0,"id":"5f0390329d8081001fd38fa9"},{"_id":"5f0390499d8081001fd38faa","name":"React","createdAt":"2020-07-06T20:57:45.054Z","updatedAt":"2020-07-06T20:57:45.054Z","__v":0,"id":"5f0390499d8081001fd38faa"}],"skills":[{"_id":"5f635b6a5ee4c9001d2b9632","name":"Spring Boot","rating":9.7,"order":1,"createdAt":"2020-09-17T12:49:46.739Z","updatedAt":"2020-09-21T21:05:20.308Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","image":{"_id":"5f6851a85ee4c9001d2b96af","name":"spring-boot.jpeg","alternativeText":"","caption":"","hash":"spring_boot_5ee37de4c1","ext":".jpeg","mime":"image/png","size":7.98,"width":400,"height":400,"url":"/uploads/spring_boot_5ee37de4c1.jpeg","formats":{"thumbnail":{"name":"thumbnail_spring-boot.jpeg","hash":"thumbnail_spring_boot_5ee37de4c1","ext":".jpeg","mime":"image/png","width":156,"height":156,"size":5.21,"path":null,"url":"/uploads/thumbnail_spring_boot_5ee37de4c1.jpeg"}},"provider":"local","related":["5f635b6a5ee4c9001d2b9632","5feed4c667bdd6001e9c12d0"],"createdAt":"2020-09-21T07:09:28.458Z","updatedAt":"2021-01-01T21:02:32.991Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","id":"5f6851a85ee4c9001d2b96af"},"description":"Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".\n\n- Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)\n- Provide opinionated 'starter' dependencies to simplify your build configuration\n- Automatically configure Spring and 3rd party libraries whenever possible\n- Provide production-ready features such as metrics, health checks, and externalized configuration","id":"5f635b6a5ee4c9001d2b9632"},{"_id":"5f635b555ee4c9001d2b9631","name":"Kotlin","rating":8,"createdAt":"2020-09-17T12:49:25.636Z","updatedAt":"2020-09-21T21:01:54.939Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","image":{"_id":"5f65ec765ee4c9001d2b9676","name":"kotlin_250x250.png","alternativeText":"","caption":"","hash":"kotlin_250x250_dfc086e243","ext":".png","mime":"image/png","size":3.69,"width":250,"height":250,"url":"/uploads/kotlin_250x250_dfc086e243.png","formats":{"thumbnail":{"name":"thumbnail_kotlin_250x250.png","hash":"thumbnail_kotlin_250x250_dfc086e243","ext":".png","mime":"image/png","width":156,"height":156,"size":6.89,"path":null,"url":"/uploads/thumbnail_kotlin_250x250_dfc086e243.png"}},"provider":"local","related":["5f6359c55ee4c9001d2b9627","5f635b555ee4c9001d2b9631"],"createdAt":"2020-09-19T11:33:10.896Z","updatedAt":"2020-09-21T06:17:06.069Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","id":"5f65ec765ee4c9001d2b9676"},"description":"- Lambda expressions + Inline functions = performant custom control structures\n- Extension functions\n- Null-safety\n- Smart casts\n- String templates\n- Properties\n- Primary constructors\n- First-class delegation\n- Type inference for var
iable and property types\n- Singletons\n- Declaration-site variance & Type projections\n- Range expressions\n- Operator overloading\n- Companion objects\n- Data classes\n- Separate interfaces for read-only and mutable collections\n- Coroutines","id":"5f635b555ee4c9001d2b9631"},{"_id":"5f635c2e5ee4c9001d2b963c","name":"Jenkins Pipeline","rating":8,"createdAt":"2020-09-17T12:53:02.588Z","updatedAt":"2020-09-22T06:41:07.845Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","image":{"_id":"5f65ed105ee4c9001d2b967c","name":"jenkins-5-569553.png","alternativeText":"","caption":"","hash":"jenkins_5_569553_cb54b85a4c","ext":".png","mime":"image/png","size":12.15,"width":256,"height":256,"url":"/uploads/jenkins_5_569553_cb54b85a4c.png","formats":{"thumbnail":{"name":"thumbnail_jenkins-5-569553.png","hash":"thumbnail_jenkins_5_569553_cb54b85a4c","ext":".png","mime":"image/png","width":156,"height":156,"size":16.21,"path":null,"url":"/uploads/thumbnail_jenkins_5_569553_cb54b85a4c.png"}},"provider":"local","related":["5f635a195ee4c9001d2b962a","5f635c2e5ee4c9001d2b963c"],"createdAt":"2020-09-19T11:35:44.624Z","updatedAt":"2020-09-21T07:16:50.216Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","id":"5f65ed105ee4c9001d2b967c"},"description":"Pipeline is a suite of plugins that supports implementing and integrating continuous delivery pipelines into Jenkins. Pipeline provides an extensible set of tools for modelling simple-to-complex delivery pipelines \"as code\" via the Pipeline DSL (groovy). ","id":"5f635c2e5ee4c9001d2b963c"},{"_id":"5f635c375ee4c9001d2b963d","name":"Jenkins X","rating":9,"createdAt":"2020-09-17T12:53:11.954Z","updatedAt":"2020-09-22T21:19:16.887Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","image":{"_id":"5f6616545ee4c9001d2b9690","name":"jenkinsx.png","alternativeText":"","caption":"","hash":"jenkinsx_d56c6fea15","ext":".png","mime":"image/png","size":25.16,"width":696,"height":398,"url":"/uploads/jenkinsx_d56c6fea15.png","formats":{"thumbnail":{"name":"thumbnail_jenkinsx.png","hash":"thumbnail_jenkinsx_d56c6fea15","ext":".png","mime":"image/png","width":245,"height":140,"size":9.18,"path":null,"url":"/uploads/thumbnail_jenkinsx_d56c6fea15.png"},"small":{"name":"small_jenkinsx.png","hash":"small_jenkinsx_d56c6fea15","ext":".png","mime":"image/png","width":500,"height":286,"size":22.51,"path":null,"url":"/uploads/small_jenkinsx_d56c6fea15.png"}},"provider":"local","related":["5f0413739d8081001fd38fb6","5f635c375ee4c9001d2b963d"],"createdAt":"2020-09-19T14:31:48.129Z","updatedAt":"2020-09-21T07:17:01.500Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","id":"5f6616545ee4c9001d2b9690"},"description":"Jenkins X provides pipeline automation, built-in GitOps, and preview environments to help teams collaborate and accelerate their software delivery at any scale. Jenkins X builds upon the following core components:\n- Kubernetes and Docker\n- Helm and Draft","id":"5f635c375ee4c9001d2b963d"},{"_id":"5f635f8f5ee4c9001d2b966c","name":"Helm","rating":8,"createdAt":"2020-09-17T13:07:27.527Z","updatedAt":"2020-09-30T06:20:10.213Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","image":{"_id":"5f6854785ee4c9001d2b96cf","name":"helm.jpg","alternativeText":"","caption":"","hash":"helm_9127651c35","ext":".jpg","mime":"image/jpeg","size":12.82,"width":366,"height":366,"url":"/uploads/helm_9127651c35.jpg","formats":{"thumbnail":{"name":"thumbnail_helm.jpg","hash":"thumbnail_helm_9127651c35","ext":".jpg","mime":"image/jpeg","width":156,"height":156,"size":5.11,"path":null,"url":"/uploads/thumbnail_helm_9127651c35.jpg"}},"provider":"local","related":["5f635f8f5ee4c9001d2b966c"],"createdAt":"2020-09-21T07:21:28.306Z","updatedAt":"2020-09-21T07:21:30.887Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","id":"5f6854785ee4c9001d2b96cf"},"description":"Helm is a tool that streamlines installing 
and managing Kubernetes applications. ... A single chart might be used to deploy something simple, like a memcached pod, or something complex, like a full web app stack with HTTP servers, databases, caches, etc,","id":"5f635f8f5ee4c9001d2b966c"},{"_id":"5f635f995ee4c9001d2b966d","name":"Chart Museum","rating":7,"createdAt":"2020-09-17T13:07:37.145Z","updatedAt":"2020-09-30T06:22:03.609Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","image":{"_id":"5f6854c05ee4c9001d2b96d1","name":"chart-museum.png","alternativeText":"","caption":"","hash":"chart_museum_a56509005a","ext":".png","mime":"image/png","size":72.28,"width":500,"height":225,"url":"/uploads/chart_museum_a56509005a.png","formats":{"thumbnail":{"name":"thumbnail_chart-museum.png","hash":"thumbnail_chart_museum_a56509005a","ext":".png","mime":"image/png","width":245,"height":110,"size":29.64,"path":null,"url":"/uploads/thumbnail_chart_museum_a56509005a.png"}},"provider":"local","related":["5f635f995ee4c9001d2b966d"],"createdAt":"2020-09-21T07:22:40.798Z","updatedAt":"2020-09-21T07:22:43.401Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","id":"5f6854c05ee4c9001d2b96d1"},"description":"ChartMuseum is an open-source Helm Chart Repository written in Go (Golang), with support for cloud storage backends, including Google Cloud Storage, Amazon S3, Microsoft Azure Blob Storage, Alibaba Cloud OSS Storage and Openstack Object Storage.","id":"5f635f995ee4c9001d2b966d"},{"_id":"5f635c185ee4c9001d2b963a","name":"Maven","rating":9.6,"createdAt":"2020-09-17T12:52:40.922Z","updatedAt":"2020-09-22T06:36:50.576Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","image":{"_id":"5f6853265ee4c9001d2b96bf","name":"maven.png","alternativeText":"","caption":"","hash":"maven_8510b1d6fa","ext":".png","mime":"image/png","size":30.77,"width":1280,"height":324,"url":"/uploads/maven_8510b1d6fa.png","formats":{"thumbnail":{"name":"thumbnail_maven.png","hash":"thumbnail_maven_8510b1d6fa","ext":".png","mime":"image/png","width":245,"height":62,"size":10.07,"path":null,"url":"/uploads/thumbnail_maven_8510b1d6fa.png"},"large":{"name":"large_maven.png","hash":"large_maven_8510b1d6fa","ext":".png","mime":"image/png","width":1000,"height":253,"size":68.02,"path":null,"url":"/uploads/large_maven_8510b1d6fa.png"},"medium":{"name":"medium_maven.png","hash":"medium_maven_8510b1d6fa","ext":".png","mime":"image/png","width":750,"height":190,"size":46.3,"path":null,"url":"/uploads/medium_maven_8510b1d6fa.png"},"small":{"name":"small_maven.png","hash":"small_maven_8510b1d6fa","ext":".png","mime":"image/png","width":500,"height":127,"size":27.01,"path":null,"url":"/uploads/small_maven_8510b1d6fa.png"}},"provider":"local","related":["5f635c185ee4c9001d2b963a"],"createdAt":"2020-09-21T07:15:50.288Z","updatedAt":"2020-09-21T07:15:57.208Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","id":"5f6853265ee4c9001d2b96bf"},"description":"Maven is a build automation tool used primarily for Java projects. Maven can also be used to build and manage projects written in C#, Ruby, Scala, and other languages. \n\nMaven addresses two aspects of building software: how software is built, and its dependencies. An XML file describes the software project being built, its dependencies on other external modules and components, the build order, directories, and required plug-ins. ","id":"5f635c185ee4c9001d2b963a"},{"_id":"5f635c4f5ee4c9001d2b963f","name":"Tekton","createdAt":"2020-09-17T12:53:35.722Z","updatedAt":"2020-09-22T21:20:48.795Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","rating":8,"image":{"_id":"5f6853a55ee4c9001d2b96c7","name":"tekton.jpeg","alternativeText":"","caption":"","hash":"tekton_8b8bad63e8","ext":".jpeg","mime":"image/jpeg","size":13.24,"width":213,"height":237,"url":"/uploads/tekton_8b8bad63e8.jpeg","formats":{"thumbnail":{"name":"thumbnail_tekton.jpeg","hash":"thumbnail_tekton_8b8bad63e8","ext":".jpeg","
mime":"image/jpeg","width":140,"height":156,"size":7.5,"path":null,"url":"/uploads/thumbnail_tekton_8b8bad63e8.jpeg"}},"provider":"local","related":["5f635c4f5ee4c9001d2b963f"],"createdAt":"2020-09-21T07:17:57.258Z","updatedAt":"2020-09-21T07:17:59.250Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","id":"5f6853a55ee4c9001d2b96c7"},"description":"The Tekton Pipelines project provides k8s-style resources for declaring CI/CD-style pipelines.\n\nTekton Pipelines are Cloud Native:\n\n- Run on Kubernetes\n- Have Kubernetes clusters as a first class type\n- Use containers as their building blocks\n","id":"5f635c4f5ee4c9001d2b963f"},{"_id":"5f635ca45ee4c9001d2b9643","name":"Kubernetes","rating":8,"createdAt":"2020-09-17T12:55:00.632Z","updatedAt":"2020-09-22T21:28:44.327Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","image":{"_id":"5f66163d5ee4c9001d2b968e","name":"kubernetes.jpeg","alternativeText":"","caption":"","hash":"kubernetes_c13e33fa8c","ext":".jpeg","mime":"image/jpeg","size":17.62,"width":400,"height":388,"url":"/uploads/kubernetes_c13e33fa8c.jpeg","formats":{"thumbnail":{"name":"thumbnail_kubernetes.jpeg","hash":"thumbnail_kubernetes_c13e33fa8c","ext":".jpeg","mime":"image/jpeg","width":161,"height":156,"size":6.17,"path":null,"url":"/uploads/thumbnail_kubernetes_c13e33fa8c.jpeg"}},"provider":"local","related":["5f0408c59d8081001fd38fb1","5f635ca45ee4c9001d2b9643"],"createdAt":"2020-09-19T14:31:25.284Z","updatedAt":"2020-09-21T12:08:28.703Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","id":"5f66163d5ee4c9001d2b968e"},"description":"Kubernetes is a portable, extensible, open-source platform for managing containerized workloads and services, that facilitates both declarative configuration and automation. It has a large, rapidly growing ecosystem. Kubernetes provides you with:\n\n- **Service discovery and load balancing**\n- **Automated rollouts and rollbacks**: You provide Kubernetes with a cluster of nodes that it can use to run containerized tasks. You tell Kubernetes how much CPU and memory (RAM) each container needs. Kubernetes can fit containers onto your nodes to make the best use of your resources.\n- **Self-healing** Kubernetes restarts containers that fail, replaces containers, kills containers that don't respond to your user-defined health check, and doesn't advertise them to clients until they are ready to serve.\n- **Secret and configuration management** ","id":"5f635ca45ee4c9001d2b9643"},{"_id":"5f635e935ee4c9001d2b9665","name":"Typescript","rating":7.5,"createdAt":"2020-09-17T13:03:15.410Z","updatedAt":"2020-09-27T08:10:06.054Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","image":{"_id":"5f689aee76320d001e515e8b","name":"ts.jpg","alternativeText":"","caption":"","hash":"ts_1c7c89d06d","ext":".jpg","mime":"image/jpeg","size":11.59,"width":400,"height":400,"url":"/uploads/ts_1c7c89d06d.jpg","formats":{"thumbnail":{"name":"thumbnail_ts.jpg","hash":"thumbnail_ts_1c7c89d06d","ext":".jpg","mime":"image/jpeg","width":156,"height":156,"size":4.38,"path":null,"url":"/uploads/thumbnail_ts_1c7c89d06d.jpg"}},"provider":"local","related":["5f635e935ee4c9001d2b9665"],"createdAt":"2020-09-21T12:22:06.356Z","updatedAt":"2020-09-21T12:22:08.459Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","id":"5f689aee76320d001e515e8b"},"description":"TypeScript is an open-source programming language developed and maintained by Microsoft. It is a strict syntactical superset of JavaScript and adds optional static typing to the language. TypeScript is designed for development of large applications and transcompiles to JavaScript","id":"5f635e935ee4c9001d2b9665"},{"_id":"5f635e625ee4c9001d2b9660","name":"React","rating":8.5,"createdAt":"2020-09-17T13:02:26.277Z","updatedAt":"2020-09-27T08:07:00.023Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","image":{"_id":"5f66167a5ee4c9001d2b96
92","name":"react.jpeg","alternativeText":"","caption":"","hash":"react_56f28418d3","ext":".jpeg","mime":"image/jpeg","size":11.98,"width":500,"height":353,"url":"/uploads/react_56f28418d3.jpeg","formats":{"thumbnail":{"name":"thumbnail_react.jpeg","hash":"thumbnail_react_56f28418d3","ext":".jpeg","mime":"image/jpeg","width":221,"height":156,"size":4.08,"path":null,"url":"/uploads/thumbnail_react_56f28418d3.jpeg"}},"provider":"local","related":["5f04152d9d8081001fd38fb9","5f635e625ee4c9001d2b9660"],"createdAt":"2020-09-19T14:32:26.690Z","updatedAt":"2020-09-21T12:19:36.732Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","id":"5f66167a5ee4c9001d2b9692"},"description":"React.js is an open-source JavaScript library that is used for building user interfaces specifically for single-page applications. It‚Äôs used for handling the view layer for web and mobile apps.\n\nReact allows developers to create large web applications that can change data, without reloading the page. The main purpose of React is to be fast, scalable, and simple. It works only on user interfaces in the application","id":"5f635e625ee4c9001d2b9660"}],"_id":"5f0215c69d8081001fd38fa1","title":"Creating a rich web app that can be hosted from home","shortDescription":"A quick introduction into the various components of my personal website including jenkinsx, kubernetes, letsencrypt and more.","createdAt":"2020-07-05T18:02:46.731Z","updatedAt":"2021-01-02T15:49:35.901Z","__v":0,"image":{"_id":"5f6616045ee4c9001d2b968a","name":"Website Icon.jpeg","alternativeText":"","caption":"","hash":"Website_Icon_727b161f01","ext":".jpeg","mime":"image/jpeg","size":29.24,"width":801,"height":401,"url":"/uploads/Website_Icon_727b161f01.jpeg","formats":{"thumbnail":{"name":"thumbnail_Website Icon.jpeg","hash":"thumbnail_Website_Icon_727b161f01","ext":".jpeg","mime":"image/jpeg","width":245,"height":123,"size":6.52,"path":null,"url":"/uploads/thumbnail_Website_Icon_727b161f01.jpeg"},"medium":{"name":"medium_Website Icon.jpeg","hash":"medium_Website_Icon_727b161f01","ext":".jpeg","mime":"image/jpeg","width":750,"height":375,"size":27.25,"path":null,"url":"/uploads/medium_Website_Icon_727b161f01.jpeg"},"small":{"name":"small_Website Icon.jpeg","hash":"small_Website_Icon_727b161f01","ext":".jpeg","mime":"image/jpeg","width":500,"height":250,"size":16.14,"path":null,"url":"/uploads/small_Website_Icon_727b161f01.jpeg"}},"provider":"local","related":["5f0215c69d8081001fd38fa1"],"createdAt":"2020-09-19T14:30:28.441Z","updatedAt":"2020-09-19T14:30:33.163Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","id":"5f6616045ee4c9001d2b968a"},"content":"I'm the kind of person that learns by doing - the more I do, the more it sinks in. Whilst attempting to keep my skills up to date, I had the idea of building a rich web application which would serve up my CV, and it could also double as a place to hone and demonstrate my skillsets in certain technologies. Eventually, I could even start blogging about these experiences. \n\nThe first thing I decided I would need would be a CMS (Content Management System). The content of my website would have to be dynamic, as I would like to keep my CV and blog up to date.  There were many options available here, but I finally settled on a headless CMS named ([strapi](https://strapi.io/)). Strapi would also require some sort of persistence layer, and  [mongodb](https://www.mongodb.com/ seemed to be a sensible choice.\n\nFor the web interface itself, there was a bit of competition between React and Angular. After spending years commercially working on Angular projects, I decided that React could be a good thing to learn and went with that.  \n\n```npx create-react-app my-app --template typescript``` is the command used to boostrap my react SPA (single page application) and I found a boostrap template from [here](https://wrapbootstrap.com/).\n\nSo far so good right ? I had picked the basic building blocks for building this dynamic CV/blog, but where would I run it ? I had a perfectly
 good iMac that was unused, and a fast enough internet connection. This app doesnt need to be highly available, as its just a little hobby app so this would suit well. I could use [ngrok](https://ngrok.com/) to make my app available to the internet, and I could use [Route 53](https://aws.amazon.com/route53/) to set up and configure my domain.\n\nKubernetes is a very popular way or running cloud native apps, so this was a pretty easy choice, the only issue was what flavour of it would work best on a mac. I started off with minikube, but started to have issues with persistent volumes, so eventually went with [kind (kubernetes in docker)](https://kind.sigs.k8s.io/). I could easily install nginx ingress controller, and it was super easy to configure.\n\nThe last thing to consider was how to deploy the individual components or services to the kubernetes cluster. One of my requirements was that I would want to make continual improvments to my app, so the deployment process must be as simple as possible. I would want to have git projects for each service,  build a container image, and deploy a helm chart (a helm chart is a collection of files that describe a related set of Kubernetes resources).  [Jenkins X](https://jenkins-x.io/) describes itself as *Jenkins X provides pipeline automation, built-in GitOps, and preview environments to help teams collaborate and accelerate their software delivery at any scale*. There was out of the box support for kubernetes flavours such as GKE (google cloud) and EKS (amazon web services), but a bit of customisation would be required if i wanted to run this on my local kubernetes cluster. This was easy enough and I was able to configure the following:\n- [Harbor](https://goharbor.io/) as the container registry of choice\n- [Cert Manager](https://cert-manager.io/) - configure cert manager to generate lets encrpt certificates using ACME challennges based on my use of AWS Route 53 for dns.\n- Installed MongoDB in the control plane.\n\nOverall my initial architecture looked something like this:\n\n![Website V1](/uploads/Website_V1_c3889a1afa.jpeg)\n\n\n*All source code for this app can be found here: (https://github.com/simonjamesrowe)*","updated_by":{"isActive":true,"blocked":false,"roles":["5f6314095ee4c9001d2b959f"],"_id":"5e4839cd1c2d53001dcc0696","username":"simon.rowe@gmail.com","email":"simon.rowe@gmail.com","createdAt":"2020-02-15T18:34:53.155Z","updatedAt":"2020-09-17T07:45:13.526Z","__v":0,"id":"5e4839cd1c2d53001dcc0696"},"id":"5f0215c69d8081001fd38fa1"}), headers={kafka_offset=0, scst_nativeHeadersPresent=true, kafka_consumer=org.apache.kafka.clients.consumer.KafkaConsumer@7db6708e, deliveryAttempt=1, kafka_timestampType=CREATE_TIME, model=blog, kafka_receivedPartitionId=0, kafka_receivedMessageKey=blog-5f0215c69d8081001fd38fa1, kafka_receivedTopic=LOCAL_EVENTS, kafka_receivedTimestamp=1610490080668, kafka_groupId=api-gateway}]
2021-01-12 22:21:21.153 DEBUG 79 --- [container-0-C-1] figuration$FunctionToDestinationBinder$1 : org.springframework.cloud.stream.function.FunctionConfiguration$FunctionToDestinationBinder$1@78e5e3aa received message: GenericMessage [payload=Event(event=entry.update, createdAt=2021-01-02T15:49:35.918Z, model=blog, entry={"published":true,"tags":[{"_id":"5e495da7bc8d7d001ddbd7c5","name":"Kubernetes","createdAt":"2020-02-16T15:20:07.909Z","updatedAt":"2020-02-16T22:04:13.013Z","__v":0,"id":"5e495da7bc8d7d001ddbd7c5"},{"_id":"5f02da709d8081001fd38fa4","name":"Jenkins","createdAt":"2020-07-06T08:01:52.572Z","updatedAt":"2020-07-06T08:01:52.572Z","__v":0,"id":"5f02da709d8081001fd38fa4"},{"_id":"5f03901b9d8081001fd38fa7","name":"Strapi","createdAt":"2020-07-06T20:56:59.818Z","updatedAt":"2020-07-06T20:56:59.818Z","__v":0,"id":"5f03901b9d8081001fd38fa7"},{"_id":"5f0390249d8081001fd38fa8","name":"TLS","createdAt":"2020-07-06T20:57:08.354Z","updatedAt":"2020-07-06T20:57:08.354Z","__v":0,"id":"5f0390249d8081001fd38fa8"},{"_id":"5f0390329d8081001fd38fa9","name":"MongoDB","createdAt":"2020-07-06T20:57:22.633Z","updatedAt":"2020-07-06T20:57:22.633Z","__v":0,"id":"5f0390329d8081001fd38fa9"},{"_id":"5f0390499d8081001fd38faa","name":"React","createdAt":"2020-07-06T20:57:45.054Z","updatedAt":"2020-07-06T20:57:45.054Z","__v":0,"id":"5f0390499d8081001fd38faa"}],"skills":[{"_id":"5f635b6a5ee4c9001d2b9632","name":"Spring Boot","rating":9.7,"order":1,"createdAt":"2020-09-17T12:49:46.739Z","updatedAt":"2020-09-21T21:05:20.308Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","image":{"_id":"5f6851a85ee4c9001d2b96af","name":"spring-boot.jpeg","alternativeText":"","caption":"","hash":"spring_boot_5ee37de4c1","ext":".jpeg","mime":"image/png","size":7.98,"width":400,"height":400,"url":"/uploads/spring_boot_5ee37de4c1.jpeg","formats":{"thumbnail":{"name":"thumbnail_spring-boot.jpeg","hash":"thumbnail_spring_boot_5ee37de4c1","ext":".jpeg","mime":"image/png","width":156,"height":156,"size":5.21,"path":null,"url":"/uploads/thumbnail_spring_boot_5ee37de4c1.jpeg"}},"provider":"local","related":["5f635b6a5ee4c9001d2b9632","5feed4c667bdd6001e9c12d0"],"createdAt":"2020-09-21T07:09:28.458Z","updatedAt":"2021-01-01T21:02:32.991Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","id":"5f6851a85ee4c9001d2b96af"},"description":"Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".\n\n- Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)\n- Provide opinionated 'starter' dependencies to simplify your build configuration\n- Automatically configure Spring and 3rd party libraries whenever possible\n- Provide production-ready features such as metrics, health checks, and externalized configuration","id":"5f635b6a5ee4c9001d2b9632"},{"_id":"5f635b555ee4c9001d2b9631","name":"Kotlin","rating":8,"createdAt":"2020-09-17T12:49:25.636Z","updatedAt":"2020-09-21T21:01:54.939Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","image":{"_id":"5f65ec765ee4c9001d2b9676","name":"kotlin_250x250.png","alternativeText":"","caption":"","hash":"kotlin_250x250_dfc086e243","ext":".png","mime":"image/png","size":3.69,"width":250,"height":250,"url":"/uploads/kotlin_250x250_dfc086e243.png","formats":{"thumbnail":{"name":"thumbnail_kotlin_250x250.png","hash":"thumbnail_kotlin_250x250_dfc086e243","ext":".png","mime":"image/png","width":156,"height":156,"size":6.89,"path":null,"url":"/uploads/thumbnail_kotlin_250x250_dfc086e243.png"}},"provider":"local","related":["5f6359c55ee4c9001d2b9627","5f635b555ee4c9001d2b9631"],"createdAt":"2020-09-19T11:33:10.896Z","updatedAt":"2020-09-21T06:17:06.069Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","id":"5f65ec765ee4c9001d2b9676"},"description":"- Lambda expressions + Inline functions = performant custom control structures\n- Extension functions\n- Null-safety\n- Smart casts\n- String templates\n- Properties\n- Pr
imary constructors\n- First-class delegation\n- Type inference for variable and property types\n- Singletons\n- Declaration-site variance & Type projections\n- Range expressions\n- Operator overloading\n- Companion objects\n- Data classes\n- Separate interfaces for read-only and mutable collections\n- Coroutines","id":"5f635b555ee4c9001d2b9631"},{"_id":"5f635c2e5ee4c9001d2b963c","name":"Jenkins Pipeline","rating":8,"createdAt":"2020-09-17T12:53:02.588Z","updatedAt":"2020-09-22T06:41:07.845Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","image":{"_id":"5f65ed105ee4c9001d2b967c","name":"jenkins-5-569553.png","alternativeText":"","caption":"","hash":"jenkins_5_569553_cb54b85a4c","ext":".png","mime":"image/png","size":12.15,"width":256,"height":256,"url":"/uploads/jenkins_5_569553_cb54b85a4c.png","formats":{"thumbnail":{"name":"thumbnail_jenkins-5-569553.png","hash":"thumbnail_jenkins_5_569553_cb54b85a4c","ext":".png","mime":"image/png","width":156,"height":156,"size":16.21,"path":null,"url":"/uploads/thumbnail_jenkins_5_569553_cb54b85a4c.png"}},"provider":"local","related":["5f635a195ee4c9001d2b962a","5f635c2e5ee4c9001d2b963c"],"createdAt":"2020-09-19T11:35:44.624Z","updatedAt":"2020-09-21T07:16:50.216Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","id":"5f65ed105ee4c9001d2b967c"},"description":"Pipeline is a suite of plugins that supports implementing and integrating continuous delivery pipelines into Jenkins. Pipeline provides an extensible set of tools for modelling simple-to-complex delivery pipelines \"as code\" via the Pipeline DSL (groovy). ","id":"5f635c2e5ee4c9001d2b963c"},{"_id":"5f635c375ee4c9001d2b963d","name":"Jenkins X","rating":9,"createdAt":"2020-09-17T12:53:11.954Z","updatedAt":"2020-09-22T21:19:16.887Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","image":{"_id":"5f6616545ee4c9001d2b9690","name":"jenkinsx.png","alternativeText":"","caption":"","hash":"jenkinsx_d56c6fea15","ext":".png","mime":"image/png","size":25.16,"width":696,"height":398,"url":"/uploads/jenkinsx_d56c6fea15.png","formats":{"thumbnail":{"name":"thumbnail_jenkinsx.png","hash":"thumbnail_jenkinsx_d56c6fea15","ext":".png","mime":"image/png","width":245,"height":140,"size":9.18,"path":null,"url":"/uploads/thumbnail_jenkinsx_d56c6fea15.png"},"small":{"name":"small_jenkinsx.png","hash":"small_jenkinsx_d56c6fea15","ext":".png","mime":"image/png","width":500,"height":286,"size":22.51,"path":null,"url":"/uploads/small_jenkinsx_d56c6fea15.png"}},"provider":"local","related":["5f0413739d8081001fd38fb6","5f635c375ee4c9001d2b963d"],"createdAt":"2020-09-19T14:31:48.129Z","updatedAt":"2020-09-21T07:17:01.500Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","id":"5f6616545ee4c9001d2b9690"},"description":"Jenkins X provides pipeline automation, built-in GitOps, and preview environments to help teams collaborate and accelerate their software delivery at any scale. Jenkins X builds upon the following core components:\n- Kubernetes and Docker\n- Helm and Draft","id":"5f635c375ee4c9001d2b963d"},{"_id":"5f635f8f5ee4c9001d2b966c","name":"Helm","rating":8,"createdAt":"2020-09-17T13:07:27.527Z","updatedAt":"2020-09-30T06:20:10.213Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","image":{"_id":"5f6854785ee4c9001d2b96cf","name":"helm.jpg","alternativeText":"","caption":"","hash":"helm_9127651c35","ext":".jpg","mime":"image/jpeg","size":12.82,"width":366,"height":366,"url":"/uploads/helm_9127651c35.jpg","formats":{"thumbnail":{"name":"thumbnail_helm.jpg","hash":"thumbnail_helm_9127651c35","ext":".jpg","mime":"image/jpeg","width":156,"height":156,"size":5.11,"path":null,"url":"/uploads/thumbnail_helm_9127651c35.jpg"}},"provider":"local","related":["5f635f8f5ee4c9001d2b966c"],"createdAt":"2020-09-21T07:21:28.306Z","updatedAt":"2020-09-21T07:21:30.887Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","id":"5f6854785ee4c90
01d2b96cf"},"description":"Helm is a tool that streamlines installing and managing Kubernetes applications. ... A single chart might be used to deploy something simple, like a memcached pod, or something complex, like a full web app stack with HTTP servers, databases, caches, etc,","id":"5f635f8f5ee4c9001d2b966c"},{"_id":"5f635f995ee4c9001d2b966d","name":"Chart Museum","rating":7,"createdAt":"2020-09-17T13:07:37.145Z","updatedAt":"2020-09-30T06:22:03.609Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","image":{"_id":"5f6854c05ee4c9001d2b96d1","name":"chart-museum.png","alternativeText":"","caption":"","hash":"chart_museum_a56509005a","ext":".png","mime":"image/png","size":72.28,"width":500,"height":225,"url":"/uploads/chart_museum_a56509005a.png","formats":{"thumbnail":{"name":"thumbnail_chart-museum.png","hash":"thumbnail_chart_museum_a56509005a","ext":".png","mime":"image/png","width":245,"height":110,"size":29.64,"path":null,"url":"/uploads/thumbnail_chart_museum_a56509005a.png"}},"provider":"local","related":["5f635f995ee4c9001d2b966d"],"createdAt":"2020-09-21T07:22:40.798Z","updatedAt":"2020-09-21T07:22:43.401Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","id":"5f6854c05ee4c9001d2b96d1"},"description":"ChartMuseum is an open-source Helm Chart Repository written in Go (Golang), with support for cloud storage backends, including Google Cloud Storage, Amazon S3, Microsoft Azure Blob Storage, Alibaba Cloud OSS Storage and Openstack Object Storage.","id":"5f635f995ee4c9001d2b966d"},{"_id":"5f635c185ee4c9001d2b963a","name":"Maven","rating":9.6,"createdAt":"2020-09-17T12:52:40.922Z","updatedAt":"2020-09-22T06:36:50.576Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","image":{"_id":"5f6853265ee4c9001d2b96bf","name":"maven.png","alternativeText":"","caption":"","hash":"maven_8510b1d6fa","ext":".png","mime":"image/png","size":30.77,"width":1280,"height":324,"url":"/uploads/maven_8510b1d6fa.png","formats":{"thumbnail":{"name":"thumbnail_maven.png","hash":"thumbnail_maven_8510b1d6fa","ext":".png","mime":"image/png","width":245,"height":62,"size":10.07,"path":null,"url":"/uploads/thumbnail_maven_8510b1d6fa.png"},"large":{"name":"large_maven.png","hash":"large_maven_8510b1d6fa","ext":".png","mime":"image/png","width":1000,"height":253,"size":68.02,"path":null,"url":"/uploads/large_maven_8510b1d6fa.png"},"medium":{"name":"medium_maven.png","hash":"medium_maven_8510b1d6fa","ext":".png","mime":"image/png","width":750,"height":190,"size":46.3,"path":null,"url":"/uploads/medium_maven_8510b1d6fa.png"},"small":{"name":"small_maven.png","hash":"small_maven_8510b1d6fa","ext":".png","mime":"image/png","width":500,"height":127,"size":27.01,"path":null,"url":"/uploads/small_maven_8510b1d6fa.png"}},"provider":"local","related":["5f635c185ee4c9001d2b963a"],"createdAt":"2020-09-21T07:15:50.288Z","updatedAt":"2020-09-21T07:15:57.208Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","id":"5f6853265ee4c9001d2b96bf"},"description":"Maven is a build automation tool used primarily for Java projects. Maven can also be used to build and manage projects written in C#, Ruby, Scala, and other languages. \n\nMaven addresses two aspects of building software: how software is built, and its dependencies. An XML file describes the software project being built, its dependencies on other external modules and components, the build order, directories, and required plug-ins. ","id":"5f635c185ee4c9001d2b963a"},{"_id":"5f635c4f5ee4c9001d2b963f","name":"Tekton","createdAt":"2020-09-17T12:53:35.722Z","updatedAt":"2020-09-22T21:20:48.795Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","rating":8,"image":{"_id":"5f6853a55ee4c9001d2b96c7","name":"tekton.jpeg","alternativeText":"","caption":"","hash":"tekton_8b8bad63e8","ext":".jpeg","mime":"image/jpeg","size":13.24,"width":213,"height":237,"url":"/uploads/tekton_8b8bad63e8.jpeg","formats":{"thumbnail":{"name":"thumb
nail_tekton.jpeg","hash":"thumbnail_tekton_8b8bad63e8","ext":".jpeg","mime":"image/jpeg","width":140,"height":156,"size":7.5,"path":null,"url":"/uploads/thumbnail_tekton_8b8bad63e8.jpeg"}},"provider":"local","related":["5f635c4f5ee4c9001d2b963f"],"createdAt":"2020-09-21T07:17:57.258Z","updatedAt":"2020-09-21T07:17:59.250Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","id":"5f6853a55ee4c9001d2b96c7"},"description":"The Tekton Pipelines project provides k8s-style resources for declaring CI/CD-style pipelines.\n\nTekton Pipelines are Cloud Native:\n\n- Run on Kubernetes\n- Have Kubernetes clusters as a first class type\n- Use containers as their building blocks\n","id":"5f635c4f5ee4c9001d2b963f"},{"_id":"5f635ca45ee4c9001d2b9643","name":"Kubernetes","rating":8,"createdAt":"2020-09-17T12:55:00.632Z","updatedAt":"2020-09-22T21:28:44.327Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","image":{"_id":"5f66163d5ee4c9001d2b968e","name":"kubernetes.jpeg","alternativeText":"","caption":"","hash":"kubernetes_c13e33fa8c","ext":".jpeg","mime":"image/jpeg","size":17.62,"width":400,"height":388,"url":"/uploads/kubernetes_c13e33fa8c.jpeg","formats":{"thumbnail":{"name":"thumbnail_kubernetes.jpeg","hash":"thumbnail_kubernetes_c13e33fa8c","ext":".jpeg","mime":"image/jpeg","width":161,"height":156,"size":6.17,"path":null,"url":"/uploads/thumbnail_kubernetes_c13e33fa8c.jpeg"}},"provider":"local","related":["5f0408c59d8081001fd38fb1","5f635ca45ee4c9001d2b9643"],"createdAt":"2020-09-19T14:31:25.284Z","updatedAt":"2020-09-21T12:08:28.703Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","id":"5f66163d5ee4c9001d2b968e"},"description":"Kubernetes is a portable, extensible, open-source platform for managing containerized workloads and services, that facilitates both declarative configuration and automation. It has a large, rapidly growing ecosystem. Kubernetes provides you with:\n\n- **Service discovery and load balancing**\n- **Automated rollouts and rollbacks**: You provide Kubernetes with a cluster of nodes that it can use to run containerized tasks. You tell Kubernetes how much CPU and memory (RAM) each container needs. Kubernetes can fit containers onto your nodes to make the best use of your resources.\n- **Self-healing** Kubernetes restarts containers that fail, replaces containers, kills containers that don't respond to your user-defined health check, and doesn't advertise them to clients until they are ready to serve.\n- **Secret and configuration management** ","id":"5f635ca45ee4c9001d2b9643"},{"_id":"5f635e935ee4c9001d2b9665","name":"Typescript","rating":7.5,"createdAt":"2020-09-17T13:03:15.410Z","updatedAt":"2020-09-27T08:10:06.054Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","image":{"_id":"5f689aee76320d001e515e8b","name":"ts.jpg","alternativeText":"","caption":"","hash":"ts_1c7c89d06d","ext":".jpg","mime":"image/jpeg","size":11.59,"width":400,"height":400,"url":"/uploads/ts_1c7c89d06d.jpg","formats":{"thumbnail":{"name":"thumbnail_ts.jpg","hash":"thumbnail_ts_1c7c89d06d","ext":".jpg","mime":"image/jpeg","width":156,"height":156,"size":4.38,"path":null,"url":"/uploads/thumbnail_ts_1c7c89d06d.jpg"}},"provider":"local","related":["5f635e935ee4c9001d2b9665"],"createdAt":"2020-09-21T12:22:06.356Z","updatedAt":"2020-09-21T12:22:08.459Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","id":"5f689aee76320d001e515e8b"},"description":"TypeScript is an open-source programming language developed and maintained by Microsoft. It is a strict syntactical superset of JavaScript and adds optional static typing to the language. TypeScript is designed for development of large applications and transcompiles to JavaScript","id":"5f635e935ee4c9001d2b9665"},{"_id":"5f635e625ee4c9001d2b9660","name":"React","rating":8.5,"createdAt":"2020-09-17T13:02:26.277Z","updatedAt":"2020-09-27T08:07:00.023Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated
_by":"5e4839cd1c2d53001dcc0696","image":{"_id":"5f66167a5ee4c9001d2b9692","name":"react.jpeg","alternativeText":"","caption":"","hash":"react_56f28418d3","ext":".jpeg","mime":"image/jpeg","size":11.98,"width":500,"height":353,"url":"/uploads/react_56f28418d3.jpeg","formats":{"thumbnail":{"name":"thumbnail_react.jpeg","hash":"thumbnail_react_56f28418d3","ext":".jpeg","mime":"image/jpeg","width":221,"height":156,"size":4.08,"path":null,"url":"/uploads/thumbnail_react_56f28418d3.jpeg"}},"provider":"local","related":["5f04152d9d8081001fd38fb9","5f635e625ee4c9001d2b9660"],"createdAt":"2020-09-19T14:32:26.690Z","updatedAt":"2020-09-21T12:19:36.732Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","id":"5f66167a5ee4c9001d2b9692"},"description":"React.js is an open-source JavaScript library that is used for building user interfaces specifically for single-page applications. It‚Äôs used for handling the view layer for web and mobile apps.\n\nReact allows developers to create large web applications that can change data, without reloading the page. The main purpose of React is to be fast, scalable, and simple. It works only on user interfaces in the application","id":"5f635e625ee4c9001d2b9660"}],"_id":"5f0215c69d8081001fd38fa1","title":"Creating a rich web app that can be hosted from home","shortDescription":"A quick introduction into the various components of my personal website including jenkinsx, kubernetes, letsencrypt and more.","createdAt":"2020-07-05T18:02:46.731Z","updatedAt":"2021-01-02T15:49:35.901Z","__v":0,"image":{"_id":"5f6616045ee4c9001d2b968a","name":"Website Icon.jpeg","alternativeText":"","caption":"","hash":"Website_Icon_727b161f01","ext":".jpeg","mime":"image/jpeg","size":29.24,"width":801,"height":401,"url":"/uploads/Website_Icon_727b161f01.jpeg","formats":{"thumbnail":{"name":"thumbnail_Website Icon.jpeg","hash":"thumbnail_Website_Icon_727b161f01","ext":".jpeg","mime":"image/jpeg","width":245,"height":123,"size":6.52,"path":null,"url":"/uploads/thumbnail_Website_Icon_727b161f01.jpeg"},"medium":{"name":"medium_Website Icon.jpeg","hash":"medium_Website_Icon_727b161f01","ext":".jpeg","mime":"image/jpeg","width":750,"height":375,"size":27.25,"path":null,"url":"/uploads/medium_Website_Icon_727b161f01.jpeg"},"small":{"name":"small_Website Icon.jpeg","hash":"small_Website_Icon_727b161f01","ext":".jpeg","mime":"image/jpeg","width":500,"height":250,"size":16.14,"path":null,"url":"/uploads/small_Website_Icon_727b161f01.jpeg"}},"provider":"local","related":["5f0215c69d8081001fd38fa1"],"createdAt":"2020-09-19T14:30:28.441Z","updatedAt":"2020-09-19T14:30:33.163Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","id":"5f6616045ee4c9001d2b968a"},"content":"I'm the kind of person that learns by doing - the more I do, the more it sinks in. Whilst attempting to keep my skills up to date, I had the idea of building a rich web application which would serve up my CV, and it could also double as a place to hone and demonstrate my skillsets in certain technologies. Eventually, I could even start blogging about these experiences. \n\nThe first thing I decided I would need would be a CMS (Content Management System). The content of my website would have to be dynamic, as I would like to keep my CV and blog up to date.  There were many options available here, but I finally settled on a headless CMS named ([strapi](https://strapi.io/)). Strapi would also require some sort of persistence layer, and  [mongodb](https://www.mongodb.com/ seemed to be a sensible choice.\n\nFor the web interface itself, there was a bit of competition between React and Angular. After spending years commercially working on Angular projects, I decided that React could be a good thing to learn and went with that.  \n\n```npx create-react-app my-app --template typescript``` is the command used to boostrap my react SPA (single page application) and I found a boostrap template from [here](https://wrapbootstrap.com/).\n\nSo far so good right ? I had picked the basic building blocks for build
ing this dynamic CV/blog, but where would I run it ? I had a perfectly good iMac that was unused, and a fast enough internet connection. This app doesnt need to be highly available, as its just a little hobby app so this would suit well. I could use [ngrok](https://ngrok.com/) to make my app available to the internet, and I could use [Route 53](https://aws.amazon.com/route53/) to set up and configure my domain.\n\nKubernetes is a very popular way or running cloud native apps, so this was a pretty easy choice, the only issue was what flavour of it would work best on a mac. I started off with minikube, but started to have issues with persistent volumes, so eventually went with [kind (kubernetes in docker)](https://kind.sigs.k8s.io/). I could easily install nginx ingress controller, and it was super easy to configure.\n\nThe last thing to consider was how to deploy the individual components or services to the kubernetes cluster. One of my requirements was that I would want to make continual improvments to my app, so the deployment process must be as simple as possible. I would want to have git projects for each service,  build a container image, and deploy a helm chart (a helm chart is a collection of files that describe a related set of Kubernetes resources).  [Jenkins X](https://jenkins-x.io/) describes itself as *Jenkins X provides pipeline automation, built-in GitOps, and preview environments to help teams collaborate and accelerate their software delivery at any scale*. There was out of the box support for kubernetes flavours such as GKE (google cloud) and EKS (amazon web services), but a bit of customisation would be required if i wanted to run this on my local kubernetes cluster. This was easy enough and I was able to configure the following:\n- [Harbor](https://goharbor.io/) as the container registry of choice\n- [Cert Manager](https://cert-manager.io/) - configure cert manager to generate lets encrpt certificates using ACME challennges based on my use of AWS Route 53 for dns.\n- Installed MongoDB in the control plane.\n\nOverall my initial architecture looked something like this:\n\n![Website V1](/uploads/Website_V1_c3889a1afa.jpeg)\n\n\n*All source code for this app can be found here: (https://github.com/simonjamesrowe)*","updated_by":{"isActive":true,"blocked":false,"roles":["5f6314095ee4c9001d2b959f"],"_id":"5e4839cd1c2d53001dcc0696","username":"simon.rowe@gmail.com","email":"simon.rowe@gmail.com","createdAt":"2020-02-15T18:34:53.155Z","updatedAt":"2020-09-17T07:45:13.526Z","__v":0,"id":"5e4839cd1c2d53001dcc0696"},"id":"5f0215c69d8081001fd38fa1"}), headers={kafka_offset=0, scst_nativeHeadersPresent=true, kafka_consumer=org.apache.kafka.clients.consumer.KafkaConsumer@7db6708e, deliveryAttempt=1, kafka_timestampType=CREATE_TIME, model=blog, kafka_receivedPartitionId=0, kafka_receivedMessageKey=blog-5f0215c69d8081001fd38fa1, kafka_receivedTopic=LOCAL_EVENTS, kafka_receivedTimestamp=1610490080668, kafka_groupId=api-gateway}]
2021-01-12 22:21:21.163 DEBUG 79 --- [container-0-C-1] o.s.c.s.m.DirectWithAttributesChannel    : postSend (sent=true) on channel 'bean 'consume-in-0'', message: GenericMessage [payload=Event(event=entry.update, createdAt=2021-01-02T15:49:35.918Z, model=blog, entry={"published":true,"tags":[{"_id":"5e495da7bc8d7d001ddbd7c5","name":"Kubernetes","createdAt":"2020-02-16T15:20:07.909Z","updatedAt":"2020-02-16T22:04:13.013Z","__v":0,"id":"5e495da7bc8d7d001ddbd7c5"},{"_id":"5f02da709d8081001fd38fa4","name":"Jenkins","createdAt":"2020-07-06T08:01:52.572Z","updatedAt":"2020-07-06T08:01:52.572Z","__v":0,"id":"5f02da709d8081001fd38fa4"},{"_id":"5f03901b9d8081001fd38fa7","name":"Strapi","createdAt":"2020-07-06T20:56:59.818Z","updatedAt":"2020-07-06T20:56:59.818Z","__v":0,"id":"5f03901b9d8081001fd38fa7"},{"_id":"5f0390249d8081001fd38fa8","name":"TLS","createdAt":"2020-07-06T20:57:08.354Z","updatedAt":"2020-07-06T20:57:08.354Z","__v":0,"id":"5f0390249d8081001fd38fa8"},{"_id":"5f0390329d8081001fd38fa9","name":"MongoDB","createdAt":"2020-07-06T20:57:22.633Z","updatedAt":"2020-07-06T20:57:22.633Z","__v":0,"id":"5f0390329d8081001fd38fa9"},{"_id":"5f0390499d8081001fd38faa","name":"React","createdAt":"2020-07-06T20:57:45.054Z","updatedAt":"2020-07-06T20:57:45.054Z","__v":0,"id":"5f0390499d8081001fd38faa"}],"skills":[{"_id":"5f635b6a5ee4c9001d2b9632","name":"Spring Boot","rating":9.7,"order":1,"createdAt":"2020-09-17T12:49:46.739Z","updatedAt":"2020-09-21T21:05:20.308Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","image":{"_id":"5f6851a85ee4c9001d2b96af","name":"spring-boot.jpeg","alternativeText":"","caption":"","hash":"spring_boot_5ee37de4c1","ext":".jpeg","mime":"image/png","size":7.98,"width":400,"height":400,"url":"/uploads/spring_boot_5ee37de4c1.jpeg","formats":{"thumbnail":{"name":"thumbnail_spring-boot.jpeg","hash":"thumbnail_spring_boot_5ee37de4c1","ext":".jpeg","mime":"image/png","width":156,"height":156,"size":5.21,"path":null,"url":"/uploads/thumbnail_spring_boot_5ee37de4c1.jpeg"}},"provider":"local","related":["5f635b6a5ee4c9001d2b9632","5feed4c667bdd6001e9c12d0"],"createdAt":"2020-09-21T07:09:28.458Z","updatedAt":"2021-01-01T21:02:32.991Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","id":"5f6851a85ee4c9001d2b96af"},"description":"Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".\n\n- Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)\n- Provide opinionated 'starter' dependencies to simplify your build configuration\n- Automatically configure Spring and 3rd party libraries whenever possible\n- Provide production-ready features such as metrics, health checks, and externalized configuration","id":"5f635b6a5ee4c9001d2b9632"},{"_id":"5f635b555ee4c9001d2b9631","name":"Kotlin","rating":8,"createdAt":"2020-09-17T12:49:25.636Z","updatedAt":"2020-09-21T21:01:54.939Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","image":{"_id":"5f65ec765ee4c9001d2b9676","name":"kotlin_250x250.png","alternativeText":"","caption":"","hash":"kotlin_250x250_dfc086e243","ext":".png","mime":"image/png","size":3.69,"width":250,"height":250,"url":"/uploads/kotlin_250x250_dfc086e243.png","formats":{"thumbnail":{"name":"thumbnail_kotlin_250x250.png","hash":"thumbnail_kotlin_250x250_dfc086e243","ext":".png","mime":"image/png","width":156,"height":156,"size":6.89,"path":null,"url":"/uploads/thumbnail_kotlin_250x250_dfc086e243.png"}},"provider":"local","related":["5f6359c55ee4c9001d2b9627","5f635b555ee4c9001d2b9631"],"createdAt":"2020-09-19T11:33:10.896Z","updatedAt":"2020-09-21T06:17:06.069Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","id":"5f65ec765ee4c9001d2b9676"},"description":"- Lambda expressions + Inline functions = performant custom control structures\n- Extension functions\n- Null-safety\n- Smart casts\n- String templates\n- Properties\n- Primary constructors\n- First-class delegation\n- Type infe
rence for variable and property types\n- Singletons\n- Declaration-site variance & Type projections\n- Range expressions\n- Operator overloading\n- Companion objects\n- Data classes\n- Separate interfaces for read-only and mutable collections\n- Coroutines","id":"5f635b555ee4c9001d2b9631"},{"_id":"5f635c2e5ee4c9001d2b963c","name":"Jenkins Pipeline","rating":8,"createdAt":"2020-09-17T12:53:02.588Z","updatedAt":"2020-09-22T06:41:07.845Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","image":{"_id":"5f65ed105ee4c9001d2b967c","name":"jenkins-5-569553.png","alternativeText":"","caption":"","hash":"jenkins_5_569553_cb54b85a4c","ext":".png","mime":"image/png","size":12.15,"width":256,"height":256,"url":"/uploads/jenkins_5_569553_cb54b85a4c.png","formats":{"thumbnail":{"name":"thumbnail_jenkins-5-569553.png","hash":"thumbnail_jenkins_5_569553_cb54b85a4c","ext":".png","mime":"image/png","width":156,"height":156,"size":16.21,"path":null,"url":"/uploads/thumbnail_jenkins_5_569553_cb54b85a4c.png"}},"provider":"local","related":["5f635a195ee4c9001d2b962a","5f635c2e5ee4c9001d2b963c"],"createdAt":"2020-09-19T11:35:44.624Z","updatedAt":"2020-09-21T07:16:50.216Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","id":"5f65ed105ee4c9001d2b967c"},"description":"Pipeline is a suite of plugins that supports implementing and integrating continuous delivery pipelines into Jenkins. Pipeline provides an extensible set of tools for modelling simple-to-complex delivery pipelines \"as code\" via the Pipeline DSL (groovy). ","id":"5f635c2e5ee4c9001d2b963c"},{"_id":"5f635c375ee4c9001d2b963d","name":"Jenkins X","rating":9,"createdAt":"2020-09-17T12:53:11.954Z","updatedAt":"2020-09-22T21:19:16.887Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","image":{"_id":"5f6616545ee4c9001d2b9690","name":"jenkinsx.png","alternativeText":"","caption":"","hash":"jenkinsx_d56c6fea15","ext":".png","mime":"image/png","size":25.16,"width":696,"height":398,"url":"/uploads/jenkinsx_d56c6fea15.png","formats":{"thumbnail":{"name":"thumbnail_jenkinsx.png","hash":"thumbnail_jenkinsx_d56c6fea15","ext":".png","mime":"image/png","width":245,"height":140,"size":9.18,"path":null,"url":"/uploads/thumbnail_jenkinsx_d56c6fea15.png"},"small":{"name":"small_jenkinsx.png","hash":"small_jenkinsx_d56c6fea15","ext":".png","mime":"image/png","width":500,"height":286,"size":22.51,"path":null,"url":"/uploads/small_jenkinsx_d56c6fea15.png"}},"provider":"local","related":["5f0413739d8081001fd38fb6","5f635c375ee4c9001d2b963d"],"createdAt":"2020-09-19T14:31:48.129Z","updatedAt":"2020-09-21T07:17:01.500Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","id":"5f6616545ee4c9001d2b9690"},"description":"Jenkins X provides pipeline automation, built-in GitOps, and preview environments to help teams collaborate and accelerate their software delivery at any scale. Jenkins X builds upon the following core components:\n- Kubernetes and Docker\n- Helm and Draft","id":"5f635c375ee4c9001d2b963d"},{"_id":"5f635f8f5ee4c9001d2b966c","name":"Helm","rating":8,"createdAt":"2020-09-17T13:07:27.527Z","updatedAt":"2020-09-30T06:20:10.213Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","image":{"_id":"5f6854785ee4c9001d2b96cf","name":"helm.jpg","alternativeText":"","caption":"","hash":"helm_9127651c35","ext":".jpg","mime":"image/jpeg","size":12.82,"width":366,"height":366,"url":"/uploads/helm_9127651c35.jpg","formats":{"thumbnail":{"name":"thumbnail_helm.jpg","hash":"thumbnail_helm_9127651c35","ext":".jpg","mime":"image/jpeg","width":156,"height":156,"size":5.11,"path":null,"url":"/uploads/thumbnail_helm_9127651c35.jpg"}},"provider":"local","related":["5f635f8f5ee4c9001d2b966c"],"createdAt":"2020-09-21T07:21:28.306Z","updatedAt":"2020-09-21T07:21:30.887Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","id":"5f6854785ee4c9001d2b96cf"},"description":"Helm is a tool that streamline
s installing and managing Kubernetes applications. ... A single chart might be used to deploy something simple, like a memcached pod, or something complex, like a full web app stack with HTTP servers, databases, caches, etc,","id":"5f635f8f5ee4c9001d2b966c"},{"_id":"5f635f995ee4c9001d2b966d","name":"Chart Museum","rating":7,"createdAt":"2020-09-17T13:07:37.145Z","updatedAt":"2020-09-30T06:22:03.609Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","image":{"_id":"5f6854c05ee4c9001d2b96d1","name":"chart-museum.png","alternativeText":"","caption":"","hash":"chart_museum_a56509005a","ext":".png","mime":"image/png","size":72.28,"width":500,"height":225,"url":"/uploads/chart_museum_a56509005a.png","formats":{"thumbnail":{"name":"thumbnail_chart-museum.png","hash":"thumbnail_chart_museum_a56509005a","ext":".png","mime":"image/png","width":245,"height":110,"size":29.64,"path":null,"url":"/uploads/thumbnail_chart_museum_a56509005a.png"}},"provider":"local","related":["5f635f995ee4c9001d2b966d"],"createdAt":"2020-09-21T07:22:40.798Z","updatedAt":"2020-09-21T07:22:43.401Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","id":"5f6854c05ee4c9001d2b96d1"},"description":"ChartMuseum is an open-source Helm Chart Repository written in Go (Golang), with support for cloud storage backends, including Google Cloud Storage, Amazon S3, Microsoft Azure Blob Storage, Alibaba Cloud OSS Storage and Openstack Object Storage.","id":"5f635f995ee4c9001d2b966d"},{"_id":"5f635c185ee4c9001d2b963a","name":"Maven","rating":9.6,"createdAt":"2020-09-17T12:52:40.922Z","updatedAt":"2020-09-22T06:36:50.576Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","image":{"_id":"5f6853265ee4c9001d2b96bf","name":"maven.png","alternativeText":"","caption":"","hash":"maven_8510b1d6fa","ext":".png","mime":"image/png","size":30.77,"width":1280,"height":324,"url":"/uploads/maven_8510b1d6fa.png","formats":{"thumbnail":{"name":"thumbnail_maven.png","hash":"thumbnail_maven_8510b1d6fa","ext":".png","mime":"image/png","width":245,"height":62,"size":10.07,"path":null,"url":"/uploads/thumbnail_maven_8510b1d6fa.png"},"large":{"name":"large_maven.png","hash":"large_maven_8510b1d6fa","ext":".png","mime":"image/png","width":1000,"height":253,"size":68.02,"path":null,"url":"/uploads/large_maven_8510b1d6fa.png"},"medium":{"name":"medium_maven.png","hash":"medium_maven_8510b1d6fa","ext":".png","mime":"image/png","width":750,"height":190,"size":46.3,"path":null,"url":"/uploads/medium_maven_8510b1d6fa.png"},"small":{"name":"small_maven.png","hash":"small_maven_8510b1d6fa","ext":".png","mime":"image/png","width":500,"height":127,"size":27.01,"path":null,"url":"/uploads/small_maven_8510b1d6fa.png"}},"provider":"local","related":["5f635c185ee4c9001d2b963a"],"createdAt":"2020-09-21T07:15:50.288Z","updatedAt":"2020-09-21T07:15:57.208Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","id":"5f6853265ee4c9001d2b96bf"},"description":"Maven is a build automation tool used primarily for Java projects. Maven can also be used to build and manage projects written in C#, Ruby, Scala, and other languages. \n\nMaven addresses two aspects of building software: how software is built, and its dependencies. An XML file describes the software project being built, its dependencies on other external modules and components, the build order, directories, and required plug-ins. ","id":"5f635c185ee4c9001d2b963a"},{"_id":"5f635c4f5ee4c9001d2b963f","name":"Tekton","createdAt":"2020-09-17T12:53:35.722Z","updatedAt":"2020-09-22T21:20:48.795Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","rating":8,"image":{"_id":"5f6853a55ee4c9001d2b96c7","name":"tekton.jpeg","alternativeText":"","caption":"","hash":"tekton_8b8bad63e8","ext":".jpeg","mime":"image/jpeg","size":13.24,"width":213,"height":237,"url":"/uploads/tekton_8b8bad63e8.jpeg","formats":{"thumbnail":{"name":"thumbnail_tekton.jpeg","hash":"thumbnail_tekton_8b8bad63e8","e
xt":".jpeg","mime":"image/jpeg","width":140,"height":156,"size":7.5,"path":null,"url":"/uploads/thumbnail_tekton_8b8bad63e8.jpeg"}},"provider":"local","related":["5f635c4f5ee4c9001d2b963f"],"createdAt":"2020-09-21T07:17:57.258Z","updatedAt":"2020-09-21T07:17:59.250Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","id":"5f6853a55ee4c9001d2b96c7"},"description":"The Tekton Pipelines project provides k8s-style resources for declaring CI/CD-style pipelines.\n\nTekton Pipelines are Cloud Native:\n\n- Run on Kubernetes\n- Have Kubernetes clusters as a first class type\n- Use containers as their building blocks\n","id":"5f635c4f5ee4c9001d2b963f"},{"_id":"5f635ca45ee4c9001d2b9643","name":"Kubernetes","rating":8,"createdAt":"2020-09-17T12:55:00.632Z","updatedAt":"2020-09-22T21:28:44.327Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","image":{"_id":"5f66163d5ee4c9001d2b968e","name":"kubernetes.jpeg","alternativeText":"","caption":"","hash":"kubernetes_c13e33fa8c","ext":".jpeg","mime":"image/jpeg","size":17.62,"width":400,"height":388,"url":"/uploads/kubernetes_c13e33fa8c.jpeg","formats":{"thumbnail":{"name":"thumbnail_kubernetes.jpeg","hash":"thumbnail_kubernetes_c13e33fa8c","ext":".jpeg","mime":"image/jpeg","width":161,"height":156,"size":6.17,"path":null,"url":"/uploads/thumbnail_kubernetes_c13e33fa8c.jpeg"}},"provider":"local","related":["5f0408c59d8081001fd38fb1","5f635ca45ee4c9001d2b9643"],"createdAt":"2020-09-19T14:31:25.284Z","updatedAt":"2020-09-21T12:08:28.703Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","id":"5f66163d5ee4c9001d2b968e"},"description":"Kubernetes is a portable, extensible, open-source platform for managing containerized workloads and services, that facilitates both declarative configuration and automation. It has a large, rapidly growing ecosystem. Kubernetes provides you with:\n\n- **Service discovery and load balancing**\n- **Automated rollouts and rollbacks**: You provide Kubernetes with a cluster of nodes that it can use to run containerized tasks. You tell Kubernetes how much CPU and memory (RAM) each container needs. Kubernetes can fit containers onto your nodes to make the best use of your resources.\n- **Self-healing** Kubernetes restarts containers that fail, replaces containers, kills containers that don't respond to your user-defined health check, and doesn't advertise them to clients until they are ready to serve.\n- **Secret and configuration management** ","id":"5f635ca45ee4c9001d2b9643"},{"_id":"5f635e935ee4c9001d2b9665","name":"Typescript","rating":7.5,"createdAt":"2020-09-17T13:03:15.410Z","updatedAt":"2020-09-27T08:10:06.054Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","image":{"_id":"5f689aee76320d001e515e8b","name":"ts.jpg","alternativeText":"","caption":"","hash":"ts_1c7c89d06d","ext":".jpg","mime":"image/jpeg","size":11.59,"width":400,"height":400,"url":"/uploads/ts_1c7c89d06d.jpg","formats":{"thumbnail":{"name":"thumbnail_ts.jpg","hash":"thumbnail_ts_1c7c89d06d","ext":".jpg","mime":"image/jpeg","width":156,"height":156,"size":4.38,"path":null,"url":"/uploads/thumbnail_ts_1c7c89d06d.jpg"}},"provider":"local","related":["5f635e935ee4c9001d2b9665"],"createdAt":"2020-09-21T12:22:06.356Z","updatedAt":"2020-09-21T12:22:08.459Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","id":"5f689aee76320d001e515e8b"},"description":"TypeScript is an open-source programming language developed and maintained by Microsoft. It is a strict syntactical superset of JavaScript and adds optional static typing to the language. TypeScript is designed for development of large applications and transcompiles to JavaScript","id":"5f635e935ee4c9001d2b9665"},{"_id":"5f635e625ee4c9001d2b9660","name":"React","rating":8.5,"createdAt":"2020-09-17T13:02:26.277Z","updatedAt":"2020-09-27T08:07:00.023Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","image":{"_id":"5f66167a5
ee4c9001d2b9692","name":"react.jpeg","alternativeText":"","caption":"","hash":"react_56f28418d3","ext":".jpeg","mime":"image/jpeg","size":11.98,"width":500,"height":353,"url":"/uploads/react_56f28418d3.jpeg","formats":{"thumbnail":{"name":"thumbnail_react.jpeg","hash":"thumbnail_react_56f28418d3","ext":".jpeg","mime":"image/jpeg","width":221,"height":156,"size":4.08,"path":null,"url":"/uploads/thumbnail_react_56f28418d3.jpeg"}},"provider":"local","related":["5f04152d9d8081001fd38fb9","5f635e625ee4c9001d2b9660"],"createdAt":"2020-09-19T14:32:26.690Z","updatedAt":"2020-09-21T12:19:36.732Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","id":"5f66167a5ee4c9001d2b9692"},"description":"React.js is an open-source JavaScript library that is used for building user interfaces specifically for single-page applications. It‚Äôs used for handling the view layer for web and mobile apps.\n\nReact allows developers to create large web applications that can change data, without reloading the page. The main purpose of React is to be fast, scalable, and simple. It works only on user interfaces in the application","id":"5f635e625ee4c9001d2b9660"}],"_id":"5f0215c69d8081001fd38fa1","title":"Creating a rich web app that can be hosted from home","shortDescription":"A quick introduction into the various components of my personal website including jenkinsx, kubernetes, letsencrypt and more.","createdAt":"2020-07-05T18:02:46.731Z","updatedAt":"2021-01-02T15:49:35.901Z","__v":0,"image":{"_id":"5f6616045ee4c9001d2b968a","name":"Website Icon.jpeg","alternativeText":"","caption":"","hash":"Website_Icon_727b161f01","ext":".jpeg","mime":"image/jpeg","size":29.24,"width":801,"height":401,"url":"/uploads/Website_Icon_727b161f01.jpeg","formats":{"thumbnail":{"name":"thumbnail_Website Icon.jpeg","hash":"thumbnail_Website_Icon_727b161f01","ext":".jpeg","mime":"image/jpeg","width":245,"height":123,"size":6.52,"path":null,"url":"/uploads/thumbnail_Website_Icon_727b161f01.jpeg"},"medium":{"name":"medium_Website Icon.jpeg","hash":"medium_Website_Icon_727b161f01","ext":".jpeg","mime":"image/jpeg","width":750,"height":375,"size":27.25,"path":null,"url":"/uploads/medium_Website_Icon_727b161f01.jpeg"},"small":{"name":"small_Website Icon.jpeg","hash":"small_Website_Icon_727b161f01","ext":".jpeg","mime":"image/jpeg","width":500,"height":250,"size":16.14,"path":null,"url":"/uploads/small_Website_Icon_727b161f01.jpeg"}},"provider":"local","related":["5f0215c69d8081001fd38fa1"],"createdAt":"2020-09-19T14:30:28.441Z","updatedAt":"2020-09-19T14:30:33.163Z","__v":0,"created_by":"5e4839cd1c2d53001dcc0696","updated_by":"5e4839cd1c2d53001dcc0696","id":"5f6616045ee4c9001d2b968a"},"content":"I'm the kind of person that learns by doing - the more I do, the more it sinks in. Whilst attempting to keep my skills up to date, I had the idea of building a rich web application which would serve up my CV, and it could also double as a place to hone and demonstrate my skillsets in certain technologies. Eventually, I could even start blogging about these experiences. \n\nThe first thing I decided I would need would be a CMS (Content Management System). The content of my website would have to be dynamic, as I would like to keep my CV and blog up to date.  There were many options available here, but I finally settled on a headless CMS named ([strapi](https://strapi.io/)). Strapi would also require some sort of persistence layer, and  [mongodb](https://www.mongodb.com/ seemed to be a sensible choice.\n\nFor the web interface itself, there was a bit of competition between React and Angular. After spending years commercially working on Angular projects, I decided that React could be a good thing to learn and went with that.  \n\n```npx create-react-app my-app --template typescript``` is the command used to boostrap my react SPA (single page application) and I found a boostrap template from [here](https://wrapbootstrap.com/).\n\nSo far so good right ? I had picked the basic building blocks for building this dynamic CV/blog, but where would I run it ? I ha
d a perfectly good iMac that was unused, and a fast enough internet connection. This app doesnt need to be highly available, as its just a little hobby app so this would suit well. I could use [ngrok](https://ngrok.com/) to make my app available to the internet, and I could use [Route 53](https://aws.amazon.com/route53/) to set up and configure my domain.\n\nKubernetes is a very popular way or running cloud native apps, so this was a pretty easy choice, the only issue was what flavour of it would work best on a mac. I started off with minikube, but started to have issues with persistent volumes, so eventually went with [kind (kubernetes in docker)](https://kind.sigs.k8s.io/). I could easily install nginx ingress controller, and it was super easy to configure.\n\nThe last thing to consider was how to deploy the individual components or services to the kubernetes cluster. One of my requirements was that I would want to make continual improvments to my app, so the deployment process must be as simple as possible. I would want to have git projects for each service,  build a container image, and deploy a helm chart (a helm chart is a collection of files that describe a related set of Kubernetes resources).  [Jenkins X](https://jenkins-x.io/) describes itself as *Jenkins X provides pipeline automation, built-in GitOps, and preview environments to help teams collaborate and accelerate their software delivery at any scale*. There was out of the box support for kubernetes flavours such as GKE (google cloud) and EKS (amazon web services), but a bit of customisation would be required if i wanted to run this on my local kubernetes cluster. This was easy enough and I was able to configure the following:\n- [Harbor](https://goharbor.io/) as the container registry of choice\n- [Cert Manager](https://cert-manager.io/) - configure cert manager to generate lets encrpt certificates using ACME challennges based on my use of AWS Route 53 for dns.\n- Installed MongoDB in the control plane.\n\nOverall my initial architecture looked something like this:\n\n![Website V1](/uploads/Website_V1_c3889a1afa.jpeg)\n\n\n*All source code for this app can be found here: (https://github.com/simonjamesrowe)*","updated_by":{"isActive":true,"blocked":false,"roles":["5f6314095ee4c9001d2b959f"],"_id":"5e4839cd1c2d53001dcc0696","username":"simon.rowe@gmail.com","email":"simon.rowe@gmail.com","createdAt":"2020-02-15T18:34:53.155Z","updatedAt":"2020-09-17T07:45:13.526Z","__v":0,"id":"5e4839cd1c2d53001dcc0696"},"id":"5f0215c69d8081001fd38fa1"}), headers={skip-input-type-conversion=true, kafka_offset=0, scst_nativeHeadersPresent=true, kafka_consumer=org.apache.kafka.clients.consumer.KafkaConsumer@7db6708e, deliveryAttempt=1, kafka_timestampType=CREATE_TIME, model=blog, kafka_receivedPartitionId=0, kafka_receivedMessageKey=blog-5f0215c69d8081001fd38fa1, kafka_receivedTopic=LOCAL_EVENTS, kafka_receivedTimestamp=1610490080668, kafka_groupId=api-gateway}]
HTTP/1.1 200 OK
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Content-Type-Options: nosniff
X-Frame-Options: DENY
X-XSS-Protection: 1 ; mode=block
Referrer-Policy: no-referrer
content-length: 0
Request method:	POST
Request URI:	http://localhost:42357/*******
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
				Content-Type=application/json; charset=UTF-8
Cookies:		<none>
Multiparts:		<none>
Body:			<none>
HTTP/1.1 401 Unauthorized
WWW-Authenticate: Basic realm="Realm"
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Content-Type-Options: nosniff
X-Frame-Options: DENY
X-XSS-Protection: 1 ; mode=block
Referrer-Policy: no-referrer
content-length: 0
2021-01-12 22:21:22.447  INFO 79 --- [           main] w.o.e.jetty.server.AbstractConnector     : Stopped NetworkTrafficServerConnector@364178de{HTTP/1.1, (http/1.1)}{0.0.0.0:10565}
2021-01-12 22:21:22.453  INFO 79 --- [           main] w.o.e.jetty.server.AbstractConnector     : Stopped NetworkTrafficServerConnector@43a8960{SSL, (ssl, alpn, h2, http/1.1)}{0.0.0.0:12953}
2021-01-12 22:21:22.454  INFO 79 --- [           main] w.o.e.j.server.handler.ContextHandler    : Stopped w.o.e.j.s.ServletContextHandler@1bd99de6{/,null,UNAVAILABLE}
2021-01-12 22:21:22.455  INFO 79 --- [           main] w.o.e.j.server.handler.ContextHandler    : Stopped w.o.e.j.s.ServletContextHandler@227051e6{/__*****,null,UNAVAILABLE}
2021-01-12 22:21:22.456  INFO 79 --- [           main] w.org.eclipse.jetty.server.Server        : jetty-9.4.30.v20200611; built: 2020-06-11T12:34:51.929Z; git: 271836e4c1f4612f12b7bb13ef5a92a927634b0d; jvm 11.0.2+9
2021-01-12 22:21:22.461  INFO 79 --- [           main] w.o.e.j.server.handler.ContextHandler    : Started w.o.e.j.s.ServletContextHandler@227051e6{/__*****,null,AVAILABLE}
2021-01-12 22:21:22.462  INFO 79 --- [           main] w.o.e.j.server.handler.ContextHandler    : Started w.o.e.j.s.ServletContextHandler@1bd99de6{/,null,AVAILABLE}
2021-01-12 22:21:22.464  INFO 79 --- [           main] w.o.e.jetty.server.AbstractConnector     : Started NetworkTrafficServerConnector@364178de{HTTP/1.1, (http/1.1)}{0.0.0.0:10565}
2021-01-12 22:21:22.465  INFO 79 --- [           main] w.o.e.jetty.util.ssl.SslContextFactory   : x509=X509@1d8d9807(wiremock,h=[],w=[]) for Server@31ad368a[provider=Conscrypt,keyStore=null,trustStore=null]
2021-01-12 22:21:22.466  INFO 79 --- [           main] w.o.e.jetty.util.ssl.SslContextFactory   : Unable to get KeyManagerFactory instance for algorithm [SunX509] on provider [Conscrypt], using default
2021-01-12 22:21:22.471  INFO 79 --- [           main] w.o.e.jetty.server.AbstractConnector     : Started NetworkTrafficServerConnector@43a8960{SSL, (ssl, alpn, h2, http/1.1)}{0.0.0.0:12953}
2021-01-12 22:21:22.472  INFO 79 --- [           main] w.org.eclipse.jetty.server.Server        : Started @63903ms
[INFO] Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 19.486 s - in com.simonjamesrowe.apigateway.controller.WebhookControllerTest
2021-01-12 22:21:22.555  INFO 79 --- [       Thread-0] c.s.c.test.TestContainersExtension       : Cleaning up test container resources
2021-01-12 22:21:22.654 DEBUG 79 --- [extShutdownHook] o.s.c.s.b.AbstractBindableProxyFactory   : Unbinding inputs for :null
2021-01-12 22:21:22.655 DEBUG 79 --- [extShutdownHook] o.s.c.s.b.AbstractBindableProxyFactory   : Unbinding :null:consume-in-0
2021-01-12 22:21:22.657  INFO 79 --- [extShutdownHook] w.o.e.jetty.server.AbstractConnector     : Stopped NetworkTrafficServerConnector@251db193{HTTP/1.1, (http/1.1)}{0.0.0.0:12390}
2021-01-12 22:21:22.660  INFO 79 --- [extShutdownHook] w.o.e.jetty.server.AbstractConnector     : Stopped NetworkTrafficServerConnector@2e895acb{SSL, (ssl, alpn, h2, http/1.1)}{0.0.0.0:14044}
2021-01-12 22:21:22.664  INFO 79 --- [extShutdownHook] w.o.e.j.server.handler.ContextHandler    : Stopped w.o.e.j.s.ServletContextHandler@3fbf66e7{/,null,UNAVAILABLE}
2021-01-12 22:21:22.666  INFO 79 --- [extShutdownHook] w.o.e.j.server.handler.ContextHandler    : Stopped w.o.e.j.s.ServletContextHandler@38447073{/__*****,null,UNAVAILABLE}
2021-01-12 22:21:22.668  INFO 79 --- [extShutdownHook] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2021-01-12 22:21:22.669  INFO 79 --- [container-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-api-gateway-2, groupId=api-gateway] Revoke previously assigned partitions LOCAL_EVENTS-0
2021-01-12 22:21:22.670  INFO 79 --- [container-0-C-1] o.s.c.s.b.k.KafkaMessageChannelBinder$2  : api-gateway: partitions revoked: [LOCAL_EVENTS-0]
2021-01-12 22:21:22.671  INFO 79 --- [container-0-C-1] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-api-gateway-2, groupId=api-gateway] Member consumer-api-gateway-2-b96c33b7-d868-4054-b968-e7794d94cbde sending LeaveGroup request to coordinator 192.168.4.23:49247 (id: 2147483646 rack: null) due to the consumer unsubscribed from all topics
2021-01-12 22:21:22.672  INFO 79 --- [container-0-C-1] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-api-gateway-2, groupId=api-gateway] Unsubscribed all topics or patterns and assigned partitions
2021-01-12 22:21:22.740  INFO 79 --- [extShutdownHook] o.s.i.channel.PublishSubscribeChannel    : Channel 'application.errorChannel' has 0 subscriber(s).
2021-01-12 22:21:22.740  INFO 79 --- [extShutdownHook] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2021-01-12 22:21:22.740  INFO 79 --- [container-0-C-1] o.s.s.c.ThreadPoolTaskScheduler          : Shutting down ExecutorService
2021-01-12 22:21:22.763  INFO 79 --- [container-0-C-1] o.a.kafka.clients.FetchSessionHandler    : [Consumer clientId=consumer-api-gateway-2, groupId=api-gateway] Error sending fetch request (sessionId=1987483744, epoch=12) to node 1:

org.apache.kafka.common.errors.DisconnectException: null

2021-01-12 22:21:22.765  INFO 79 --- [container-0-C-1] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-api-gateway-2, groupId=api-gateway] Group coordinator 192.168.4.23:49247 (id: 2147483646 rack: null) is unavailable or invalid, will attempt rediscovery
2021-01-12 22:21:22.770  INFO 79 --- [container-0-C-1] essageListenerContainer$ListenerConsumer : api-gateway: Consumer stopped
2021-01-12 22:21:22.772  INFO 79 --- [extShutdownHook] s.i.k.i.KafkaMessageDrivenChannelAdapter : stopped org.springframework.integration.kafka.inbound.KafkaMessageDrivenChannelAdapter@6d7232a5
2021-01-12 22:21:22.848  INFO 79 --- [extShutdownHook] o.s.s.c.ThreadPoolTaskScheduler          : Shutting down ExecutorService 'taskScheduler'
2021-01-12 22:21:22.849  WARN 79 --- [ad | producer-2] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-2] Connection to node 1 (/192.168.4.23:49247) could not be established. Broker may not be available.
2021-01-12 22:21:22.886  INFO 79 --- [extShutdownHook] o.s.c.stream.binder.BinderErrorChannel   : Channel 'application.LOCAL_EVENTS.api-gateway.errors' has 1 subscriber(s).
2021-01-12 22:21:22.887  INFO 79 --- [extShutdownHook] o.s.c.stream.binder.BinderErrorChannel   : Channel 'application.LOCAL_EVENTS.api-gateway.errors' has 0 subscriber(s).
2021-01-12 22:21:22.892  INFO 79 --- [extShutdownHook] w.o.e.jetty.server.AbstractConnector     : Stopped NetworkTrafficServerConnector@364178de{HTTP/1.1, (http/1.1)}{0.0.0.0:10565}
2021-01-12 22:21:22.894  INFO 79 --- [extShutdownHook] w.o.e.jetty.server.AbstractConnector     : Stopped NetworkTrafficServerConnector@43a8960{SSL, (ssl, alpn, h2, http/1.1)}{0.0.0.0:12953}
2021-01-12 22:21:22.938  INFO 79 --- [extShutdownHook] w.o.e.j.server.handler.ContextHandler    : Stopped w.o.e.j.s.ServletContextHandler@1bd99de6{/,null,UNAVAILABLE}
2021-01-12 22:21:22.940  INFO 79 --- [extShutdownHook] w.o.e.j.server.handler.ContextHandler    : Stopped w.o.e.j.s.ServletContextHandler@227051e6{/__*****,null,UNAVAILABLE}
2021-01-12 22:21:22.943 DEBUG 79 --- [extShutdownHook] o.s.c.s.b.AbstractBindableProxyFactory   : Unbinding outputs for :null
2021-01-12 22:21:22.943  INFO 79 --- [extShutdownHook] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2021-01-12 22:21:22.945  INFO 79 --- [extShutdownHook] o.s.i.channel.PublishSubscribeChannel    : Channel 'application.errorChannel' has 0 subscriber(s).
2021-01-12 22:21:22.947  INFO 79 --- [extShutdownHook] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2021-01-12 22:21:22.962  INFO 79 --- [extShutdownHook] o.s.s.c.ThreadPoolTaskScheduler          : Shutting down ExecutorService 'taskScheduler'
2021-01-12 22:21:23.001  WARN 79 --- [ad | producer-2] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-2] Connection to node 1 (/192.168.4.23:49247) could not be established. Broker may not be available.
2021-01-12 22:21:23.258  WARN 79 --- [ad | producer-2] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-2] Connection to node 1 (/192.168.4.23:49247) could not be established. Broker may not be available.
2021-01-12 22:21:23.610  WARN 79 --- [ad | producer-2] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-2] Connection to node 1 (/192.168.4.23:49247) could not be established. Broker may not be available.
2021-01-12 22:21:24.418  WARN 79 --- [ad | producer-2] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-2] Connection to node 1 (/192.168.4.23:49247) could not be established. Broker may not be available.
[INFO] 
[INFO] Results:
[INFO] 
[INFO] Tests run: 3, Failures: 0, Errors: 0, Skipped: 0
[INFO] 
[INFO] 
[INFO] --- maven-jar-plugin:3.2.0:jar (default-jar) @ api-gateway ---
[INFO] Building jar: /workspace/source/target/api-gateway-0.0.11.jar
[INFO] 
[INFO] --- spring-boot-maven-plugin:2.4.1:repackage (repackage) @ api-gateway ---
[INFO] Replacing main artifact with repackaged archive
[INFO] 
[INFO] --- maven-install-plugin:2.5.2:install (default-install) @ api-gateway ---
[INFO] Installing /workspace/source/target/api-gateway-0.0.11.jar to /home/jenkins/.mvnrepository/com/simonjamesrowe/api-gateway/0.0.11/api-gateway-0.0.11.jar
[INFO] Installing /workspace/source/pom.xml to /home/jenkins/.mvnrepository/com/simonjamesrowe/api-gateway/0.0.11/api-gateway-0.0.11.pom
[INFO] 
[INFO] --- maven-deploy-plugin:2.8.2:deploy (default-deploy) @ api-gateway ---
[INFO] Using alternate deployment repository local-nexus::default::http://nexus/repository/maven-releases/
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time:  02:12 min
[INFO] Finished at: 2021-01-12T22:21:31Z
[INFO] ------------------------------------------------------------------------

Showing logs for build [32msimonjamesrowe-api-gateway-mast-c9p67-6[0m stage [32mfrom-build-pack[0m and container [32mstep-build-skaffold-version[0m
v1.0.1

Showing logs for build [32msimonjamesrowe-api-gateway-mast-c9p67-6[0m stage [32mfrom-build-pack[0m and container [32mstep-build-container-build[0m
[36mINFO[0m[0000] Using dockerignore file: /workspace/source/.dockerignore 
[36mINFO[0m[0000] Retrieving image manifest openjdk:11-jre-slim 
[36mINFO[0m[0002] Retrieving image manifest openjdk:11-jre-slim 
[36mINFO[0m[0003] Built cross stage deps: map[]                
[36mINFO[0m[0003] Retrieving image manifest openjdk:11-jre-slim 
[36mINFO[0m[0004] Retrieving image manifest openjdk:11-jre-slim 
[36mINFO[0m[0005] Executing 0 build triggers                   
[36mINFO[0m[0005] cmd: EXPOSE                                  
[36mINFO[0m[0005] Adding exposed port: 8080/tcp                
[36mINFO[0m[0005] Resolving srcs [pom.xml target/lib*]...      
[36mINFO[0m[0005] Checking for cached layer harbor.simonjamesrowe.com/todo/cache:42a29449e03c9a602d2eaa8017f4213a3fab8b01b0ebe6884237255c688d0d2b... 
[36mINFO[0m[0006] No cached layer found for cmd COPY pom.xml target/lib* /opt/lib/ 
[36mINFO[0m[0006] Resolving srcs [target/*.jar]...             
[36mINFO[0m[0006] Unpacking ****fs as cmd COPY pom.xml target/lib* /opt/lib/ requires it. 
[36mINFO[0m[0013] ENV PORT 8080                                
[36mINFO[0m[0013] No files changed in this command, skipping snapshotting. 
[36mINFO[0m[0013] ENV CLASSPATH /opt/lib                       
[36mINFO[0m[0013] No files changed in this command, skipping snapshotting. 
[36mINFO[0m[0013] EXPOSE 8080                                  
[36mINFO[0m[0013] cmd: EXPOSE                                  
[36mINFO[0m[0013] Adding exposed port: 8080/tcp                
[36mINFO[0m[0013] No files changed in this command, skipping snapshotting. 
[36mINFO[0m[0013] Resolving srcs [pom.xml target/lib*]...      
[36mINFO[0m[0013] COPY pom.xml target/lib* /opt/lib/           
[36mINFO[0m[0013] Resolving srcs [pom.xml target/lib*]...      
[36mINFO[0m[0013] Resolving 1 paths                            
[36mINFO[0m[0013] Taking snapshot of files...                  
[36mINFO[0m[0013] Resolving srcs [target/*.jar]...             
[36mINFO[0m[0013] Pushing layer harbor.simonjamesrowe.com/todo/cache:42a29449e03c9a602d2eaa8017f4213a3fab8b01b0ebe6884237255c688d0d2b to cache now 
[36mINFO[0m[0013] COPY target/*.jar /opt/app.jar               
[36mINFO[0m[0013] Resolving srcs [target/*.jar]...             
[36mINFO[0m[0013] Resolving 1 paths                            
[36mINFO[0m[0013] Taking snapshot of files...                  
[36mINFO[0m[0015] WORKDIR /opt                                 
[36mINFO[0m[0015] cmd: workdir                                 
[36mINFO[0m[0015] Changed working directory to /opt            
[36mINFO[0m[0015] No files changed in this command, skipping snapshotting. 
[36mINFO[0m[0015] CMD ["java", "-jar", "app.jar"]              
[36mINFO[0m[0015] No files changed in this command, skipping snapshotting. 
[36mINFO[0m[0015] Pushing layer harbor.simonjamesrowe.com/todo/cache:af465317270cf0a722833a2852b16391dda37d98f06cea30ff6fe006f7bf1643 to cache now 
[33mWARN[0m[0015] error uploading layer to cache: failed to push to destination harbor.simonjamesrowe.com/todo/cache:42a29449e03c9a602d2eaa8017f4213a3fab8b01b0ebe6884237255c688d0d2b: HEAD https://harbor.simonjamesrowe.com/v2/todo/cache/blobs/sha256:473aa9d9ea22a5c12f8dbb9f34118c21b11a9e21c7b146435229072db4cec4d9: unsupported status code 401 

Showing logs for build [32msimonjamesrowe-api-gateway-mast-c9p67-6[0m stage [32mfrom-build-pack[0m and container [32mstep-build-post-build[0m
no CVE provider running in the current ** namespace so skip adding image to be analysed

Showing logs for build [32msimonjamesrowe-api-gateway-mast-c9p67-6[0m stage [32mfrom-build-pack[0m and container [32mstep-promote-changelog[0m
Converted /workspace/source/charts/api-gateway to an unshallow repository
Generating change log from git ref c6a6c0fbe59c5aba8d238981e7ab7f8833df76e2 => a08bc8737c2c290631c424238ff183cfe157804f
Associating user simon-rowe in users.jenkins.io with email simon.rowe@gmail.com to git GitProvider user with login simon-rowe-0 as emails match
Adding label jenkins.io/git-github-userid=simon-rowe-0 to user simon-rowe in users.jenkins.io
Associating user simon-rowe in users.jenkins.io with email simon.rowe@gmail.com to git GitProvider user with login simon-rowe-0 as emails match
Adding label jenkins.io/git-github-userid=simon-rowe-0 to user simon-rowe in users.jenkins.io
Finding issues in commit messages using git format
WARNING: No release found for simonjamesrowe/api-gateway and tag v0.0.11 so creating a new release
Updated the release information at https://github.com/simonjamesrowe/api-gateway/releases/tag/v0.0.11
generated: /workspace/source/charts/api-gateway/templates/release.yaml
Created Release api-gateway-0-0-11 resource in namespace **
Updating PipelineActivity simonjamesrowe-api-gateway-master-6 with version 0.0.11
Updated PipelineActivities simonjamesrowe-api-gateway-master-6 with release notes URL: https://github.com/simonjamesrowe/api-gateway/releases/tag/v0.0.11

Showing logs for build [32msimonjamesrowe-api-gateway-mast-c9p67-6[0m stage [32mfrom-build-pack[0m and container [32mstep-promote-helm-release[0m
WARNING: No $CHART_REPOSITORY defined so using the default value of: http://jenkins-x-chartmuseum:8080
Adding missing Helm repo: storage.googleapis.com https://storage.googleapis.com/chartmuseum.jenkins-x.io
Successfully added Helm repository storage.googleapis.com.
Adding missing Helm repo: jenkins-x-chartmuseum http://jenkins-x-chartmuseum:8080
Successfully added Helm repository jenkins-x-chartmuseum.
WARNING: No $CHART_REPOSITORY defined so using the default value of: http://jenkins-x-chartmuseum:8080
Uploading chart file api-gateway-0.0.11.tgz to http://jenkins-x-chartmuseum:8080/api/charts
Received 201 response: {"saved":true}

Showing logs for build [32msimonjamesrowe-api-gateway-mast-c9p67-6[0m stage [32mfrom-build-pack[0m and container [32mstep-promote-jx-promote[0m
WARNING: prow based install so skip waiting for the merge of Pull Requests to go green as currently there is an issue with gettingstatuses from the PR, see https://github.com/jenkins-x/**/issues/2410
WARNING: No $CHART_REPOSITORY defined so using the default value of: http://jenkins-x-chartmuseum:8080
Promoting app api-gateway version 0.0.11 to namespace **-staging
Created Pull Request: https://github.com/simonjamesrowe/environment-simonjamesrowe-staging/pull/19
Added label updatebot to Pull Request https://github.com/simonjamesrowe/environment-simonjamesrowe-staging/pull/19
got git provider status pending from PR https://github.com/simonjamesrowe/environment-simonjamesrowe-staging/pull/19
got git provider status pending from PR https://github.com/simonjamesrowe/environment-simonjamesrowe-staging/pull/19
Pull Request https://github.com/simonjamesrowe/environment-simonjamesrowe-staging/pull/19 is merged at sha 23295361d91f7afa8c725547c87af7775c5c66ea
Pull Request merged but we are not waiting for the update pipeline to complete!
WARNING: Could not find the service URL in namespace **-staging for names api-gateway, **-api-gateway, **-staging-api-gateway
